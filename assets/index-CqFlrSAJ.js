function NL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function gE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cv={exports:{}},wd={},dv={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function DL(){if(FS)return $e;FS=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function b(q,ie,Te){this.props=q,this.context=ie,this.refs=R,this.updater=Te||T}b.prototype.isReactComponent={},b.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=b.prototype;function V(q,ie,Te){this.props=q,this.context=ie,this.refs=R,this.updater=Te||T}var F=V.prototype=new M;F.constructor=V,I(F,b.prototype),F.isPureReactComponent=!0;var B=Array.isArray,$=Object.prototype.hasOwnProperty,W={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function A(q,ie,Te){var ke,Ve={},je=null,Qe=null;if(ie!=null)for(ke in ie.ref!==void 0&&(Qe=ie.ref),ie.key!==void 0&&(je=""+ie.key),ie)$.call(ie,ke)&&!L.hasOwnProperty(ke)&&(Ve[ke]=ie[ke]);var qe=arguments.length-2;if(qe===1)Ve.children=Te;else if(1<qe){for(var rt=Array(qe),vt=0;vt<qe;vt++)rt[vt]=arguments[vt+2];Ve.children=rt}if(q&&q.defaultProps)for(ke in qe=q.defaultProps,qe)Ve[ke]===void 0&&(Ve[ke]=qe[ke]);return{$$typeof:n,type:q,key:je,ref:Qe,props:Ve,_owner:W.current}}function C(q,ie){return{$$typeof:n,type:q.type,key:ie,ref:q.ref,props:q.props,_owner:q._owner}}function E(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function x(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function O(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?x(""+q.key):ie.toString(36)}function X(q,ie,Te,ke,Ve){var je=typeof q;(je==="undefined"||je==="boolean")&&(q=null);var Qe=!1;if(q===null)Qe=!0;else switch(je){case"string":case"number":Qe=!0;break;case"object":switch(q.$$typeof){case n:case e:Qe=!0}}if(Qe)return Qe=q,Ve=Ve(Qe),q=ke===""?"."+O(Qe,0):ke,B(Ve)?(Te="",q!=null&&(Te=q.replace(k,"$&/")+"/"),X(Ve,ie,Te,"",function(vt){return vt})):Ve!=null&&(E(Ve)&&(Ve=C(Ve,Te+(!Ve.key||Qe&&Qe.key===Ve.key?"":(""+Ve.key).replace(k,"$&/")+"/")+q)),ie.push(Ve)),1;if(Qe=0,ke=ke===""?".":ke+":",B(q))for(var qe=0;qe<q.length;qe++){je=q[qe];var rt=ke+O(je,qe);Qe+=X(je,ie,Te,rt,Ve)}else if(rt=_(q),typeof rt=="function")for(q=rt.call(q),qe=0;!(je=q.next()).done;)je=je.value,rt=ke+O(je,qe++),Qe+=X(je,ie,Te,rt,Ve);else if(je==="object")throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Qe}function U(q,ie,Te){if(q==null)return q;var ke=[],Ve=0;return X(q,ke,"","",function(je){return ie.call(Te,je,Ve++)}),ke}function me(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(Te){(q._status===0||q._status===-1)&&(q._status=1,q._result=Te)},function(Te){(q._status===0||q._status===-1)&&(q._status=2,q._result=Te)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},Z={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:W};function de(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:U,forEach:function(q,ie,Te){U(q,function(){ie.apply(this,arguments)},Te)},count:function(q){var ie=0;return U(q,function(){ie++}),ie},toArray:function(q){return U(q,function(ie){return ie})||[]},only:function(q){if(!E(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},$e.Component=b,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=V,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,$e.act=de,$e.cloneElement=function(q,ie,Te){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ke=I({},q.props),Ve=q.key,je=q.ref,Qe=q._owner;if(ie!=null){if(ie.ref!==void 0&&(je=ie.ref,Qe=W.current),ie.key!==void 0&&(Ve=""+ie.key),q.type&&q.type.defaultProps)var qe=q.type.defaultProps;for(rt in ie)$.call(ie,rt)&&!L.hasOwnProperty(rt)&&(ke[rt]=ie[rt]===void 0&&qe!==void 0?qe[rt]:ie[rt])}var rt=arguments.length-2;if(rt===1)ke.children=Te;else if(1<rt){qe=Array(rt);for(var vt=0;vt<rt;vt++)qe[vt]=arguments[vt+2];ke.children=qe}return{$$typeof:n,type:q.type,key:Ve,ref:je,props:ke,_owner:Qe}},$e.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},$e.createElement=A,$e.createFactory=function(q){var ie=A.bind(null,q);return ie.type=q,ie},$e.createRef=function(){return{current:null}},$e.forwardRef=function(q){return{$$typeof:u,render:q}},$e.isValidElement=E,$e.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:me}},$e.memo=function(q,ie){return{$$typeof:h,type:q,compare:ie===void 0?null:ie}},$e.startTransition=function(q){var ie=Z.transition;Z.transition={};try{q()}finally{Z.transition=ie}},$e.unstable_act=de,$e.useCallback=function(q,ie){return oe.current.useCallback(q,ie)},$e.useContext=function(q){return oe.current.useContext(q)},$e.useDebugValue=function(){},$e.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},$e.useEffect=function(q,ie){return oe.current.useEffect(q,ie)},$e.useId=function(){return oe.current.useId()},$e.useImperativeHandle=function(q,ie,Te){return oe.current.useImperativeHandle(q,ie,Te)},$e.useInsertionEffect=function(q,ie){return oe.current.useInsertionEffect(q,ie)},$e.useLayoutEffect=function(q,ie){return oe.current.useLayoutEffect(q,ie)},$e.useMemo=function(q,ie){return oe.current.useMemo(q,ie)},$e.useReducer=function(q,ie,Te){return oe.current.useReducer(q,ie,Te)},$e.useRef=function(q){return oe.current.useRef(q)},$e.useState=function(q){return oe.current.useState(q)},$e.useSyncExternalStore=function(q,ie,Te){return oe.current.useSyncExternalStore(q,ie,Te)},$e.useTransition=function(){return oe.current.useTransition()},$e.version="18.3.1",$e}var US;function Ho(){return US||(US=1,dv.exports=DL()),dv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function LL(){if(jS)return wd;jS=1;var n=Ho(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,T=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return wd.Fragment=t,wd.jsx=l,wd.jsxs=l,wd}var $S;function VL(){return $S||($S=1,cv.exports=LL()),cv.exports}var N=VL(),K=Ho();const Ke=gE(K),ew=NL({__proto__:null,default:Ke},[K]);var Bp={},hv={exports:{}},er={},fv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function ML(){return BS||(BS=1,function(n){function e(Z,pe){var de=Z.length;Z.push(pe);e:for(;0<de;){var q=de-1>>>1,ie=Z[q];if(0<i(ie,pe))Z[q]=pe,Z[de]=ie,de=q;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var pe=Z[0],de=Z.pop();if(de!==pe){Z[0]=de;e:for(var q=0,ie=Z.length,Te=ie>>>1;q<Te;){var ke=2*(q+1)-1,Ve=Z[ke],je=ke+1,Qe=Z[je];if(0>i(Ve,de))je<ie&&0>i(Qe,Ve)?(Z[q]=Qe,Z[je]=de,q=je):(Z[q]=Ve,Z[ke]=de,q=ke);else if(je<ie&&0>i(Qe,de))Z[q]=Qe,Z[je]=de,q=je;else break e}}return pe}function i(Z,pe){var de=Z.sortIndex-pe.sortIndex;return de!==0?de:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,T=!1,I=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Z){for(var pe=t(h);pe!==null;){if(pe.callback===null)r(h);else if(pe.startTime<=Z)r(h),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(h)}}function B(Z){if(R=!1,F(Z),!I)if(t(d)!==null)I=!0,me($);else{var pe=t(h);pe!==null&&oe(B,pe.startTime-Z)}}function $(Z,pe){I=!1,R&&(R=!1,M(A),A=-1),T=!0;var de=_;try{for(F(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||Z&&!x());){var q=g.callback;if(typeof q=="function"){g.callback=null,_=g.priorityLevel;var ie=q(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),F(pe)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var ke=t(h);ke!==null&&oe(B,ke.startTime-pe),Te=!1}return Te}finally{g=null,_=de,T=!1}}var W=!1,L=null,A=-1,C=5,E=-1;function x(){return!(n.unstable_now()-E<C)}function k(){if(L!==null){var Z=n.unstable_now();E=Z;var pe=!0;try{pe=L(!0,Z)}finally{pe?O():(W=!1,L=null)}}else W=!1}var O;if(typeof V=="function")O=function(){V(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,U=X.port2;X.port1.onmessage=k,O=function(){U.postMessage(null)}}else O=function(){b(k,0)};function me(Z){L=Z,W||(W=!0,O())}function oe(Z,pe){A=b(function(){Z(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,me($))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var de=_;_=pe;try{return Z()}finally{_=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=_;_=Z;try{return pe()}finally{_=de}},n.unstable_scheduleCallback=function(Z,pe,de){var q=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?q+de:q):de=q,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=de+ie,Z={id:m++,callback:pe,priorityLevel:Z,startTime:de,expirationTime:ie,sortIndex:-1},de>q?(Z.sortIndex=de,e(h,Z),t(d)===null&&Z===t(h)&&(R?(M(A),A=-1):R=!0,oe(B,de-q))):(Z.sortIndex=ie,e(d,Z),I||T||(I=!0,me($))),Z},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(Z){var pe=_;return function(){var de=_;_=pe;try{return Z.apply(this,arguments)}finally{_=de}}}}(pv)),pv}var zS;function FL(){return zS||(zS=1,fv.exports=ML()),fv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function UL(){if(WS)return er;WS=1;var n=Ho(),e=FL();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function T(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,a,c,p){if(a===null||typeof a>"u"||T(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(o,a,c,p,y,w,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=w,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];b[a]=new R(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(M,V);b[a]=new R(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(M,V);b[a]=new R(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(M,V);b[a]=new R(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function F(o,a,c,p){var y=b.hasOwnProperty(a)?b[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),W=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var de=Object.assign,q;function ie(o){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+o}var Te=!1;function ke(o,a){if(!o||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){p=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}o()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,j=w.length-1;1<=P&&0<=j&&y[P]!==w[j];)j--;for(;1<=P&&0<=j;P--,j--)if(y[P]!==w[j]){if(P!==1||j!==1)do if(P--,j--,0>j||y[P]!==w[j]){var z=`
`+y[P].replace(" at new "," at ");return o.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",o.displayName)),z}while(1<=P&&0<=j);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function Ve(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=ke(o.type,!1),o;case 11:return o=ke(o.type.render,!1),o;case 1:return o=ke(o.type,!0),o;default:return""}}function je(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case L:return"Fragment";case W:return"Portal";case C:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case X:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case E:return(o._context.displayName||"Context")+".Provider";case k:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return a=o.displayName||null,a!==null?a:je(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return je(o(a))}catch{}}return null}function Qe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function rt(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vt(o){var a=rt(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function un(o){o._valueTracker||(o._valueTracker=vt(o))}function it(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=rt(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function mt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function en(o,a){var c=a.checked;return de({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Kr(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=qe(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Pr(o,a){a=a.checked,a!=null&&F(o,"checked",a,!1)}function Cr(o,a){Pr(o,a);var c=qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Hn(o,a.type,c):a.hasOwnProperty("defaultValue")&&Hn(o,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function qn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Hn(o,a,c){(a!=="number"||mt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var lr=Array.isArray;function ns(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+qe(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function Pc(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function pl(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(lr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:qe(c)}}function ml(o,a){var c=qe(a.value),p=qe(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function Cc(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function tn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?tn(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var rs,kc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=rs.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function qs(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ra=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(o){ra.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),na[a]=na[o]})});function xc(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||na.hasOwnProperty(o)&&na[o]?(""+a).trim():a+"px"}function Oc(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=xc(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var Nc=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(o,a){if(a){if(Nc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Lc(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function gl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yl=null,kr=null,yi=null;function _l(o){if(o=sd(o)){if(typeof yl!="function")throw Error(t(280));var a=o.stateNode;a&&(a=rp(a),yl(o.stateNode,o.type,a))}}function _i(o){kr?yi?yi.push(o):yi=[o]:kr=o}function Vc(){if(kr){var o=kr,a=yi;if(yi=kr=null,_l(o),a)for(o=0;o<a.length;o++)_l(a[o])}}function sa(o,a){return o(a)}function Mc(){}var is=!1;function Fc(o,a,c){if(is)return o(a,c);is=!0;try{return sa(o,a,c)}finally{is=!1,(kr!==null||yi!==null)&&(Mc(),Vc())}}function jt(o,a){var c=o.stateNode;if(c===null)return null;var p=rp(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var vl=!1;if(u)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){vl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{vl=!1}function oa(o,a,c,p,y,w,P,j,z){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(ce){this.onError(ce)}}var aa=!1,wl=null,Qr=!1,Uc=null,Fy={onError:function(o){aa=!0,wl=o}};function El(o,a,c,p,y,w,P,j,z){aa=!1,wl=null,oa.apply(Fy,arguments)}function Pf(o,a,c,p,y,w,P,j,z){if(El.apply(this,arguments),aa){if(aa){var ee=wl;aa=!1,wl=null}else throw Error(t(198));Qr||(Qr=!0,Uc=ee)}}function Yr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function la(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Jr(o){if(Yr(o)!==o)throw Error(t(188))}function Cf(o){var a=o.alternate;if(!a){if(a=Yr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Jr(y),o;if(w===p)return Jr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,j=y.child;j;){if(j===c){P=!0,c=y,p=w;break}if(j===p){P=!0,p=y,c=w;break}j=j.sibling}if(!P){for(j=w.child;j;){if(j===c){P=!0,c=w,p=y;break}if(j===p){P=!0,p=w,c=y;break}j=j.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function jc(o){return o=Cf(o),o!==null?Il(o):null}function Il(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Il(o);if(a!==null)return a;o=o.sibling}return null}var Tl=e.unstable_scheduleCallback,$c=e.unstable_cancelCallback,kf=e.unstable_shouldYield,Uy=e.unstable_requestPaint,ht=e.unstable_now,xf=e.unstable_getCurrentPriorityLevel,ua=e.unstable_ImmediatePriority,Hs=e.unstable_UserBlockingPriority,xr=e.unstable_NormalPriority,Bc=e.unstable_LowPriority,Of=e.unstable_IdlePriority,ca=null,ur=null;function Nf(o){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(ca,o,void 0,(o.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Lf,zc=Math.log,Df=Math.LN2;function Lf(o){return o>>>=0,o===0?32:31-(zc(o)/Df|0)|0}var Sl=64,Rl=4194304;function Ks(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function da(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,P=c&268435455;if(P!==0){var j=P&~y;j!==0?p=Ks(j):(w&=P,w!==0&&(p=Ks(w)))}else P=c&~y,P!==0?p=Ks(P):w!==0&&(p=Ks(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-Mn(a),y=1<<c,p|=o[c],a&=~y;return p}function jy(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var P=31-Mn(w),j=1<<P,z=y[P];z===-1?((j&c)===0||(j&p)!==0)&&(y[P]=jy(j,a)):z<=a&&(o.expiredLanes|=j),w&=~j}}function cr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ha(){var o=Sl;return Sl<<=1,(Sl&4194240)===0&&(Sl=64),o}function Gs(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Qs(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Mn(a),o[a]=c}function ut(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Mn(c),w=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function Ys(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-Mn(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var He=0;function Js(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Vf,Al,Mf,Ff,Uf,Wc=!1,vi=[],_n=null,Xr=null,Zr=null,Xs=new Map,Or=new Map,wi=[],$y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jf(o,a){switch(o){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Xs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(a.pointerId)}}function Kn(o,a,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=sd(a),a!==null&&Al(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function By(o,a,c,p,y){switch(a){case"focusin":return _n=Kn(_n,o,a,c,p,y),!0;case"dragenter":return Xr=Kn(Xr,o,a,c,p,y),!0;case"mouseover":return Zr=Kn(Zr,o,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Xs.set(w,Kn(Xs.get(w)||null,o,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Or.set(w,Kn(Or.get(w)||null,o,a,c,p,y)),!0}return!1}function $f(o){var a=ya(o.target);if(a!==null){var c=Yr(a);if(c!==null){if(a=c.tag,a===13){if(a=la(c),a!==null){o.blockedOn=a,Uf(o.priority,function(){Mf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function os(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=bl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);ia=p,c.target.dispatchEvent(p),ia=null}else return a=sd(c),a!==null&&Al(a),o.blockedOn=c,!1;a.shift()}return!0}function fa(o,a,c){os(o)&&c.delete(a)}function Bf(){Wc=!1,_n!==null&&os(_n)&&(_n=null),Xr!==null&&os(Xr)&&(Xr=null),Zr!==null&&os(Zr)&&(Zr=null),Xs.forEach(fa),Or.forEach(fa)}function ei(o,a){o.blockedOn===a&&(o.blockedOn=null,Wc||(Wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bf)))}function ti(o){function a(y){return ei(y,o)}if(0<vi.length){ei(vi[0],o);for(var c=1;c<vi.length;c++){var p=vi[c];p.blockedOn===o&&(p.blockedOn=null)}}for(_n!==null&&ei(_n,o),Xr!==null&&ei(Xr,o),Zr!==null&&ei(Zr,o),Xs.forEach(a),Or.forEach(a),c=0;c<wi.length;c++)p=wi[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<wi.length&&(c=wi[0],c.blockedOn===null);)$f(c),c.blockedOn===null&&wi.shift()}var as=B.ReactCurrentBatchConfig,Zs=!0;function wt(o,a,c,p){var y=He,w=as.transition;as.transition=null;try{He=1,qc(o,a,c,p)}finally{He=y,as.transition=w}}function zy(o,a,c,p){var y=He,w=as.transition;as.transition=null;try{He=4,qc(o,a,c,p)}finally{He=y,as.transition=w}}function qc(o,a,c,p){if(Zs){var y=bl(o,a,c,p);if(y===null)e_(o,a,p,pa,c),jf(o,p);else if(By(y,o,a,c,p))p.stopPropagation();else if(jf(o,p),a&4&&-1<$y.indexOf(o)){for(;y!==null;){var w=sd(y);if(w!==null&&Vf(w),w=bl(o,a,c,p),w===null&&e_(o,a,p,pa,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else e_(o,a,p,null,c)}}var pa=null;function bl(o,a,c,p){if(pa=null,o=gl(p),o=ya(o),o!==null)if(a=Yr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=la(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return pa=o,null}function Hc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xf()){case ua:return 1;case Hs:return 4;case xr:case Bc:return 16;case Of:return 536870912;default:return 16}default:return 16}}var dr=null,Pl=null,Gn=null;function Kc(){if(Gn)return Gn;var o,a=Pl,c=a.length,p,y="value"in dr?dr.value:dr.textContent,w=y.length;for(o=0;o<c&&a[o]===y[o];o++);var P=c-o;for(p=1;p<=P&&a[c-p]===y[w-p];p++);return Gn=y.slice(o,1<p?1-p:void 0)}function Cl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ei(){return!0}function Gc(){return!1}function vn(o){function a(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var j in o)o.hasOwnProperty(j)&&(c=o[j],this[j]=c?c(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ei:Gc,this.isPropagationStopped=Gc,this}return de(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=vn(ni),Ii=de({},ni,{view:0,detail:0}),Wy=vn(Ii),xl,ls,eo,ma=de({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==eo&&(eo&&o.type==="mousemove"?(xl=o.screenX-eo.screenX,ls=o.screenY-eo.screenY):ls=xl=0,eo=o),xl)},movementY:function(o){return"movementY"in o?o.movementY:ls}}),Ol=vn(ma),Qc=de({},ma,{dataTransfer:0}),zf=vn(Qc),Nl=de({},Ii,{relatedTarget:0}),Dl=vn(Nl),Wf=de({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),us=vn(Wf),qf=de({},ni,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hf=vn(qf),Kf=de({},ni,{data:0}),Yc=vn(Kf),Ll={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Gf[o])?!!a[o]:!1}function Ti(){return Qf}var f=de({},Ii,{key:function(o){if(o.key){var a=Ll[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Cl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Fn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(o){return o.type==="keypress"?Cl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=vn(f),S=de({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=vn(S),Q=de({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),ne=vn(Q),ye=de({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=vn(ye),rn=de({},ma,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=vn(rn),cn=[9,13,27,32],Ht=u&&"CompositionEvent"in window,Nr=null;u&&"documentMode"in document&&(Nr=document.documentMode);var hr=u&&"TextEvent"in window&&!Nr,ga=u&&(!Ht||Nr&&8<Nr&&11>=Nr),Vl=" ",OI=!1;function NI(o,a){switch(o){case"keyup":return cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DI(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ml=!1;function kD(o,a){switch(o){case"compositionend":return DI(a);case"keypress":return a.which!==32?null:(OI=!0,Vl);case"textInput":return o=a.data,o===Vl&&OI?null:o;default:return null}}function xD(o,a){if(Ml)return o==="compositionend"||!Ht&&NI(o,a)?(o=Kc(),Gn=Pl=dr=null,Ml=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ga&&a.locale!=="ko"?null:a.data;default:return null}}var OD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LI(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!OD[o.type]:a==="textarea"}function VI(o,a,c,p){_i(p),a=ep(a,"onChange"),0<a.length&&(c=new kl("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var Jc=null,Xc=null;function ND(o){eT(o,0)}function Yf(o){var a=Bl(o);if(it(a))return o}function DD(o,a){if(o==="change")return a}var MI=!1;if(u){var qy;if(u){var Hy="oninput"in document;if(!Hy){var FI=document.createElement("div");FI.setAttribute("oninput","return;"),Hy=typeof FI.oninput=="function"}qy=Hy}else qy=!1;MI=qy&&(!document.documentMode||9<document.documentMode)}function UI(){Jc&&(Jc.detachEvent("onpropertychange",jI),Xc=Jc=null)}function jI(o){if(o.propertyName==="value"&&Yf(Xc)){var a=[];VI(a,Xc,o,gl(o)),Fc(ND,a)}}function LD(o,a,c){o==="focusin"?(UI(),Jc=a,Xc=c,Jc.attachEvent("onpropertychange",jI)):o==="focusout"&&UI()}function VD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yf(Xc)}function MD(o,a){if(o==="click")return Yf(a)}function FD(o,a){if(o==="input"||o==="change")return Yf(a)}function UD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var ri=typeof Object.is=="function"?Object.is:UD;function Zc(o,a){if(ri(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!ri(o[y],a[y]))return!1}return!0}function $I(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function BI(o,a){var c=$I(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=$I(c)}}function zI(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?zI(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function WI(){for(var o=window,a=mt();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=mt(o.document)}return a}function Ky(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function jD(o){var a=WI(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&zI(c.ownerDocument.documentElement,c)){if(p!==null&&Ky(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=BI(c,w);var P=BI(c,p);y&&P&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var $D=u&&"documentMode"in document&&11>=document.documentMode,Fl=null,Gy=null,ed=null,Qy=!1;function qI(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qy||Fl==null||Fl!==mt(p)||(p=Fl,"selectionStart"in p&&Ky(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ed&&Zc(ed,p)||(ed=p,p=ep(Gy,"onSelect"),0<p.length&&(a=new kl("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=Fl)))}function Jf(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Ul={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},Yy={},HI={};u&&(HI=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Xf(o){if(Yy[o])return Yy[o];if(!Ul[o])return o;var a=Ul[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in HI)return Yy[o]=a[c];return o}var KI=Xf("animationend"),GI=Xf("animationiteration"),QI=Xf("animationstart"),YI=Xf("transitionend"),JI=new Map,XI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(o,a){JI.set(o,a),s(a,[o])}for(var Jy=0;Jy<XI.length;Jy++){var Xy=XI[Jy],BD=Xy.toLowerCase(),zD=Xy[0].toUpperCase()+Xy.slice(1);to(BD,"on"+zD)}to(KI,"onAnimationEnd"),to(GI,"onAnimationIteration"),to(QI,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(YI,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WD=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function ZI(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Pf(p,a,void 0,o),o.currentTarget=null}function eT(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var P=p.length-1;0<=P;P--){var j=p[P],z=j.instance,ee=j.currentTarget;if(j=j.listener,z!==w&&y.isPropagationStopped())break e;ZI(y,j,ee),w=z}else for(P=0;P<p.length;P++){if(j=p[P],z=j.instance,ee=j.currentTarget,j=j.listener,z!==w&&y.isPropagationStopped())break e;ZI(y,j,ee),w=z}}}if(Qr)throw o=Uc,Qr=!1,Uc=null,o}function gt(o,a){var c=a[o_];c===void 0&&(c=a[o_]=new Set);var p=o+"__bubble";c.has(p)||(tT(a,o,2,!1),c.add(p))}function Zy(o,a,c){var p=0;a&&(p|=4),tT(c,o,p,a)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function nd(o){if(!o[Zf]){o[Zf]=!0,r.forEach(function(c){c!=="selectionchange"&&(WD.has(c)||Zy(c,!1,o),Zy(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Zf]||(a[Zf]=!0,Zy("selectionchange",!1,a))}}function tT(o,a,c,p){switch(Hc(a)){case 1:var y=wt;break;case 4:y=zy;break;default:y=qc}c=y.bind(null,a,c,o),y=void 0,!vl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function e_(o,a,c,p,y){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var j=p.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var z=P.tag;if((z===3||z===4)&&(z=P.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;P=P.return}for(;j!==null;){if(P=ya(j),P===null)return;if(z=P.tag,z===5||z===6){p=w=P;continue e}j=j.parentNode}}p=p.return}Fc(function(){var ee=w,ce=gl(c),he=[];e:{var le=JI.get(o);if(le!==void 0){var we=kl,Se=o;switch(o){case"keypress":if(Cl(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=Dl;break;case"focusout":Se="blur",we=Dl;break;case"beforeblur":case"afterblur":we=Dl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case KI:case GI:case QI:we=us;break;case YI:we=st;break;case"scroll":we=Wy;break;case"wheel":we=Ye;break;case"copy":case"cut":case"paste":we=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=D}var Ae=(a&4)!==0,$t=!Ae&&o==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var H=ee,J;H!==null;){J=H;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=jt(H,Y),ge!=null&&Ae.push(rd(H,ge,J)))),$t)break;H=H.return}0<Ae.length&&(le=new we(le,Se,null,c,ce),he.push({event:le,listeners:Ae}))}}if((a&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",we=o==="mouseout"||o==="pointerout",le&&c!==ia&&(Se=c.relatedTarget||c.fromElement)&&(ya(Se)||Se[cs]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=ee,Se=Se?ya(Se):null,Se!==null&&($t=Yr(Se),Se!==$t||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=ee),we!==Se)){if(Ae=Ol,ge="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=D,ge="onPointerLeave",Y="onPointerEnter",H="pointer"),$t=we==null?le:Bl(we),J=Se==null?le:Bl(Se),le=new Ae(ge,H+"leave",we,c,ce),le.target=$t,le.relatedTarget=J,ge=null,ya(ce)===ee&&(Ae=new Ae(Y,H+"enter",Se,c,ce),Ae.target=J,Ae.relatedTarget=$t,ge=Ae),$t=ge,we&&Se)t:{for(Ae=we,Y=Se,H=0,J=Ae;J;J=jl(J))H++;for(J=0,ge=Y;ge;ge=jl(ge))J++;for(;0<H-J;)Ae=jl(Ae),H--;for(;0<J-H;)Y=jl(Y),J--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=jl(Ae),Y=jl(Y)}Ae=null}else Ae=null;we!==null&&nT(he,le,we,Ae,!1),Se!==null&&$t!==null&&nT(he,$t,Se,Ae,!0)}}e:{if(le=ee?Bl(ee):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var be=DD;else if(LI(le))if(MI)be=FD;else{be=VD;var xe=LD}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(be=MD);if(be&&(be=be(o,ee))){VI(he,be,c,ce);break e}xe&&xe(o,le,ee),o==="focusout"&&(xe=le._wrapperState)&&xe.controlled&&le.type==="number"&&Hn(le,"number",le.value)}switch(xe=ee?Bl(ee):window,o){case"focusin":(LI(xe)||xe.contentEditable==="true")&&(Fl=xe,Gy=ee,ed=null);break;case"focusout":ed=Gy=Fl=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,qI(he,c,ce);break;case"selectionchange":if($D)break;case"keydown":case"keyup":qI(he,c,ce)}var Oe;if(Ht)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ml?NI(o,c)&&(De="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(ga&&c.locale!=="ko"&&(Ml||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ml&&(Oe=Kc()):(dr=ce,Pl="value"in dr?dr.value:dr.textContent,Ml=!0)),xe=ep(ee,De),0<xe.length&&(De=new Yc(De,o,null,c,ce),he.push({event:De,listeners:xe}),Oe?De.data=Oe:(Oe=DI(c),Oe!==null&&(De.data=Oe)))),(Oe=hr?kD(o,c):xD(o,c))&&(ee=ep(ee,"onBeforeInput"),0<ee.length&&(ce=new Yc("onBeforeInput","beforeinput",null,c,ce),he.push({event:ce,listeners:ee}),ce.data=Oe))}eT(he,a)})}function rd(o,a,c){return{instance:o,listener:a,currentTarget:c}}function ep(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=jt(o,c),w!=null&&p.unshift(rd(o,w,y)),w=jt(o,a),w!=null&&p.push(rd(o,w,y))),o=o.return}return p}function jl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function nT(o,a,c,p,y){for(var w=a._reactName,P=[];c!==null&&c!==p;){var j=c,z=j.alternate,ee=j.stateNode;if(z!==null&&z===p)break;j.tag===5&&ee!==null&&(j=ee,y?(z=jt(c,w),z!=null&&P.unshift(rd(c,z,j))):y||(z=jt(c,w),z!=null&&P.push(rd(c,z,j)))),c=c.return}P.length!==0&&o.push({event:a,listeners:P})}var qD=/\r\n?/g,HD=/\u0000|\uFFFD/g;function rT(o){return(typeof o=="string"?o:""+o).replace(qD,`
`).replace(HD,"")}function tp(o,a,c){if(a=rT(a),rT(o)!==a&&c)throw Error(t(425))}function np(){}var t_=null,n_=null;function r_(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var i_=typeof setTimeout=="function"?setTimeout:void 0,KD=typeof clearTimeout=="function"?clearTimeout:void 0,iT=typeof Promise=="function"?Promise:void 0,GD=typeof queueMicrotask=="function"?queueMicrotask:typeof iT<"u"?function(o){return iT.resolve(null).then(o).catch(QD)}:i_;function QD(o){setTimeout(function(){throw o})}function s_(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),ti(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);ti(a)}function no(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function sT(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var $l=Math.random().toString(36).slice(2),Si="__reactFiber$"+$l,id="__reactProps$"+$l,cs="__reactContainer$"+$l,o_="__reactEvents$"+$l,YD="__reactListeners$"+$l,JD="__reactHandles$"+$l;function ya(o){var a=o[Si];if(a)return a;for(var c=o.parentNode;c;){if(a=c[cs]||c[Si]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=sT(o);o!==null;){if(c=o[Si])return c;o=sT(o)}return a}o=c,c=o.parentNode}return null}function sd(o){return o=o[Si]||o[cs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Bl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function rp(o){return o[id]||null}var a_=[],zl=-1;function ro(o){return{current:o}}function yt(o){0>zl||(o.current=a_[zl],a_[zl]=null,zl--)}function ft(o,a){zl++,a_[zl]=o.current,o.current=a}var io={},bn=ro(io),Qn=ro(!1),_a=io;function Wl(o,a){var c=o.type.contextTypes;if(!c)return io;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Yn(o){return o=o.childContextTypes,o!=null}function ip(){yt(Qn),yt(bn)}function oT(o,a,c){if(bn.current!==io)throw Error(t(168));ft(bn,a),ft(Qn,c)}function aT(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Qe(o)||"Unknown",y));return de({},c,p)}function sp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||io,_a=bn.current,ft(bn,o),ft(Qn,Qn.current),!0}function lT(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=aT(o,a,_a),p.__reactInternalMemoizedMergedChildContext=o,yt(Qn),yt(bn),ft(bn,o)):yt(Qn),ft(Qn,c)}var ds=null,op=!1,l_=!1;function uT(o){ds===null?ds=[o]:ds.push(o)}function XD(o){op=!0,uT(o)}function so(){if(!l_&&ds!==null){l_=!0;var o=0,a=He;try{var c=ds;for(He=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}ds=null,op=!1}catch(y){throw ds!==null&&(ds=ds.slice(o+1)),Tl(ua,so),y}finally{He=a,l_=!1}}return null}var ql=[],Hl=0,ap=null,lp=0,Dr=[],Lr=0,va=null,hs=1,fs="";function wa(o,a){ql[Hl++]=lp,ql[Hl++]=ap,ap=o,lp=a}function cT(o,a,c){Dr[Lr++]=hs,Dr[Lr++]=fs,Dr[Lr++]=va,va=o;var p=hs;o=fs;var y=32-Mn(p)-1;p&=~(1<<y),c+=1;var w=32-Mn(a)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,hs=1<<32-Mn(a)+y|c<<y|p,fs=w+o}else hs=1<<w|c<<y|p,fs=o}function u_(o){o.return!==null&&(wa(o,1),cT(o,1,0))}function c_(o){for(;o===ap;)ap=ql[--Hl],ql[Hl]=null,lp=ql[--Hl],ql[Hl]=null;for(;o===va;)va=Dr[--Lr],Dr[Lr]=null,fs=Dr[--Lr],Dr[Lr]=null,hs=Dr[--Lr],Dr[Lr]=null}var fr=null,pr=null,Et=!1,ii=null;function dT(o,a){var c=Ur(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function hT(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,fr=o,pr=no(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,fr=o,pr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=va!==null?{id:hs,overflow:fs}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ur(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,fr=o,pr=null,!0):!1;default:return!1}}function d_(o){return(o.mode&1)!==0&&(o.flags&128)===0}function h_(o){if(Et){var a=pr;if(a){var c=a;if(!hT(o,a)){if(d_(o))throw Error(t(418));a=no(c.nextSibling);var p=fr;a&&hT(o,a)?dT(p,c):(o.flags=o.flags&-4097|2,Et=!1,fr=o)}}else{if(d_(o))throw Error(t(418));o.flags=o.flags&-4097|2,Et=!1,fr=o}}}function fT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;fr=o}function up(o){if(o!==fr)return!1;if(!Et)return fT(o),Et=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!r_(o.type,o.memoizedProps)),a&&(a=pr)){if(d_(o))throw pT(),Error(t(418));for(;a;)dT(o,a),a=no(a.nextSibling)}if(fT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){pr=no(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}pr=null}}else pr=fr?no(o.stateNode.nextSibling):null;return!0}function pT(){for(var o=pr;o;)o=no(o.nextSibling)}function Kl(){pr=fr=null,Et=!1}function f_(o){ii===null?ii=[o]:ii.push(o)}var ZD=B.ReactCurrentBatchConfig;function od(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(P){var j=y.refs;P===null?delete j[w]:j[w]=P},a._stringRef=w,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function cp(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function mT(o){var a=o._init;return a(o._payload)}function gT(o){function a(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function c(Y,H){if(!o)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function y(Y,H){return Y=po(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function P(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,H,J,ge){return H===null||H.tag!==6?(H=iv(J,Y.mode,ge),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function z(Y,H,J,ge){var be=J.type;return be===L?ce(Y,H,J.props.children,ge,J.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===me&&mT(be)===H.type)?(ge=y(H,J.props),ge.ref=od(Y,H,J),ge.return=Y,ge):(ge=Dp(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=od(Y,H,J),ge.return=Y,ge)}function ee(Y,H,J,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=sv(J,Y.mode,ge),H.return=Y,H):(H=y(H,J.children||[]),H.return=Y,H)}function ce(Y,H,J,ge,be){return H===null||H.tag!==7?(H=Pa(J,Y.mode,ge,be),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function he(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=iv(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case $:return J=Dp(H.type,H.key,H.props,null,Y.mode,J),J.ref=od(Y,null,H),J.return=Y,J;case W:return H=sv(H,Y.mode,J),H.return=Y,H;case me:var ge=H._init;return he(Y,ge(H._payload),J)}if(lr(H)||pe(H))return H=Pa(H,Y.mode,J,null),H.return=Y,H;cp(Y,H)}return null}function le(Y,H,J,ge){var be=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:j(Y,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===be?z(Y,H,J,ge):null;case W:return J.key===be?ee(Y,H,J,ge):null;case me:return be=J._init,le(Y,H,be(J._payload),ge)}if(lr(J)||pe(J))return be!==null?null:ce(Y,H,J,ge,null);cp(Y,J)}return null}function we(Y,H,J,ge,be){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,j(H,Y,""+ge,be);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case $:return Y=Y.get(ge.key===null?J:ge.key)||null,z(H,Y,ge,be);case W:return Y=Y.get(ge.key===null?J:ge.key)||null,ee(H,Y,ge,be);case me:var xe=ge._init;return we(Y,H,J,xe(ge._payload),be)}if(lr(ge)||pe(ge))return Y=Y.get(J)||null,ce(H,Y,ge,be,null);cp(H,ge)}return null}function Se(Y,H,J,ge){for(var be=null,xe=null,Oe=H,De=H=0,fn=null;Oe!==null&&De<J.length;De++){Oe.index>De?(fn=Oe,Oe=null):fn=Oe.sibling;var Ze=le(Y,Oe,J[De],ge);if(Ze===null){Oe===null&&(Oe=fn);break}o&&Oe&&Ze.alternate===null&&a(Y,Oe),H=w(Ze,H,De),xe===null?be=Ze:xe.sibling=Ze,xe=Ze,Oe=fn}if(De===J.length)return c(Y,Oe),Et&&wa(Y,De),be;if(Oe===null){for(;De<J.length;De++)Oe=he(Y,J[De],ge),Oe!==null&&(H=w(Oe,H,De),xe===null?be=Oe:xe.sibling=Oe,xe=Oe);return Et&&wa(Y,De),be}for(Oe=p(Y,Oe);De<J.length;De++)fn=we(Oe,Y,De,J[De],ge),fn!==null&&(o&&fn.alternate!==null&&Oe.delete(fn.key===null?De:fn.key),H=w(fn,H,De),xe===null?be=fn:xe.sibling=fn,xe=fn);return o&&Oe.forEach(function(mo){return a(Y,mo)}),Et&&wa(Y,De),be}function Ae(Y,H,J,ge){var be=pe(J);if(typeof be!="function")throw Error(t(150));if(J=be.call(J),J==null)throw Error(t(151));for(var xe=be=null,Oe=H,De=H=0,fn=null,Ze=J.next();Oe!==null&&!Ze.done;De++,Ze=J.next()){Oe.index>De?(fn=Oe,Oe=null):fn=Oe.sibling;var mo=le(Y,Oe,Ze.value,ge);if(mo===null){Oe===null&&(Oe=fn);break}o&&Oe&&mo.alternate===null&&a(Y,Oe),H=w(mo,H,De),xe===null?be=mo:xe.sibling=mo,xe=mo,Oe=fn}if(Ze.done)return c(Y,Oe),Et&&wa(Y,De),be;if(Oe===null){for(;!Ze.done;De++,Ze=J.next())Ze=he(Y,Ze.value,ge),Ze!==null&&(H=w(Ze,H,De),xe===null?be=Ze:xe.sibling=Ze,xe=Ze);return Et&&wa(Y,De),be}for(Oe=p(Y,Oe);!Ze.done;De++,Ze=J.next())Ze=we(Oe,Y,De,Ze.value,ge),Ze!==null&&(o&&Ze.alternate!==null&&Oe.delete(Ze.key===null?De:Ze.key),H=w(Ze,H,De),xe===null?be=Ze:xe.sibling=Ze,xe=Ze);return o&&Oe.forEach(function(OL){return a(Y,OL)}),Et&&wa(Y,De),be}function $t(Y,H,J,ge){if(typeof J=="object"&&J!==null&&J.type===L&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var be=J.key,xe=H;xe!==null;){if(xe.key===be){if(be=J.type,be===L){if(xe.tag===7){c(Y,xe.sibling),H=y(xe,J.props.children),H.return=Y,Y=H;break e}}else if(xe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===me&&mT(be)===xe.type){c(Y,xe.sibling),H=y(xe,J.props),H.ref=od(Y,xe,J),H.return=Y,Y=H;break e}c(Y,xe);break}else a(Y,xe);xe=xe.sibling}J.type===L?(H=Pa(J.props.children,Y.mode,ge,J.key),H.return=Y,Y=H):(ge=Dp(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=od(Y,H,J),ge.return=Y,Y=ge)}return P(Y);case W:e:{for(xe=J.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Y,H.sibling),H=y(H,J.children||[]),H.return=Y,Y=H;break e}else{c(Y,H);break}else a(Y,H);H=H.sibling}H=sv(J,Y.mode,ge),H.return=Y,Y=H}return P(Y);case me:return xe=J._init,$t(Y,H,xe(J._payload),ge)}if(lr(J))return Se(Y,H,J,ge);if(pe(J))return Ae(Y,H,J,ge);cp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Y,H.sibling),H=y(H,J),H.return=Y,Y=H):(c(Y,H),H=iv(J,Y.mode,ge),H.return=Y,Y=H),P(Y)):c(Y,H)}return $t}var Gl=gT(!0),yT=gT(!1),dp=ro(null),hp=null,Ql=null,p_=null;function m_(){p_=Ql=hp=null}function g_(o){var a=dp.current;yt(dp),o._currentValue=a}function y_(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function Yl(o,a){hp=o,p_=Ql=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Jn=!0),o.firstContext=null)}function Vr(o){var a=o._currentValue;if(p_!==o)if(o={context:o,memoizedValue:a,next:null},Ql===null){if(hp===null)throw Error(t(308));Ql=o,hp.dependencies={lanes:0,firstContext:o}}else Ql=Ql.next=o;return a}var Ea=null;function __(o){Ea===null?Ea=[o]:Ea.push(o)}function _T(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,__(a)):(c.next=y.next,y.next=c),a.interleaved=c,ps(o,p)}function ps(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var oo=!1;function v_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vT(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ms(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function ao(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Xe&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,ps(o,c)}return y=p.interleaved,y===null?(a.next=a,__(p)):(a.next=y.next,y.next=a),p.interleaved=a,ps(o,c)}function fp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Ys(o,c)}}function wT(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function pp(o,a,c,p){var y=o.updateQueue;oo=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var z=j,ee=z.next;z.next=null,P===null?w=ee:P.next=ee,P=z;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==P&&(j===null?ce.firstBaseUpdate=ee:j.next=ee,ce.lastBaseUpdate=z))}if(w!==null){var he=y.baseState;P=0,ce=ee=z=null,j=w;do{var le=j.lane,we=j.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Se=o,Ae=j;switch(le=a,we=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){he=Se.call(we,he,le);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(we,he,le):Se,le==null)break e;he=de({},he,le);break e;case 2:oo=!0}}j.callback!==null&&j.lane!==0&&(o.flags|=64,le=y.effects,le===null?y.effects=[j]:le.push(j))}else we={eventTime:we,lane:le,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(ee=ce=we,z=he):ce=ce.next=we,P|=le;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;le=j,j=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(z=he),y.baseState=z,y.firstBaseUpdate=ee,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Sa|=P,o.lanes=P,o.memoizedState=he}}function ET(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var ad={},Ri=ro(ad),ld=ro(ad),ud=ro(ad);function Ia(o){if(o===ad)throw Error(t(174));return o}function w_(o,a){switch(ft(ud,a),ft(ld,o),ft(Ri,ad),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:nn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=nn(a,o)}yt(Ri),ft(Ri,a)}function Jl(){yt(Ri),yt(ld),yt(ud)}function IT(o){Ia(ud.current);var a=Ia(Ri.current),c=nn(a,o.type);a!==c&&(ft(ld,o),ft(Ri,c))}function E_(o){ld.current===o&&(yt(Ri),yt(ld))}var Pt=ro(0);function mp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var I_=[];function T_(){for(var o=0;o<I_.length;o++)I_[o]._workInProgressVersionPrimary=null;I_.length=0}var gp=B.ReactCurrentDispatcher,S_=B.ReactCurrentBatchConfig,Ta=0,Ct=null,sn=null,dn=null,yp=!1,cd=!1,dd=0,eL=0;function Pn(){throw Error(t(321))}function R_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!ri(o[c],a[c]))return!1;return!0}function A_(o,a,c,p,y,w){if(Ta=w,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,gp.current=o===null||o.memoizedState===null?iL:sL,o=c(p,y),cd){w=0;do{if(cd=!1,dd=0,25<=w)throw Error(t(301));w+=1,dn=sn=null,a.updateQueue=null,gp.current=oL,o=c(p,y)}while(cd)}if(gp.current=wp,a=sn!==null&&sn.next!==null,Ta=0,dn=sn=Ct=null,yp=!1,a)throw Error(t(300));return o}function b_(){var o=dd!==0;return dd=0,o}function Ai(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ct.memoizedState=dn=o:dn=dn.next=o,dn}function Mr(){if(sn===null){var o=Ct.alternate;o=o!==null?o.memoizedState:null}else o=sn.next;var a=dn===null?Ct.memoizedState:dn.next;if(a!==null)dn=a,sn=o;else{if(o===null)throw Error(t(310));sn=o,o={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},dn===null?Ct.memoizedState=dn=o:dn=dn.next=o}return dn}function hd(o,a){return typeof a=="function"?a(o):a}function P_(o){var a=Mr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=sn,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var j=P=null,z=null,ee=w;do{var ce=ee.lane;if((Ta&ce)===ce)z!==null&&(z=z.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:o(p,ee.action);else{var he={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};z===null?(j=z=he,P=p):z=z.next=he,Ct.lanes|=ce,Sa|=ce}ee=ee.next}while(ee!==null&&ee!==w);z===null?P=p:z.next=j,ri(p,a.memoizedState)||(Jn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=z,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,Ct.lanes|=w,Sa|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function C_(o){var a=Mr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=o(w,P.action),P=P.next;while(P!==y);ri(w,a.memoizedState)||(Jn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function TT(){}function ST(o,a){var c=Ct,p=Mr(),y=a(),w=!ri(p.memoizedState,y);if(w&&(p.memoizedState=y,Jn=!0),p=p.queue,k_(bT.bind(null,c,p,o),[o]),p.getSnapshot!==a||w||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,fd(9,AT.bind(null,c,p,y,a),void 0,null),hn===null)throw Error(t(349));(Ta&30)!==0||RT(c,a,y)}return y}function RT(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function AT(o,a,c,p){a.value=c,a.getSnapshot=p,PT(a)&&CT(o)}function bT(o,a,c){return c(function(){PT(a)&&CT(o)})}function PT(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!ri(o,c)}catch{return!0}}function CT(o){var a=ps(o,1);a!==null&&li(a,o,1,-1)}function kT(o){var a=Ai();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:o},a.queue=o,o=o.dispatch=rL.bind(null,Ct,o),[a.memoizedState,o]}function fd(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function xT(){return Mr().memoizedState}function _p(o,a,c,p){var y=Ai();Ct.flags|=o,y.memoizedState=fd(1|a,c,void 0,p===void 0?null:p)}function vp(o,a,c,p){var y=Mr();p=p===void 0?null:p;var w=void 0;if(sn!==null){var P=sn.memoizedState;if(w=P.destroy,p!==null&&R_(p,P.deps)){y.memoizedState=fd(a,c,w,p);return}}Ct.flags|=o,y.memoizedState=fd(1|a,c,w,p)}function OT(o,a){return _p(8390656,8,o,a)}function k_(o,a){return vp(2048,8,o,a)}function NT(o,a){return vp(4,2,o,a)}function DT(o,a){return vp(4,4,o,a)}function LT(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function VT(o,a,c){return c=c!=null?c.concat([o]):null,vp(4,4,LT.bind(null,a,o),c)}function x_(){}function MT(o,a){var c=Mr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&R_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function FT(o,a){var c=Mr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&R_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function UT(o,a,c){return(Ta&21)===0?(o.baseState&&(o.baseState=!1,Jn=!0),o.memoizedState=c):(ri(c,a)||(c=ha(),Ct.lanes|=c,Sa|=c,o.baseState=!0),a)}function tL(o,a){var c=He;He=c!==0&&4>c?c:4,o(!0);var p=S_.transition;S_.transition={};try{o(!1),a()}finally{He=c,S_.transition=p}}function jT(){return Mr().memoizedState}function nL(o,a,c){var p=ho(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},$T(o))BT(a,c);else if(c=_T(o,a,c,p),c!==null){var y=jn();li(c,o,p,y),zT(c,a,p)}}function rL(o,a,c){var p=ho(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if($T(o))BT(a,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,j=w(P,c);if(y.hasEagerState=!0,y.eagerState=j,ri(j,P)){var z=a.interleaved;z===null?(y.next=y,__(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=_T(o,a,y,p),c!==null&&(y=jn(),li(c,o,p,y),zT(c,a,p))}}function $T(o){var a=o.alternate;return o===Ct||a!==null&&a===Ct}function BT(o,a){cd=yp=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function zT(o,a,c){if((c&4194240)!==0){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Ys(o,c)}}var wp={readContext:Vr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},iL={readContext:Vr,useCallback:function(o,a){return Ai().memoizedState=[o,a===void 0?null:a],o},useContext:Vr,useEffect:OT,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,_p(4194308,4,LT.bind(null,a,o),c)},useLayoutEffect:function(o,a){return _p(4194308,4,o,a)},useInsertionEffect:function(o,a){return _p(4,2,o,a)},useMemo:function(o,a){var c=Ai();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=Ai();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=nL.bind(null,Ct,o),[p.memoizedState,o]},useRef:function(o){var a=Ai();return o={current:o},a.memoizedState=o},useState:kT,useDebugValue:x_,useDeferredValue:function(o){return Ai().memoizedState=o},useTransition:function(){var o=kT(!1),a=o[0];return o=tL.bind(null,o[1]),Ai().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=Ct,y=Ai();if(Et){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),hn===null)throw Error(t(349));(Ta&30)!==0||RT(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,OT(bT.bind(null,p,w,o),[o]),p.flags|=2048,fd(9,AT.bind(null,p,w,c,a),void 0,null),c},useId:function(){var o=Ai(),a=hn.identifierPrefix;if(Et){var c=fs,p=hs;c=(p&~(1<<32-Mn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=dd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=eL++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},sL={readContext:Vr,useCallback:MT,useContext:Vr,useEffect:k_,useImperativeHandle:VT,useInsertionEffect:NT,useLayoutEffect:DT,useMemo:FT,useReducer:P_,useRef:xT,useState:function(){return P_(hd)},useDebugValue:x_,useDeferredValue:function(o){var a=Mr();return UT(a,sn.memoizedState,o)},useTransition:function(){var o=P_(hd)[0],a=Mr().memoizedState;return[o,a]},useMutableSource:TT,useSyncExternalStore:ST,useId:jT,unstable_isNewReconciler:!1},oL={readContext:Vr,useCallback:MT,useContext:Vr,useEffect:k_,useImperativeHandle:VT,useInsertionEffect:NT,useLayoutEffect:DT,useMemo:FT,useReducer:C_,useRef:xT,useState:function(){return C_(hd)},useDebugValue:x_,useDeferredValue:function(o){var a=Mr();return sn===null?a.memoizedState=o:UT(a,sn.memoizedState,o)},useTransition:function(){var o=C_(hd)[0],a=Mr().memoizedState;return[o,a]},useMutableSource:TT,useSyncExternalStore:ST,useId:jT,unstable_isNewReconciler:!1};function si(o,a){if(o&&o.defaultProps){a=de({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function O_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:de({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Ep={isMounted:function(o){return(o=o._reactInternals)?Yr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=jn(),y=ho(o),w=ms(p,y);w.payload=a,c!=null&&(w.callback=c),a=ao(o,w,y),a!==null&&(li(a,o,y,p),fp(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=jn(),y=ho(o),w=ms(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=ao(o,w,y),a!==null&&(li(a,o,y,p),fp(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=jn(),p=ho(o),y=ms(c,p);y.tag=2,a!=null&&(y.callback=a),a=ao(o,y,p),a!==null&&(li(a,o,p,c),fp(a,o,p))}};function WT(o,a,c,p,y,w,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,P):a.prototype&&a.prototype.isPureReactComponent?!Zc(c,p)||!Zc(y,w):!0}function qT(o,a,c){var p=!1,y=io,w=a.contextType;return typeof w=="object"&&w!==null?w=Vr(w):(y=Yn(a)?_a:bn.current,p=a.contextTypes,w=(p=p!=null)?Wl(o,y):io),a=new a(c,w),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ep,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),a}function HT(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&Ep.enqueueReplaceState(a,a.state,null)}function N_(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},v_(o);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Vr(w):(w=Yn(a)?_a:bn.current,y.context=Wl(o,w)),y.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(O_(o,a,w,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Ep.enqueueReplaceState(y,y.state,null),pp(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Xl(o,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:a,stack:y,digest:null}}function D_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function L_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var aL=typeof WeakMap=="function"?WeakMap:Map;function KT(o,a,c){c=ms(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Pp||(Pp=!0,Y_=p),L_(o,a)},c}function GT(o,a,c){c=ms(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){L_(o,a)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){L_(o,a),typeof p!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function QT(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new aL;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=EL.bind(null,o,a,c),a.then(o,o))}function YT(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function JT(o,a,c,p,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ms(-1,1),a.tag=2,ao(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var lL=B.ReactCurrentOwner,Jn=!1;function Un(o,a,c,p){a.child=o===null?yT(a,null,c,p):Gl(a,o.child,c,p)}function XT(o,a,c,p,y){c=c.render;var w=a.ref;return Yl(a,y),p=A_(o,a,c,p,w,y),c=b_(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,gs(o,a,y)):(Et&&c&&u_(a),a.flags|=1,Un(o,a,p,y),a.child)}function ZT(o,a,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!rv(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,eS(o,a,w,p,y)):(o=Dp(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(w=o.child,(o.lanes&y)===0){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:Zc,c(P,p)&&o.ref===a.ref)return gs(o,a,y)}return a.flags|=1,o=po(w,p),o.ref=a.ref,o.return=a,a.child=o}function eS(o,a,c,p,y){if(o!==null){var w=o.memoizedProps;if(Zc(w,p)&&o.ref===a.ref)if(Jn=!1,a.pendingProps=p=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Jn=!0);else return a.lanes=o.lanes,gs(o,a,y)}return V_(o,a,c,p,y)}function tS(o,a,c){var p=a.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(eu,mr),mr|=c;else{if((c&1073741824)===0)return o=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,ft(eu,mr),mr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ft(eu,mr),mr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,ft(eu,mr),mr|=p;return Un(o,a,y,c),a.child}function nS(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function V_(o,a,c,p,y){var w=Yn(c)?_a:bn.current;return w=Wl(a,w),Yl(a,y),c=A_(o,a,c,p,w,y),p=b_(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,gs(o,a,y)):(Et&&p&&u_(a),a.flags|=1,Un(o,a,c,y),a.child)}function rS(o,a,c,p,y){if(Yn(c)){var w=!0;sp(a)}else w=!1;if(Yl(a,y),a.stateNode===null)Tp(o,a),qT(a,c,p),N_(a,c,p,y),p=!0;else if(o===null){var P=a.stateNode,j=a.memoizedProps;P.props=j;var z=P.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Vr(ee):(ee=Yn(c)?_a:bn.current,ee=Wl(a,ee));var ce=c.getDerivedStateFromProps,he=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function";he||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(j!==p||z!==ee)&&HT(a,P,p,ee),oo=!1;var le=a.memoizedState;P.state=le,pp(a,p,P,y),z=a.memoizedState,j!==p||le!==z||Qn.current||oo?(typeof ce=="function"&&(O_(a,c,ce,p),z=a.memoizedState),(j=oo||WT(a,c,j,p,le,z,ee))?(he||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),P.props=p,P.state=z,P.context=ee,p=j):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,vT(o,a),j=a.memoizedProps,ee=a.type===a.elementType?j:si(a.type,j),P.props=ee,he=a.pendingProps,le=P.context,z=c.contextType,typeof z=="object"&&z!==null?z=Vr(z):(z=Yn(c)?_a:bn.current,z=Wl(a,z));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(j!==he||le!==z)&&HT(a,P,p,z),oo=!1,le=a.memoizedState,P.state=le,pp(a,p,P,y);var Se=a.memoizedState;j!==he||le!==Se||Qn.current||oo?(typeof we=="function"&&(O_(a,c,we,p),Se=a.memoizedState),(ee=oo||WT(a,c,ee,p,le,Se,z)||!1)?(ce||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Se,z),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Se,z)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||j===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),P.props=p,P.state=Se,P.context=z,p=ee):(typeof P.componentDidUpdate!="function"||j===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),p=!1)}return M_(o,a,c,p,w,y)}function M_(o,a,c,p,y,w){nS(o,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&lT(a,c,!1),gs(o,a,w);p=a.stateNode,lL.current=a;var j=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&P?(a.child=Gl(a,o.child,null,w),a.child=Gl(a,null,j,w)):Un(o,a,j,w),a.memoizedState=p.state,y&&lT(a,c,!0),a.child}function iS(o){var a=o.stateNode;a.pendingContext?oT(o,a.pendingContext,a.pendingContext!==a.context):a.context&&oT(o,a.context,!1),w_(o,a.containerInfo)}function sS(o,a,c,p,y){return Kl(),f_(y),a.flags|=256,Un(o,a,c,p),a.child}var F_={dehydrated:null,treeContext:null,retryLane:0};function U_(o){return{baseLanes:o,cachePool:null,transitions:null}}function oS(o,a,c){var p=a.pendingProps,y=Pt.current,w=!1,P=(a.flags&128)!==0,j;if((j=P)||(j=o!==null&&o.memoizedState===null?!1:(y&2)!==0),j?(w=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ft(Pt,y&1),o===null)return h_(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=p.children,o=p.fallback,w?(p=a.mode,w=a.child,P={mode:"hidden",children:P},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=P):w=Lp(P,p,0,null),o=Pa(o,p,c,null),w.return=a,o.return=a,w.sibling=o,a.child=w,a.child.memoizedState=U_(c),a.memoizedState=F_,o):j_(a,P));if(y=o.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return uL(o,a,P,p,j,y,c);if(w){w=p.fallback,P=a.mode,y=o.child,j=y.sibling;var z={mode:"hidden",children:p.children};return(P&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=po(y,z),p.subtreeFlags=y.subtreeFlags&14680064),j!==null?w=po(j,w):(w=Pa(w,P,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,P=o.child.memoizedState,P=P===null?U_(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=o.childLanes&~c,a.memoizedState=F_,p}return w=o.child,o=w.sibling,p=po(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function j_(o,a){return a=Lp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Ip(o,a,c,p){return p!==null&&f_(p),Gl(a,o.child,null,c),o=j_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function uL(o,a,c,p,y,w,P){if(c)return a.flags&256?(a.flags&=-257,p=D_(Error(t(422))),Ip(o,a,P,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Lp({mode:"visible",children:p.children},y,0,null),w=Pa(w,y,P,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&Gl(a,o.child,null,P),a.child.memoizedState=U_(P),a.memoizedState=F_,w);if((a.mode&1)===0)return Ip(o,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var j=p.dgst;return p=j,w=Error(t(419)),p=D_(w,p,void 0),Ip(o,a,P,p)}if(j=(P&o.childLanes)!==0,Jn||j){if(p=hn,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|P))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,ps(o,y),li(p,o,y,-1))}return nv(),p=D_(Error(t(421))),Ip(o,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=IL.bind(null,o),y._reactRetry=a,null):(o=w.treeContext,pr=no(y.nextSibling),fr=a,Et=!0,ii=null,o!==null&&(Dr[Lr++]=hs,Dr[Lr++]=fs,Dr[Lr++]=va,hs=o.id,fs=o.overflow,va=a),a=j_(a,p.children),a.flags|=4096,a)}function aS(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),y_(o.return,a,c)}function $_(o,a,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function lS(o,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Un(o,a,p.children,c),p=Pt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&aS(o,c,a);else if(o.tag===19)aS(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(ft(Pt,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&mp(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),$_(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&mp(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}$_(a,!0,c,null,w);break;case"together":$_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Tp(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function gs(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Sa|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=po(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=po(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function cL(o,a,c){switch(a.tag){case 3:iS(a),Kl();break;case 5:IT(a);break;case 1:Yn(a.type)&&sp(a);break;case 4:w_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;ft(dp,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ft(Pt,Pt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?oS(o,a,c):(ft(Pt,Pt.current&1),o=gs(o,a,c),o!==null?o.sibling:null);ft(Pt,Pt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(o.flags&128)!==0){if(p)return lS(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(Pt,Pt.current),p)break;return null;case 22:case 23:return a.lanes=0,tS(o,a,c)}return gs(o,a,c)}var uS,B_,cS,dS;uS=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},B_=function(){},cS=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,Ia(Ri.current);var w=null;switch(c){case"input":y=en(o,y),p=en(o,p),w=[];break;case"select":y=de({},y,{value:void 0}),p=de({},p,{value:void 0}),w=[];break;case"textarea":y=Pc(o,y),p=Pc(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=np)}Dc(c,p);var P;c=null;for(ee in y)if(!p.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var j=y[ee];for(P in j)j.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?w||(w=[]):(w=w||[]).push(ee,null));for(ee in p){var z=p[ee];if(j=y!=null?y[ee]:void 0,p.hasOwnProperty(ee)&&z!==j&&(z!=null||j!=null))if(ee==="style")if(j){for(P in j)!j.hasOwnProperty(P)||z&&z.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in z)z.hasOwnProperty(P)&&j[P]!==z[P]&&(c||(c={}),c[P]=z[P])}else c||(w||(w=[]),w.push(ee,c)),c=z;else ee==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,j=j?j.__html:void 0,z!=null&&j!==z&&(w=w||[]).push(ee,z)):ee==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(ee,""+z):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(z!=null&&ee==="onScroll"&&gt("scroll",o),w||j===z||(w=[])):(w=w||[]).push(ee,z))}c&&(w=w||[]).push("style",c);var ee=w;(a.updateQueue=ee)&&(a.flags|=4)}},dS=function(o,a,c,p){c!==p&&(a.flags|=4)};function pd(o,a){if(!Et)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Cn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function dL(o,a,c){var p=a.pendingProps;switch(c_(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(a),null;case 1:return Yn(a.type)&&ip(),Cn(a),null;case 3:return p=a.stateNode,Jl(),yt(Qn),yt(bn),T_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(up(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ii!==null&&(Z_(ii),ii=null))),B_(o,a),Cn(a),null;case 5:E_(a);var y=Ia(ud.current);if(c=a.type,o!==null&&a.stateNode!=null)cS(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Cn(a),null}if(o=Ia(Ri.current),up(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Si]=a,p[id]=w,o=(a.mode&1)!==0,c){case"dialog":gt("cancel",p),gt("close",p);break;case"iframe":case"object":case"embed":gt("load",p);break;case"video":case"audio":for(y=0;y<td.length;y++)gt(td[y],p);break;case"source":gt("error",p);break;case"img":case"image":case"link":gt("error",p),gt("load",p);break;case"details":gt("toggle",p);break;case"input":Kr(p,w),gt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},gt("invalid",p);break;case"textarea":pl(p,w),gt("invalid",p)}Dc(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var j=w[P];P==="children"?typeof j=="string"?p.textContent!==j&&(w.suppressHydrationWarning!==!0&&tp(p.textContent,j,o),y=["children",j]):typeof j=="number"&&p.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&tp(p.textContent,j,o),y=["children",""+j]):i.hasOwnProperty(P)&&j!=null&&P==="onScroll"&&gt("scroll",p)}switch(c){case"input":un(p),qn(p,w,!0);break;case"textarea":un(p),Cc(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=np)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=tn(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=P.createElement(c,{is:p.is}):(o=P.createElement(c),c==="select"&&(P=o,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):o=P.createElementNS(o,c),o[Si]=a,o[id]=p,uS(o,a,!1,!1),a.stateNode=o;e:{switch(P=Lc(c,p),c){case"dialog":gt("cancel",o),gt("close",o),y=p;break;case"iframe":case"object":case"embed":gt("load",o),y=p;break;case"video":case"audio":for(y=0;y<td.length;y++)gt(td[y],o);y=p;break;case"source":gt("error",o),y=p;break;case"img":case"image":case"link":gt("error",o),gt("load",o),y=p;break;case"details":gt("toggle",o),y=p;break;case"input":Kr(o,p),y=en(o,p),gt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=de({},p,{value:void 0}),gt("invalid",o);break;case"textarea":pl(o,p),y=Pc(o,p),gt("invalid",o);break;default:y=p}Dc(c,y),j=y;for(w in j)if(j.hasOwnProperty(w)){var z=j[w];w==="style"?Oc(o,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&kc(o,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&qs(o,z):typeof z=="number"&&qs(o,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&gt("scroll",o):z!=null&&F(o,w,z,P))}switch(c){case"input":un(o),qn(o,p,!1);break;case"textarea":un(o),Cc(o);break;case"option":p.value!=null&&o.setAttribute("value",""+qe(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?ns(o,!!p.multiple,w,!1):p.defaultValue!=null&&ns(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=np)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Cn(a),null;case 6:if(o&&a.stateNode!=null)dS(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ia(ud.current),Ia(Ri.current),up(a)){if(p=a.stateNode,c=a.memoizedProps,p[Si]=a,(w=p.nodeValue!==c)&&(o=fr,o!==null))switch(o.tag){case 3:tp(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&tp(p.nodeValue,c,(o.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Si]=a,a.stateNode=p}return Cn(a),null;case 13:if(yt(Pt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Et&&pr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)pT(),Kl(),a.flags|=98560,w=!1;else if(w=up(a),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Si]=a}else Kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Cn(a),w=!1}else ii!==null&&(Z_(ii),ii=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Pt.current&1)!==0?on===0&&(on=3):nv())),a.updateQueue!==null&&(a.flags|=4),Cn(a),null);case 4:return Jl(),B_(o,a),o===null&&nd(a.stateNode.containerInfo),Cn(a),null;case 10:return g_(a.type._context),Cn(a),null;case 17:return Yn(a.type)&&ip(),Cn(a),null;case 19:if(yt(Pt),w=a.memoizedState,w===null)return Cn(a),null;if(p=(a.flags&128)!==0,P=w.rendering,P===null)if(p)pd(w,!1);else{if(on!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(P=mp(o),P!==null){for(a.flags|=128,pd(w,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,o=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,o=P.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return ft(Pt,Pt.current&1|2),a.child}o=o.sibling}w.tail!==null&&ht()>tu&&(a.flags|=128,p=!0,pd(w,!1),a.lanes=4194304)}else{if(!p)if(o=mp(P),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),pd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!Et)return Cn(a),null}else 2*ht()-w.renderingStartTime>tu&&c!==1073741824&&(a.flags|=128,p=!0,pd(w,!1),a.lanes=4194304);w.isBackwards?(P.sibling=a.child,a.child=P):(c=w.last,c!==null?c.sibling=P:a.child=P,w.last=P)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ht(),a.sibling=null,c=Pt.current,ft(Pt,p?c&1|2:c&1),a):(Cn(a),null);case 22:case 23:return tv(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(mr&1073741824)!==0&&(Cn(a),a.subtreeFlags&6&&(a.flags|=8192)):Cn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function hL(o,a){switch(c_(a),a.tag){case 1:return Yn(a.type)&&ip(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Jl(),yt(Qn),yt(bn),T_(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return E_(a),null;case 13:if(yt(Pt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Kl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return yt(Pt),null;case 4:return Jl(),null;case 10:return g_(a.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var Sp=!1,kn=!1,fL=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Zl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Dt(o,a,p)}else c.current=null}function z_(o,a,c){try{c()}catch(p){Dt(o,a,p)}}var hS=!1;function pL(o,a){if(t_=Zs,o=WI(),Ky(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,j=-1,z=-1,ee=0,ce=0,he=o,le=null;t:for(;;){for(var we;he!==c||y!==0&&he.nodeType!==3||(j=P+y),he!==w||p!==0&&he.nodeType!==3||(z=P+p),he.nodeType===3&&(P+=he.nodeValue.length),(we=he.firstChild)!==null;)le=he,he=we;for(;;){if(he===o)break t;if(le===c&&++ee===y&&(j=P),le===w&&++ce===p&&(z=P),(we=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=we}c=j===-1||z===-1?null:{start:j,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(n_={focusedElem:o,selectionRange:c},Zs=!1,Ie=a;Ie!==null;)if(a=Ie,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ie=o;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,$t=Se.memoizedState,Y=a.stateNode,H=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:si(a.type,Ae),$t);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Dt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Ie=o;break}Ie=a.return}return Se=hS,hS=!1,Se}function md(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&z_(a,c,w)}y=y.next}while(y!==p)}}function Rp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function W_(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function fS(o){var a=o.alternate;a!==null&&(o.alternate=null,fS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Si],delete a[id],delete a[o_],delete a[YD],delete a[JD])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function pS(o){return o.tag===5||o.tag===3||o.tag===4}function mS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function q_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=np));else if(p!==4&&(o=o.child,o!==null))for(q_(o,a,c),o=o.sibling;o!==null;)q_(o,a,c),o=o.sibling}function H_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(H_(o,a,c),o=o.sibling;o!==null;)H_(o,a,c),o=o.sibling}var wn=null,oi=!1;function lo(o,a,c){for(c=c.child;c!==null;)gS(o,a,c),c=c.sibling}function gS(o,a,c){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(ca,c)}catch{}switch(c.tag){case 5:kn||Zl(c,a);case 6:var p=wn,y=oi;wn=null,lo(o,a,c),wn=p,oi=y,wn!==null&&(oi?(o=wn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):wn.removeChild(c.stateNode));break;case 18:wn!==null&&(oi?(o=wn,c=c.stateNode,o.nodeType===8?s_(o.parentNode,c):o.nodeType===1&&s_(o,c),ti(o)):s_(wn,c.stateNode));break;case 4:p=wn,y=oi,wn=c.stateNode.containerInfo,oi=!0,lo(o,a,c),wn=p,oi=y;break;case 0:case 11:case 14:case 15:if(!kn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&((w&2)!==0||(w&4)!==0)&&z_(c,a,P),y=y.next}while(y!==p)}lo(o,a,c);break;case 1:if(!kn&&(Zl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(j){Dt(c,a,j)}lo(o,a,c);break;case 21:lo(o,a,c);break;case 22:c.mode&1?(kn=(p=kn)||c.memoizedState!==null,lo(o,a,c),kn=p):lo(o,a,c);break;default:lo(o,a,c)}}function yS(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new fL),a.forEach(function(p){var y=TL.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ai(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,P=a,j=P;e:for(;j!==null;){switch(j.tag){case 5:wn=j.stateNode,oi=!1;break e;case 3:wn=j.stateNode.containerInfo,oi=!0;break e;case 4:wn=j.stateNode.containerInfo,oi=!0;break e}j=j.return}if(wn===null)throw Error(t(160));gS(w,P,y),wn=null,oi=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(ee){Dt(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)_S(a,o),a=a.sibling}function _S(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ai(a,o),bi(o),p&4){try{md(3,o,o.return),Rp(3,o)}catch(Ae){Dt(o,o.return,Ae)}try{md(5,o,o.return)}catch(Ae){Dt(o,o.return,Ae)}}break;case 1:ai(a,o),bi(o),p&512&&c!==null&&Zl(c,c.return);break;case 5:if(ai(a,o),bi(o),p&512&&c!==null&&Zl(c,c.return),o.flags&32){var y=o.stateNode;try{qs(y,"")}catch(Ae){Dt(o,o.return,Ae)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,P=c!==null?c.memoizedProps:w,j=o.type,z=o.updateQueue;if(o.updateQueue=null,z!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&Pr(y,w),Lc(j,P);var ee=Lc(j,w);for(P=0;P<z.length;P+=2){var ce=z[P],he=z[P+1];ce==="style"?Oc(y,he):ce==="dangerouslySetInnerHTML"?kc(y,he):ce==="children"?qs(y,he):F(y,ce,he,ee)}switch(j){case"input":Cr(y,w);break;case"textarea":ml(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?ns(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?ns(y,!!w.multiple,w.defaultValue,!0):ns(y,!!w.multiple,w.multiple?[]:"",!1))}y[id]=w}catch(Ae){Dt(o,o.return,Ae)}}break;case 6:if(ai(a,o),bi(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Ae){Dt(o,o.return,Ae)}}break;case 3:if(ai(a,o),bi(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ti(a.containerInfo)}catch(Ae){Dt(o,o.return,Ae)}break;case 4:ai(a,o),bi(o);break;case 13:ai(a,o),bi(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Q_=ht())),p&4&&yS(o);break;case 22:if(ce=c!==null&&c.memoizedState!==null,o.mode&1?(kn=(ee=kn)||ce,ai(a,o),kn=ee):ai(a,o),bi(o),p&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!ce&&(o.mode&1)!==0)for(Ie=o,ce=o.child;ce!==null;){for(he=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:md(4,le,le.return);break;case 1:Zl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Dt(p,c,Ae)}}break;case 5:Zl(le,le.return);break;case 22:if(le.memoizedState!==null){ES(he);continue}}we!==null?(we.return=le,Ie=we):ES(he)}ce=ce.sibling}e:for(ce=null,he=o;;){if(he.tag===5){if(ce===null){ce=he;try{y=he.stateNode,ee?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=he.stateNode,z=he.memoizedProps.style,P=z!=null&&z.hasOwnProperty("display")?z.display:null,j.style.display=xc("display",P))}catch(Ae){Dt(o,o.return,Ae)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=ee?"":he.memoizedProps}catch(Ae){Dt(o,o.return,Ae)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===o)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===o)break e;for(;he.sibling===null;){if(he.return===null||he.return===o)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ai(a,o),bi(o),p&4&&yS(o);break;case 21:break;default:ai(a,o),bi(o)}}function bi(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(pS(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(qs(y,""),p.flags&=-33);var w=mS(o);H_(o,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,j=mS(o);q_(o,j,P);break;default:throw Error(t(161))}}catch(z){Dt(o,o.return,z)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function mL(o,a,c){Ie=o,vS(o)}function vS(o,a,c){for(var p=(o.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||Sp;if(!P){var j=y.alternate,z=j!==null&&j.memoizedState!==null||kn;j=Sp;var ee=kn;if(Sp=P,(kn=z)&&!ee)for(Ie=y;Ie!==null;)P=Ie,z=P.child,P.tag===22&&P.memoizedState!==null?IS(y):z!==null?(z.return=P,Ie=z):IS(y);for(;w!==null;)Ie=w,vS(w),w=w.sibling;Ie=y,Sp=j,kn=ee}wS(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,Ie=w):wS(o)}}function wS(o){for(;Ie!==null;){var a=Ie;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:kn||Rp(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!kn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:si(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&ET(a,w,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}ET(a,P,c)}break;case 5:var j=a.stateNode;if(c===null&&a.flags&4){c=j;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&ti(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}kn||a.flags&512&&W_(a)}catch(le){Dt(a,a.return,le)}}if(a===o){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function ES(o){for(;Ie!==null;){var a=Ie;if(a===o){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function IS(o){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Rp(4,a)}catch(z){Dt(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(z){Dt(a,y,z)}}var w=a.return;try{W_(a)}catch(z){Dt(a,w,z)}break;case 5:var P=a.return;try{W_(a)}catch(z){Dt(a,P,z)}}}catch(z){Dt(a,a.return,z)}if(a===o){Ie=null;break}var j=a.sibling;if(j!==null){j.return=a.return,Ie=j;break}Ie=a.return}}var gL=Math.ceil,Ap=B.ReactCurrentDispatcher,K_=B.ReactCurrentOwner,Fr=B.ReactCurrentBatchConfig,Xe=0,hn=null,Kt=null,En=0,mr=0,eu=ro(0),on=0,gd=null,Sa=0,bp=0,G_=0,yd=null,Xn=null,Q_=0,tu=1/0,ys=null,Pp=!1,Y_=null,uo=null,Cp=!1,co=null,kp=0,_d=0,J_=null,xp=-1,Op=0;function jn(){return(Xe&6)!==0?ht():xp!==-1?xp:xp=ht()}function ho(o){return(o.mode&1)===0?1:(Xe&2)!==0&&En!==0?En&-En:ZD.transition!==null?(Op===0&&(Op=ha()),Op):(o=He,o!==0||(o=window.event,o=o===void 0?16:Hc(o.type)),o)}function li(o,a,c,p){if(50<_d)throw _d=0,J_=null,Error(t(185));Qs(o,c,p),((Xe&2)===0||o!==hn)&&(o===hn&&((Xe&2)===0&&(bp|=c),on===4&&fo(o,En)),Zn(o,p),c===1&&Xe===0&&(a.mode&1)===0&&(tu=ht()+500,op&&so()))}function Zn(o,a){var c=o.callbackNode;ss(o,a);var p=da(o,o===hn?En:0);if(p===0)c!==null&&$c(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&$c(c),a===1)o.tag===0?XD(SS.bind(null,o)):uT(SS.bind(null,o)),GD(function(){(Xe&6)===0&&so()}),c=null;else{switch(Js(p)){case 1:c=ua;break;case 4:c=Hs;break;case 16:c=xr;break;case 536870912:c=Of;break;default:c=xr}c=OS(c,TS.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function TS(o,a){if(xp=-1,Op=0,(Xe&6)!==0)throw Error(t(327));var c=o.callbackNode;if(nu()&&o.callbackNode!==c)return null;var p=da(o,o===hn?En:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||a)a=Np(o,p);else{a=p;var y=Xe;Xe|=2;var w=AS();(hn!==o||En!==a)&&(ys=null,tu=ht()+500,Aa(o,a));do try{vL();break}catch(j){RS(o,j)}while(!0);m_(),Ap.current=w,Xe=y,Kt!==null?a=0:(hn=null,En=0,a=on)}if(a!==0){if(a===2&&(y=cr(o),y!==0&&(p=y,a=X_(o,y))),a===1)throw c=gd,Aa(o,0),fo(o,p),Zn(o,ht()),c;if(a===6)fo(o,p);else{if(y=o.current.alternate,(p&30)===0&&!yL(y)&&(a=Np(o,p),a===2&&(w=cr(o),w!==0&&(p=w,a=X_(o,w))),a===1))throw c=gd,Aa(o,0),fo(o,p),Zn(o,ht()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:ba(o,Xn,ys);break;case 3:if(fo(o,p),(p&130023424)===p&&(a=Q_+500-ht(),10<a)){if(da(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){jn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=i_(ba.bind(null,o,Xn,ys),a);break}ba(o,Xn,ys);break;case 4:if(fo(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var P=31-Mn(p);w=1<<P,P=a[P],P>y&&(y=P),p&=~w}if(p=y,p=ht()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*gL(p/1960))-p,10<p){o.timeoutHandle=i_(ba.bind(null,o,Xn,ys),p);break}ba(o,Xn,ys);break;case 5:ba(o,Xn,ys);break;default:throw Error(t(329))}}}return Zn(o,ht()),o.callbackNode===c?TS.bind(null,o):null}function X_(o,a){var c=yd;return o.current.memoizedState.isDehydrated&&(Aa(o,a).flags|=256),o=Np(o,a),o!==2&&(a=Xn,Xn=c,a!==null&&Z_(a)),o}function Z_(o){Xn===null?Xn=o:Xn.push.apply(Xn,o)}function yL(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!ri(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fo(o,a){for(a&=~G_,a&=~bp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Mn(a),p=1<<c;o[c]=-1,a&=~p}}function SS(o){if((Xe&6)!==0)throw Error(t(327));nu();var a=da(o,0);if((a&1)===0)return Zn(o,ht()),null;var c=Np(o,a);if(o.tag!==0&&c===2){var p=cr(o);p!==0&&(a=p,c=X_(o,p))}if(c===1)throw c=gd,Aa(o,0),fo(o,a),Zn(o,ht()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,ba(o,Xn,ys),Zn(o,ht()),null}function ev(o,a){var c=Xe;Xe|=1;try{return o(a)}finally{Xe=c,Xe===0&&(tu=ht()+500,op&&so())}}function Ra(o){co!==null&&co.tag===0&&(Xe&6)===0&&nu();var a=Xe;Xe|=1;var c=Fr.transition,p=He;try{if(Fr.transition=null,He=1,o)return o()}finally{He=p,Fr.transition=c,Xe=a,(Xe&6)===0&&so()}}function tv(){mr=eu.current,yt(eu)}function Aa(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,KD(c)),Kt!==null)for(c=Kt.return;c!==null;){var p=c;switch(c_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ip();break;case 3:Jl(),yt(Qn),yt(bn),T_();break;case 5:E_(p);break;case 4:Jl();break;case 13:yt(Pt);break;case 19:yt(Pt);break;case 10:g_(p.type._context);break;case 22:case 23:tv()}c=c.return}if(hn=o,Kt=o=po(o.current,null),En=mr=a,on=0,gd=null,G_=bp=Sa=0,Xn=yd=null,Ea!==null){for(a=0;a<Ea.length;a++)if(c=Ea[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}Ea=null}return o}function RS(o,a){do{var c=Kt;try{if(m_(),gp.current=wp,yp){for(var p=Ct.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}yp=!1}if(Ta=0,dn=sn=Ct=null,cd=!1,dd=0,K_.current=null,c===null||c.return===null){on=1,gd=a,Kt=null;break}e:{var w=o,P=c.return,j=c,z=a;if(a=En,j.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=z,ce=j,he=ce.tag;if((ce.mode&1)===0&&(he===0||he===11||he===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=YT(P);if(we!==null){we.flags&=-257,JT(we,P,j,w,a),we.mode&1&&QT(w,ee,a),a=we,z=ee;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add(z),a.updateQueue=Ae}else Se.add(z);break e}else{if((a&1)===0){QT(w,ee,a),nv();break e}z=Error(t(426))}}else if(Et&&j.mode&1){var $t=YT(P);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),JT($t,P,j,w,a),f_(Xl(z,j));break e}}w=z=Xl(z,j),on!==4&&(on=2),yd===null?yd=[w]:yd.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=KT(w,z,a);wT(w,Y);break e;case 1:j=z;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(uo===null||!uo.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=GT(w,j,a);wT(w,ge);break e}}w=w.return}while(w!==null)}PS(c)}catch(be){a=be,Kt===c&&c!==null&&(Kt=c=c.return);continue}break}while(!0)}function AS(){var o=Ap.current;return Ap.current=wp,o===null?wp:o}function nv(){(on===0||on===3||on===2)&&(on=4),hn===null||(Sa&268435455)===0&&(bp&268435455)===0||fo(hn,En)}function Np(o,a){var c=Xe;Xe|=2;var p=AS();(hn!==o||En!==a)&&(ys=null,Aa(o,a));do try{_L();break}catch(y){RS(o,y)}while(!0);if(m_(),Xe=c,Ap.current=p,Kt!==null)throw Error(t(261));return hn=null,En=0,on}function _L(){for(;Kt!==null;)bS(Kt)}function vL(){for(;Kt!==null&&!kf();)bS(Kt)}function bS(o){var a=xS(o.alternate,o,mr);o.memoizedProps=o.pendingProps,a===null?PS(o):Kt=a,K_.current=null}function PS(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=dL(c,a,mr),c!==null){Kt=c;return}}else{if(c=hL(c,a),c!==null){c.flags&=32767,Kt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{on=6,Kt=null;return}}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=o}while(a!==null);on===0&&(on=5)}function ba(o,a,c){var p=He,y=Fr.transition;try{Fr.transition=null,He=1,wL(o,a,c,p)}finally{Fr.transition=y,He=p}return null}function wL(o,a,c,p){do nu();while(co!==null);if((Xe&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(ut(o,w),o===hn&&(Kt=hn=null,En=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Cp||(Cp=!0,OS(xr,function(){return nu(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Fr.transition,Fr.transition=null;var P=He;He=1;var j=Xe;Xe|=4,K_.current=null,pL(o,c),_S(c,o),jD(n_),Zs=!!t_,n_=t_=null,o.current=c,mL(c),Uy(),Xe=j,He=P,Fr.transition=w}else o.current=c;if(Cp&&(Cp=!1,co=o,kp=y),w=o.pendingLanes,w===0&&(uo=null),Nf(c.stateNode),Zn(o,ht()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Pp)throw Pp=!1,o=Y_,Y_=null,o;return(kp&1)!==0&&o.tag!==0&&nu(),w=o.pendingLanes,(w&1)!==0?o===J_?_d++:(_d=0,J_=o):_d=0,so(),null}function nu(){if(co!==null){var o=Js(kp),a=Fr.transition,c=He;try{if(Fr.transition=null,He=16>o?16:o,co===null)var p=!1;else{if(o=co,co=null,kp=0,(Xe&6)!==0)throw Error(t(331));var y=Xe;for(Xe|=4,Ie=o.current;Ie!==null;){var w=Ie,P=w.child;if((Ie.flags&16)!==0){var j=w.deletions;if(j!==null){for(var z=0;z<j.length;z++){var ee=j[z];for(Ie=ee;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:md(8,ce,w)}var he=ce.child;if(he!==null)he.return=ce,Ie=he;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(fS(ce),ce===ee){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var $t=Ae.sibling;Ae.sibling=null,Ae=$t}while(Ae!==null)}}Ie=w}}if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,Ie=P;else e:for(;Ie!==null;){if(w=Ie,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:md(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ie=Y;break e}Ie=w.return}}var H=o.current;for(Ie=H;Ie!==null;){P=Ie;var J=P.child;if((P.subtreeFlags&2064)!==0&&J!==null)J.return=P,Ie=J;else e:for(P=H;Ie!==null;){if(j=Ie,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Rp(9,j)}}catch(be){Dt(j,j.return,be)}if(j===P){Ie=null;break e}var ge=j.sibling;if(ge!==null){ge.return=j.return,Ie=ge;break e}Ie=j.return}}if(Xe=y,so(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(ca,o)}catch{}p=!0}return p}finally{He=c,Fr.transition=a}}return!1}function CS(o,a,c){a=Xl(c,a),a=KT(o,a,1),o=ao(o,a,1),a=jn(),o!==null&&(Qs(o,1,a),Zn(o,a))}function Dt(o,a,c){if(o.tag===3)CS(o,o,c);else for(;a!==null;){if(a.tag===3){CS(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(uo===null||!uo.has(p))){o=Xl(c,o),o=GT(a,o,1),a=ao(a,o,1),o=jn(),a!==null&&(Qs(a,1,o),Zn(a,o));break}}a=a.return}}function EL(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=jn(),o.pingedLanes|=o.suspendedLanes&c,hn===o&&(En&c)===c&&(on===4||on===3&&(En&130023424)===En&&500>ht()-Q_?Aa(o,0):G_|=c),Zn(o,a)}function kS(o,a){a===0&&((o.mode&1)===0?a=1:(a=Rl,Rl<<=1,(Rl&130023424)===0&&(Rl=4194304)));var c=jn();o=ps(o,a),o!==null&&(Qs(o,a,c),Zn(o,c))}function IL(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),kS(o,c)}function TL(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),kS(o,c)}var xS;xS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Qn.current)Jn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Jn=!1,cL(o,a,c);Jn=(o.flags&131072)!==0}else Jn=!1,Et&&(a.flags&1048576)!==0&&cT(a,lp,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Tp(o,a),o=a.pendingProps;var y=Wl(a,bn.current);Yl(a,c),y=A_(null,a,p,o,y,c);var w=b_();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Yn(p)?(w=!0,sp(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,v_(a),y.updater=Ep,a.stateNode=y,y._reactInternals=a,N_(a,p,o,c),a=M_(null,a,p,!0,w,c)):(a.tag=0,Et&&w&&u_(a),Un(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Tp(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=RL(p),o=si(p,o),y){case 0:a=V_(null,a,p,o,c);break e;case 1:a=rS(null,a,p,o,c);break e;case 11:a=XT(null,a,p,o,c);break e;case 14:a=ZT(null,a,p,si(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),V_(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),rS(o,a,p,y,c);case 3:e:{if(iS(a),o===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,vT(o,a),pp(a,p,null,c);var P=a.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Xl(Error(t(423)),a),a=sS(o,a,p,c,y);break e}else if(p!==y){y=Xl(Error(t(424)),a),a=sS(o,a,p,c,y);break e}else for(pr=no(a.stateNode.containerInfo.firstChild),fr=a,Et=!0,ii=null,c=yT(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Kl(),p===y){a=gs(o,a,c);break e}Un(o,a,p,c)}a=a.child}return a;case 5:return IT(a),o===null&&h_(a),p=a.type,y=a.pendingProps,w=o!==null?o.memoizedProps:null,P=y.children,r_(p,y)?P=null:w!==null&&r_(p,w)&&(a.flags|=32),nS(o,a),Un(o,a,P,c),a.child;case 6:return o===null&&h_(a),null;case 13:return oS(o,a,c);case 4:return w_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Gl(a,null,p,c):Un(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),XT(o,a,p,y,c);case 7:return Un(o,a,a.pendingProps,c),a.child;case 8:return Un(o,a,a.pendingProps.children,c),a.child;case 12:return Un(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,P=y.value,ft(dp,p._currentValue),p._currentValue=P,w!==null)if(ri(w.value,P)){if(w.children===y.children&&!Qn.current){a=gs(o,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var j=w.dependencies;if(j!==null){P=w.child;for(var z=j.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=ms(-1,c&-c),z.tag=2;var ee=w.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),ee.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),y_(w.return,c,a),j.lanes|=c;break}z=z.next}}else if(w.tag===10)P=w.type===a.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(t(341));P.lanes|=c,j=P.alternate,j!==null&&(j.lanes|=c),y_(P,c,a),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}Un(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Yl(a,c),y=Vr(y),p=p(y),a.flags|=1,Un(o,a,p,c),a.child;case 14:return p=a.type,y=si(p,a.pendingProps),y=si(p.type,y),ZT(o,a,p,y,c);case 15:return eS(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),Tp(o,a),a.tag=1,Yn(p)?(o=!0,sp(a)):o=!1,Yl(a,c),qT(a,p,y),N_(a,p,y,c),M_(null,a,p,!0,o,c);case 19:return lS(o,a,c);case 22:return tS(o,a,c)}throw Error(t(156,a.tag))};function OS(o,a){return Tl(o,a)}function SL(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(o,a,c,p){return new SL(o,a,c,p)}function rv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function RL(o){if(typeof o=="function")return rv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===U)return 14}return 2}function po(o,a){var c=o.alternate;return c===null?(c=Ur(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Dp(o,a,c,p,y,w){var P=2;if(p=o,typeof o=="function")rv(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case L:return Pa(c.children,y,w,a);case A:P=8,y|=8;break;case C:return o=Ur(12,c,a,y|2),o.elementType=C,o.lanes=w,o;case O:return o=Ur(13,c,a,y),o.elementType=O,o.lanes=w,o;case X:return o=Ur(19,c,a,y),o.elementType=X,o.lanes=w,o;case oe:return Lp(c,y,w,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:P=10;break e;case x:P=9;break e;case k:P=11;break e;case U:P=14;break e;case me:P=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Ur(P,c,a,y),a.elementType=o,a.type=p,a.lanes=w,a}function Pa(o,a,c,p){return o=Ur(7,o,p,a),o.lanes=c,o}function Lp(o,a,c,p){return o=Ur(22,o,p,a),o.elementType=oe,o.lanes=c,o.stateNode={isHidden:!1},o}function iv(o,a,c){return o=Ur(6,o,null,a),o.lanes=c,o}function sv(o,a,c){return a=Ur(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function AL(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function ov(o,a,c,p,y,w,P,j,z){return o=new AL(o,a,c,j,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Ur(3,null,null,a),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},v_(w),o}function bL(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function NS(o){if(!o)return io;o=o._reactInternals;e:{if(Yr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Yn(c))return aT(o,c,a)}return a}function DS(o,a,c,p,y,w,P,j,z){return o=ov(c,p,!0,o,y,w,P,j,z),o.context=NS(null),c=o.current,p=jn(),y=ho(c),w=ms(p,y),w.callback=a??null,ao(c,w,y),o.current.lanes=y,Qs(o,y,p),Zn(o,p),o}function Vp(o,a,c,p){var y=a.current,w=jn(),P=ho(y);return c=NS(c),a.context===null?a.context=c:a.pendingContext=c,a=ms(w,P),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=ao(y,a,P),o!==null&&(li(o,y,P,w),fp(o,y,P)),P}function Mp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function LS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function av(o,a){LS(o,a),(o=o.alternate)&&LS(o,a)}function PL(){return null}var VS=typeof reportError=="function"?reportError:function(o){console.error(o)};function lv(o){this._internalRoot=o}Fp.prototype.render=lv.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Vp(o,a,null,null)},Fp.prototype.unmount=lv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ra(function(){Vp(null,o,null,null)}),a[cs]=null}};function Fp(o){this._internalRoot=o}Fp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Ff();o={blockedOn:null,target:o,priority:a};for(var c=0;c<wi.length&&a!==0&&a<wi[c].priority;c++);wi.splice(c,0,o),c===0&&$f(o)}};function uv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Up(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function MS(){}function CL(o,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var ee=Mp(P);w.call(ee)}}var P=DS(a,p,o,0,null,!1,!1,"",MS);return o._reactRootContainer=P,o[cs]=P.current,nd(o.nodeType===8?o.parentNode:o),Ra(),P}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var j=p;p=function(){var ee=Mp(z);j.call(ee)}}var z=ov(o,0,!1,null,null,!1,!1,"",MS);return o._reactRootContainer=z,o[cs]=z.current,nd(o.nodeType===8?o.parentNode:o),Ra(function(){Vp(a,z,c,p)}),z}function jp(o,a,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var j=y;y=function(){var z=Mp(P);j.call(z)}}Vp(a,P,o,y)}else P=CL(c,a,o,y,p);return Mp(P)}Vf=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ks(a.pendingLanes);c!==0&&(Ys(a,c|1),Zn(a,ht()),(Xe&6)===0&&(tu=ht()+500,so()))}break;case 13:Ra(function(){var p=ps(o,1);if(p!==null){var y=jn();li(p,o,1,y)}}),av(o,1)}},Al=function(o){if(o.tag===13){var a=ps(o,134217728);if(a!==null){var c=jn();li(a,o,134217728,c)}av(o,134217728)}},Mf=function(o){if(o.tag===13){var a=ho(o),c=ps(o,a);if(c!==null){var p=jn();li(c,o,a,p)}av(o,a)}},Ff=function(){return He},Uf=function(o,a){var c=He;try{return He=o,a()}finally{He=c}},yl=function(o,a,c){switch(a){case"input":if(Cr(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=rp(p);if(!y)throw Error(t(90));it(p),Cr(p,y)}}}break;case"textarea":ml(o,c);break;case"select":a=c.value,a!=null&&ns(o,!!c.multiple,a,!1)}},sa=ev,Mc=Ra;var kL={usingClientEntryPoint:!1,Events:[sd,Bl,rp,_i,Vc,ev]},vd={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xL={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=jc(o),o===null?null:o.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||PL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{ca=$p.inject(xL),ur=$p}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kL,er.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(a))throw Error(t(200));return bL(o,a,null,c)},er.createRoot=function(o,a){if(!uv(o))throw Error(t(299));var c=!1,p="",y=VS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=ov(o,1,!1,null,null,c,!1,p,y),o[cs]=a.current,nd(o.nodeType===8?o.parentNode:o),new lv(a)},er.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=jc(a),o=o===null?null:o.stateNode,o},er.flushSync=function(o){return Ra(o)},er.hydrate=function(o,a,c){if(!Up(a))throw Error(t(200));return jp(null,o,a,!0,c)},er.hydrateRoot=function(o,a,c){if(!uv(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=VS;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=DS(a,null,o,1,c??null,y,!1,w,P),o[cs]=a.current,nd(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Fp(a)},er.render=function(o,a,c){if(!Up(a))throw Error(t(200));return jp(null,o,a,!1,c)},er.unmountComponentAtNode=function(o){if(!Up(o))throw Error(t(40));return o._reactRootContainer?(Ra(function(){jp(null,null,o,!1,function(){o._reactRootContainer=null,o[cs]=null})}),!0):!1},er.unstable_batchedUpdates=ev,er.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Up(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return jp(o,a,c,!1,p)},er.version="18.3.1-next-f1338f8080-20240426",er}var qS;function jL(){if(qS)return hv.exports;qS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hv.exports=UL(),hv.exports}var HS;function $L(){if(HS)return Bp;HS=1;var n=jL();return Bp.createRoot=n.createRoot,Bp.hydrateRoot=n.hydrateRoot,Bp}var BL=$L(),Ed={},KS;function zL(){if(KS)return Ed;KS=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.parse=l,Ed.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new s,R=_.length;if(R<2)return I;const b=(T==null?void 0:T.decode)||m;let M=0;do{const V=_.indexOf("=",M);if(V===-1)break;const F=_.indexOf(";",M),B=F===-1?R:F;if(V>B){M=_.lastIndexOf(";",V-1)+1;continue}const $=u(_,M,V),W=d(_,V,$),L=_.slice($,W);if(I[L]===void 0){let A=u(_,V+1,B),C=d(_,B,A);const E=b(_.slice(A,C));I[L]=E}M=B+1}while(M<R);return I}function u(_,T,I){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return I}function h(_,T,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=R(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let M=_+"="+b;if(!I)return M;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);M+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);M+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);M+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);M+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(M+="; HttpOnly"),I.secure&&(M+="; Secure"),I.partitioned&&(M+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return M}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return Ed}zL();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GS="popstate";function WL(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return tw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:gh(i)}return HL(e,t,null,n)}function xt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qL(){return Math.random().toString(36).substring(2,10)}function QS(n,e){return{usr:n.state,key:n.key,idx:e}}function tw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:t,key:e&&e.key||r||qL()}}function gh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ac(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function HL(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let b=m(),M=b==null?null:b-h;h=b,d&&d({action:u,location:R.location,delta:M})}function _(b,M){u="PUSH";let V=tw(R.location,b,M);h=m()+1;let F=QS(V,h),B=R.createHref(V);try{l.pushState(F,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(B)}s&&d&&d({action:u,location:R.location,delta:1})}function T(b,M){u="REPLACE";let V=tw(R.location,b,M);h=m();let F=QS(V,h),B=R.createHref(V);l.replaceState(F,"",B),s&&d&&d({action:u,location:R.location,delta:0})}function I(b){let M=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof b=="string"?b:gh(b);return V=V.replace(/ $/,"%20"),xt(M,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,M)}let R={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(GS,g),d=b,()=>{i.removeEventListener(GS,g),d=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let M=I(b);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:T,go(b){return l.go(b)}};return R}function BP(n,e,t="/"){return KL(n,e,t,!1)}function KL(n,e,t,r){let i=typeof e=="string"?ac(e):e,s=Oo(i.pathname||"/",t);if(s==null)return null;let l=zP(n);GL(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=sV(s);u=rV(l[d],h,r)}return u}function zP(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(xt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Ps([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(xt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),zP(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:tV(h,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of WP(s.path))i(s,l,d)}),e}function WP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=WP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function GL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var QL=/^:[\w-]+$/,YL=3,JL=2,XL=1,ZL=10,eV=-2,YS=n=>n==="*";function tV(n,e){let t=n.split("/"),r=t.length;return t.some(YS)&&(r+=eV),e&&(r+=JL),t.filter(i=>!YS(i)).reduce((i,s)=>i+(QL.test(s)?YL:s===""?XL:ZL),r)}function nV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function rV(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=Mm({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Mm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ps([s,g.pathname]),pathnameBase:uV(Ps([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Ps([s,g.pathnameBase]))}return l}function Mm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=iV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:n}}function iV(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function oV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ac(n):n;return{pathname:t?t.startsWith("/")?t:aV(t,e):e,search:cV(r),hash:dV(i)}}function aV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function mv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qP(n){let e=lV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function HP(n,e,t,r=!1){let i;typeof n=="string"?i=ac(n):(i={...n},xt(!i.pathname||!i.pathname.includes("?"),mv("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),mv("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),mv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=oV(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Ps=n=>n.join("/").replace(/\/\/+/g,"/"),uV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var KP=["POST","PUT","PATCH","DELETE"];new Set(KP);var fV=["GET",...KP];new Set(fV);var lc=K.createContext(null);lc.displayName="DataRouter";var Sg=K.createContext(null);Sg.displayName="DataRouterState";var GP=K.createContext({isTransitioning:!1});GP.displayName="ViewTransition";var pV=K.createContext(new Map);pV.displayName="Fetchers";var mV=K.createContext(null);mV.displayName="Await";var Zi=K.createContext(null);Zi.displayName="Navigation";var Hh=K.createContext(null);Hh.displayName="Location";var es=K.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var yE=K.createContext(null);yE.displayName="RouteError";function gV(n,{relative:e}={}){xt(Kh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Zi),{hash:i,pathname:s,search:l}=Gh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Ps([t,s])),r.createHref({pathname:u,search:l,hash:i})}function Kh(){return K.useContext(Hh)!=null}function Ko(){return xt(Kh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Hh).location}var QP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YP(n){K.useContext(Zi).static||K.useLayoutEffect(n)}function Rg(){let{isDataRoute:n}=K.useContext(es);return n?CV():yV()}function yV(){xt(Kh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(lc),{basename:e,navigator:t}=K.useContext(Zi),{matches:r}=K.useContext(es),{pathname:i}=Ko(),s=JSON.stringify(qP(r)),l=K.useRef(!1);return YP(()=>{l.current=!0}),K.useCallback((d,h={})=>{if(Ki(l.current,QP),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=HP(d,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ps([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}K.createContext(null);function JP(){let{matches:n}=K.useContext(es),e=n[n.length-1];return e?e.params:{}}function Gh(n,{relative:e}={}){let{matches:t}=K.useContext(es),{pathname:r}=Ko(),i=JSON.stringify(qP(t));return K.useMemo(()=>HP(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function _V(n,e){return XP(n,e)}function XP(n,e,t,r){var V;xt(Kh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=K.useContext(Zi),{matches:l}=K.useContext(es),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let F=g&&g.path||"";ZP(h,!g||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Ko(),T;if(e){let F=typeof e=="string"?ac(e):e;xt(m==="/"||((V=F.pathname)==null?void 0:V.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=_;let I=T.pathname||"/",R=I;if(m!=="/"){let F=m.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let b=!s&&t&&t.matches&&t.matches.length>0?t.matches:BP(n,{pathname:R});Ki(g||b!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ki(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=TV(b&&b.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Ps([m,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:Ps([m,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,t,r);return e&&M?K.createElement(Hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},M):M}function vV(){let n=PV(),e=hV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var wV=K.createElement(vV,null),EV=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(es.Provider,{value:this.props.routeContext},K.createElement(yE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IV({routeContext:n,match:e,children:t}){let r=K.useContext(lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(es.Provider,{value:n},t)}function TV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,T=null,I=null;t&&(g=s&&h.route.id?s[h.route.id]:void 0,T=h.route.errorElement||wV,l&&(u<0&&m===0?(ZP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),b=()=>{let M;return g?M=T:_?M=I:h.route.Component?M=K.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=d,K.createElement(IV,{match:h,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:M})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?K.createElement(EV,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:b(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):b()},null)}function _E(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SV(n){let e=K.useContext(lc);return xt(e,_E(n)),e}function RV(n){let e=K.useContext(Sg);return xt(e,_E(n)),e}function AV(n){let e=K.useContext(es);return xt(e,_E(n)),e}function vE(n){let e=AV(n),t=e.matches[e.matches.length-1];return xt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bV(){return vE("useRouteId")}function PV(){var r;let n=K.useContext(yE),e=RV("useRouteError"),t=vE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function CV(){let{router:n}=SV("useNavigate"),e=vE("useNavigate"),t=K.useRef(!1);return YP(()=>{t.current=!0}),K.useCallback(async(i,s={})=>{Ki(t.current,QP),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var JS={};function ZP(n,e,t){!e&&!JS[n]&&(JS[n]=!0,Ki(!1,t))}K.memo(kV);function kV({routes:n,future:e,state:t}){return XP(n,void 0,t,e)}function Io(n){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){xt(!Kh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=ac(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,T=K.useMemo(()=>{let I=Oo(d,l);return I==null?null:{location:{pathname:I,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return Ki(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(Zi.Provider,{value:u},K.createElement(Hh.Provider,{children:e,value:T}))}function OV({children:n,location:e}){return _V(nw(n),e)}function nw(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){t.push.apply(t,nw(r.props.children,s));return}xt(r.type===Io,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=nw(r.props.children,s)),t.push(l)}),t}var am="get",lm="application/x-www-form-urlencoded";function Ag(n){return n!=null&&typeof n.tagName=="string"}function NV(n){return Ag(n)&&n.tagName.toLowerCase()==="button"}function DV(n){return Ag(n)&&n.tagName.toLowerCase()==="form"}function LV(n){return Ag(n)&&n.tagName.toLowerCase()==="input"}function VV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MV(n,e){return n.button===0&&(!e||e==="_self")&&!VV(n)}var zp=null;function FV(){if(zp===null)try{new FormData(document.createElement("form"),0),zp=!1}catch{zp=!0}return zp}var UV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gv(n){return n!=null&&!UV.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lm}"`),null):n}function jV(n,e){let t,r,i,s,l;if(DV(n)){let u=n.getAttribute("action");r=u?Oo(u,e):null,t=n.getAttribute("method")||am,i=gv(n.getAttribute("enctype"))||lm,s=new FormData(n)}else if(NV(n)||LV(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Oo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||am,i=gv(n.getAttribute("formenctype"))||gv(u.getAttribute("enctype"))||lm,s=new FormData(u,n),!FV()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(Ag(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=am,r=null,i=lm,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function wE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function $V(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zV(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await $V(s,t);return l.links?l.links():[]}return[]}));return KV(r.flat(1).filter(BV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function XS(n,e,t,r,i,s){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function WV(n,e,{includeHydrateFallback:t}={}){return qV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function qV(n){return[...new Set(n)]}function HV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function KV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(HV(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function GV(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function QV(){let n=K.useContext(lc);return wE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YV(){let n=K.useContext(Sg);return wE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var EE=K.createContext(void 0);EE.displayName="FrameworkContext";function eC(){let n=K.useContext(EE);return wE(n,"You must render this element inside a <HydratedRouter> element"),n}function JV(n,e){let t=K.useContext(EE),[r,i]=K.useState(!1),[s,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=M=>{M.forEach(V=>{l(V.isIntersecting)})},b=new IntersectionObserver(R,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Id(u,T),onBlur:Id(d,I),onMouseEnter:Id(h,T),onMouseLeave:Id(m,I),onTouchStart:Id(g,T)}]:[!1,_,{}]}function Id(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XV({page:n,...e}){let{router:t}=QV(),r=K.useMemo(()=>BP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(eM,{page:n,matches:r,...e}):null}function ZV(n){let{manifest:e,routeModules:t}=eC(),[r,i]=K.useState([]);return K.useEffect(()=>{let s=!1;return zV(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function eM({page:n,matches:e,...t}){let r=Ko(),{manifest:i,routeModules:s}=eC(),{loaderData:l,matches:u}=YV(),d=K.useMemo(()=>XS(n,e,u,i,r,"data"),[n,e,u,i,r]),h=K.useMemo(()=>XS(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(b=>{var V;let M=i.routes[b.route.id];!M||!M.hasLoader||(!d.some(F=>F.route.id===b.route.id)&&b.route.id in l&&((V=s[b.route.id])!=null&&V.shouldRevalidate)||M.hasClientLoader?I=!0:T.add(b.route.id))}),T.size===0)return[];let R=GV(n);return I&&T.size>0&&R.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,s]),g=K.useMemo(()=>WV(h,i),[h,i]),_=ZV(h);return K.createElement(K.Fragment,null,m.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:I})=>K.createElement("link",{key:T,...I})))}function tM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tC&&(window.__reactRouterVersion="7.2.0")}catch{}function nM({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=WL({window:t,v5Compat:!0}));let i=r.current,[s,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(xV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var nC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=K.useContext(Zi),R=typeof h=="string"&&nC.test(h),b,M=!1;if(typeof h=="string"&&R&&(b=h,tC))try{let C=new URL(window.location.href),E=h.startsWith("//")?new URL(C.protocol+h):new URL(h),x=Oo(E.pathname,I);E.origin===C.origin&&x!=null?h=x+E.search+E.hash:M=!0}catch{Ki(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=gV(h,{relative:i}),[F,B,$]=JV(r,_),W=oM(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function L(C){e&&e(C),C.defaultPrevented||W(C)}let A=K.createElement("a",{..._,...$,href:b||V,onClick:M||s?e:L,ref:tM(T,B),target:d,"data-discover":!R&&t==="render"?"true":void 0});return F&&!R?K.createElement(K.Fragment,null,A,K.createElement(XV,{page:V})):A});di.displayName="Link";var rM=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},m){let g=Gh(l,{relative:h.relative}),_=Ko(),T=K.useContext(Sg),{navigator:I,basename:R}=K.useContext(Zi),b=T!=null&&dM(g)&&u===!0,M=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,V=_.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(V=V.toLowerCase(),F=F?F.toLowerCase():null,M=M.toLowerCase()),F&&R&&(F=Oo(F,R)||F);const B=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let $=V===M||!i&&V.startsWith(M)&&V.charAt(B)==="/",W=F!=null&&(F===M||!i&&F.startsWith(M)&&F.charAt(M.length)==="/"),L={isActive:$,isPending:W,isTransitioning:b},A=$?e:void 0,C;typeof r=="function"?C=r(L):C=[r,$?"active":null,W?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(L):s;return K.createElement(di,{...h,"aria-current":A,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(L):d)});rM.displayName="NavLink";var iM=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=am,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=uM(),R=cM(u,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&nC.test(u),V=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let B=F.nativeEvent.submitter,$=(B==null?void 0:B.getAttribute("formmethod"))||l;I(B||F.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:T,method:b,action:R,onSubmit:r?d:V,..._,"data-discover":!M&&n==="render"?"true":void 0})});iM.displayName="Form";function sM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(n){let e=K.useContext(lc);return xt(e,sM(n)),e}function oM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Rg(),d=Ko(),h=Gh(n,{relative:s});return K.useCallback(m=>{if(MV(m,e)){m.preventDefault();let g=t!==void 0?t:gh(d)===gh(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,t,r,e,n,i,s,l])}var aM=0,lM=()=>`__${String(++aM)}__`;function uM(){let{router:n}=rC("useSubmit"),{basename:e}=K.useContext(Zi),t=bV();return K.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=jV(r,e);if(i.navigate===!1){let m=i.fetcherKey||lM();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function cM(n,{relative:e}={}){let{basename:t}=K.useContext(Zi),r=K.useContext(es);xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Gh(n||".",{relative:e})},l=Ko();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ps([t,s.pathname])),gh(s)}function dM(n,e={}){let t=K.useContext(GP);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rC("useViewTransitionState"),i=Gh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Oo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Oo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Mm(i.pathname,l)!=null||Mm(i.pathname,s)!=null}new TextEncoder;const hM="/Amazon-Clone/assets/image1-yhNuh496.jpeg",fM="/Amazon-Clone/assets/image2-0z9TqRqU.jpeg",pM="/Amazon-Clone/assets/image3-DrA8n_bB.jpeg",mM="/Amazon-Clone/assets/image4-BLse7YvS.jpg",gM="/Amazon-Clone/assets/image5-CI2wMYdz.jpeg",yM="/Amazon-Clone/assets/image6-Dy19UUKI.jpeg",_M="/Amazon-Clone/assets/image7-lGrFhA8K.jpeg",vM="/Amazon-Clone/assets/image8-DqWcYA35.jpeg",yv=[hM,fM,pM,mM,gM,yM,_M,vM];var _v={},Td={},Wp={},qp={},vv={exports:{}},wv,ZS;function wM(){if(ZS)return wv;ZS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wv=n,wv}var Ev,eR;function EM(){if(eR)return Ev;eR=1;var n=wM();function e(){}function t(){}return t.resetWarningCache=e,Ev=function(){function r(l,u,d,h,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Ev}var tR;function iC(){return tR||(tR=1,vv.exports=EM()()),vv.exports}var nR;function IM(){return nR||(nR=1,function(n){(function(e,t){t(n,Ho(),iC())})(qp,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),s=l(r);function l(V){return V&&V.__esModule?V:{default:V}}var u=Object.assign||function(V){for(var F=1;F<arguments.length;F++){var B=arguments[F];for(var $ in B)Object.prototype.hasOwnProperty.call(B,$)&&(V[$]=B[$])}return V};function d(V,F){var B={};for(var $ in V)F.indexOf($)>=0||Object.prototype.hasOwnProperty.call(V,$)&&(B[$]=V[$]);return B}function h(V,F){if(!(V instanceof F))throw new TypeError("Cannot call a class as a function")}var m=function(){function V(F,B){for(var $=0;$<B.length;$++){var W=B[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(F,W.key,W)}}return function(F,B,$){return B&&V(F.prototype,B),$&&V(F,$),F}}();function g(V,F){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:V}function _(V,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);V.prototype=Object.create(F&&F.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(V,F):V.__proto__=F)}var T=!1;function I(V){T=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function R(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?V:V.capture}function b(V){if("touches"in V){var F=V.touches[0],B=F.pageX,$=F.pageY;return{x:B,y:$}}var W=V.screenX,L=V.screenY;return{x:W,y:L}}var M=function(V){_(F,V);function F(){var B;h(this,F);for(var $=arguments.length,W=Array($),L=0;L<$;L++)W[L]=arguments[L];var A=g(this,(B=F.__proto__||Object.getPrototypeOf(F)).call.apply(B,[this].concat(W)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m(F,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function($){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart($))}},{key:"_onMouseMove",value:function($){this.mouseDown&&this._handleSwipeMove($)}},{key:"_onMouseUp",value:function($){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd($)}},{key:"_handleSwipeStart",value:function($){var W=b($),L=W.x,A=W.y;this.moveStart={x:L,y:A},this.props.onSwipeStart($)}},{key:"_handleSwipeMove",value:function($){if(this.moveStart){var W=b($),L=W.x,A=W.y,C=L-this.moveStart.x,E=A-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:E},$);x&&$.cancelable&&$.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function($){this.props.onSwipeEnd($);var W=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-W?this.props.onSwipeLeft(1,$):this.movePosition.deltaX>W&&this.props.onSwipeRight(1,$),this.movePosition.deltaY<-W?this.props.onSwipeUp(1,$):this.movePosition.deltaY>W&&this.props.onSwipeDown(1,$)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function($){this.swiper=$,this.props.innerRef($)}},{key:"render",value:function(){var $=this.props;$.tagName;var W=$.className,L=$.style,A=$.children;$.allowMouseEvents,$.onSwipeUp,$.onSwipeDown,$.onSwipeLeft,$.onSwipeRight,$.onSwipeStart,$.onSwipeMove,$.onSwipeEnd,$.innerRef,$.tolerance;var C=d($,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:W,style:L},C),A)}}]),F}(t.Component);M.displayName="ReactSwipe",M.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},M.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=M})}(qp)),qp}var rR;function sC(){return rR||(rR=1,function(n){(function(e,t){t(n,IM())})(Wp,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})}(Wp)),Wp}var Sd={},Iv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var iR;function TM(){return iR||(iR=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Iv)),Iv.exports}var sR;function oC(){if(sR)return Sd;sR=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.default=void 0;var n=e(TM());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return Sd.default=r,Sd}var Rd={},Ad={},oR;function SM(){if(oR)return Ad;oR=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Ad.outerWidth=n,Ad}var bd={},aR;function IE(){if(aR)return bd;aR=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return bd.default=n,bd}var Pd={},lR;function aC(){if(lR)return Pd;lR=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.default=void 0;var n=function(){return window};return Pd.default=n,Pd}var uR;function lC(){if(uR)return Rd;uR=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.default=void 0;var n=d(Ho()),e=l(oC()),t=SM(),r=l(IE()),i=l(sC()),s=l(aC());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||h(A)!=="object"&&typeof A!="function")return{default:A};var C=u();if(C&&C.has(A))return C.get(A);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in A)if(Object.prototype.hasOwnProperty.call(A,k)){var O=x?Object.getOwnPropertyDescriptor(A,k):null;O&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=A[k]}return E.default=A,C&&C.set(A,E),E}function h(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(A)}function m(){return m=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(A[x]=E[x])}return A},m.apply(this,arguments)}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function _(A,C){for(var E=0;E<C.length;E++){var x=C[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function T(A,C,E){return C&&_(A.prototype,C),A}function I(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),C&&R(A,C)}function R(A,C){return R=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x},R(A,C)}function b(A){var C=F();return function(){var x=B(A),k;if(C){var O=B(this).constructor;k=Reflect.construct(x,arguments,O)}else k=x.apply(this,arguments);return M(this,k)}}function M(A,C){return C&&(h(C)==="object"||typeof C=="function")?C:V(A)}function V(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function B(A){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},B(A)}function $(A,C,E){return C in A?Object.defineProperty(A,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[C]=E,A}var W=function(C){return C.hasOwnProperty("key")},L=function(A){I(E,A);var C=b(E);function E(x){var k;return g(this,E),k=C.call(this,x),$(V(k),"itemsWrapperRef",void 0),$(V(k),"itemsListRef",void 0),$(V(k),"thumbsRef",void 0),$(V(k),"setItemsWrapperRef",function(O){k.itemsWrapperRef=O}),$(V(k),"setItemsListRef",function(O){k.itemsListRef=O}),$(V(k),"setThumbsRef",function(O,X){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[X]=O}),$(V(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var O=n.Children.count(k.props.children),X=k.itemsWrapperRef.clientWidth,U=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),me=Math.floor(X/U),oe=me<O,Z=oe?O-me:0;k.setState(function(pe,de){return{itemSize:U,visibleItems:me,firstItem:oe?k.getFirstItem(de.selectedItem):0,lastPosition:Z,showArrows:oe}})}}),$(V(k),"handleClickItem",function(O,X,U){if(!W(U)||U.key==="Enter"){var me=k.props.onSelectItem;typeof me=="function"&&me(O,X)}}),$(V(k),"onSwipeStart",function(){k.setState({swiping:!0})}),$(V(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),$(V(k),"onSwipeMove",function(O){var X=O.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var U=0,me=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,Z=Math.max(me-k.state.visibleItems,0),pe=-Z*100/k.state.visibleItems;oe===U&&X>0&&(X=0),oe===pe&&X<0&&(X=0);var de=k.itemsWrapperRef.clientWidth,q=oe+100/(de/X);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(q,"%",k.props.axis)}),!0}),$(V(k),"slideRight",function(O){k.moveTo(k.state.firstItem-(typeof O=="number"?O:1))}),$(V(k),"slideLeft",function(O){k.moveTo(k.state.firstItem+(typeof O=="number"?O:1))}),$(V(k),"moveTo",function(O){O=O<0?0:O,O=O>=k.state.lastPosition?k.state.lastPosition:O,k.setState({firstItem:O})}),k.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var O=k;return k>=this.state.lastPosition&&(O=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),k<this.state.firstItem&&(O=k),O}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(O,X){var U=e.default.ITEM(!1,X===k.state.selectedItem),me={key:X,ref:function(Z){return k.setThumbsRef(Z,X)},className:U,onClick:k.handleClickItem.bind(k,X,k.props.children[X]),onKeyDown:k.handleClickItem.bind(k,X,k.props.children[X]),"aria-label":"".concat(k.props.labels.item," ").concat(X+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},me,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,X=this.state.showArrows&&this.state.firstItem>0,U=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,me={},oe=-this.state.firstItem*(this.state.itemSize||0),Z=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return me={WebkitTransform:Z,MozTransform:Z,MsTransform:Z,OTransform:Z,transform:Z,msTransform:Z,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!X),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:me,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(q){return k.setItemsListRef(q)},style:me},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!U),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Rd.default=L,$(L,"displayName","Thumbs"),$(L,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Rd}var Cd={},cR;function RM(){if(cR)return Cd;cR=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.default=void 0;var n=function(){return document};return Cd.default=n,Cd}var gr={},dR;function uC(){if(dR)return gr;dR=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.setPosition=gr.getPosition=gr.isKeyboardEvent=gr.defaultStatusFormatter=gr.noop=void 0;var n=Ho(),e=t(IE());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};gr.noop=r;var i=function(h,m){return"".concat(h," of ").concat(m)};gr.defaultStatusFormatter=i;var s=function(h){return h?h.hasOwnProperty("key"):!1};gr.isKeyboardEvent=s;var l=function(h,m){if(m.infiniteLoop&&++h,h===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-h*m.centerSlidePercentage,T=g-1;return h&&(h!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:h===T&&(_+=100-m.centerSlidePercentage),_}return-h*100};gr.getPosition=l;var u=function(h,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(h,"%",m)}),g};return gr.setPosition=u,gr}var ui={},hR;function AM(){if(hR)return ui;hR=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.fadeAnimationHandler=ui.slideStopSwipingHandler=ui.slideSwipeAnimationHandler=ui.slideAnimationHandler=void 0;var n=Ho(),e=r(IE()),t=uC();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),T.push.apply(T,I)}return T}function s(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},R=T.selectedItem,b=R,M=n.Children.count(_.children)-1,V=_.infiniteLoop&&(R<0||R>M);if(V)return b<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(M+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(M+2)*100,_.axis):b>M&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var F=(0,t.getPosition)(R,_),B=(0,e.default)(F,"%",_.axis),$=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:B,msTransform:B,OTransform:B,transform:B},T.swiping||(I.itemListStyle=s(s({},I.itemListStyle),{},{WebkitTransitionDuration:$,MozTransitionDuration:$,OTransitionDuration:$,transitionDuration:$,msTransitionDuration:$})),I};ui.slideAnimationHandler=u;var d=function(_,T,I,R){var b={},M=T.axis==="horizontal",V=n.Children.count(T.children),F=0,B=(0,t.getPosition)(I.selectedItem,T),$=T.infiniteLoop?(0,t.getPosition)(V-1,T)-100:(0,t.getPosition)(V-1,T),W=M?_.x:_.y,L=W;B===F&&W>0&&(L=0),B===$&&W<0&&(L=0);var A=B+100/(I.itemSize/L),C=Math.abs(W)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&A>-100?A-=V*100:I.selectedItem===V-1&&A<-V*100&&(A+=V*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||R({swipeMovementStarted:!0}),b.itemListStyle=(0,t.setPosition)(A,T.axis)),C&&!I.cancelClick&&R({cancelClick:!0}),b};ui.slideSwipeAnimationHandler=d;var h=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),R=(0,t.setPosition)(I,_.axis);return{itemListStyle:R}};ui.slideStopSwipingHandler=h;var m=function(_,T){var I=_.transitionTime+"ms",R="ease-in-out",b={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(b=s(s({},b),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:b,selectedStyle:s(s({},b),{},{opacity:1,position:"relative"}),prevStyle:s({},b)}};return ui.fadeAnimationHandler=m,ui}var fR;function bM(){if(fR)return Td;fR=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.default=void 0;var n=m(Ho()),e=d(sC()),t=d(oC()),r=d(lC()),i=d(RM()),s=d(aC()),l=uC(),u=AM();function d(x){return x&&x.__esModule?x:{default:x}}function h(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return h=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||g(x)!=="object"&&typeof x!="function")return{default:x};var k=h();if(k&&k.has(x))return k.get(x);var O={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in x)if(Object.prototype.hasOwnProperty.call(x,U)){var me=X?Object.getOwnPropertyDescriptor(x,U):null;me&&(me.get||me.set)?Object.defineProperty(O,U,me):O[U]=x[U]}return O.default=x,k&&k.set(x,O),O}function g(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(O){return typeof O}:g=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g(x)}function _(){return _=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var X in O)Object.prototype.hasOwnProperty.call(O,X)&&(x[X]=O[X])}return x},_.apply(this,arguments)}function T(x,k){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(x);k&&(X=X.filter(function(U){return Object.getOwnPropertyDescriptor(x,U).enumerable})),O.push.apply(O,X)}return O}function I(x){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?T(Object(O),!0).forEach(function(X){C(x,X,O[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):T(Object(O)).forEach(function(X){Object.defineProperty(x,X,Object.getOwnPropertyDescriptor(O,X))})}return x}function R(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function b(x,k){for(var O=0;O<k.length;O++){var X=k[O];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}function M(x,k,O){return k&&b(x.prototype,k),x}function V(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),k&&F(x,k)}function F(x,k){return F=Object.setPrototypeOf||function(X,U){return X.__proto__=U,X},F(x,k)}function B(x){var k=L();return function(){var X=A(x),U;if(k){var me=A(this).constructor;U=Reflect.construct(X,arguments,me)}else U=X.apply(this,arguments);return $(this,U)}}function $(x,k){return k&&(g(k)==="object"||typeof k=="function")?k:W(x)}function W(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},A(x)}function C(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}var E=function(x){V(O,x);var k=B(O);function O(X){var U;R(this,O),U=k.call(this,X),C(W(U),"thumbsRef",void 0),C(W(U),"carouselWrapperRef",void 0),C(W(U),"listRef",void 0),C(W(U),"itemsRef",void 0),C(W(U),"timer",void 0),C(W(U),"animationHandler",void 0),C(W(U),"setThumbsRef",function(oe){U.thumbsRef=oe}),C(W(U),"setCarouselWrapperRef",function(oe){U.carouselWrapperRef=oe}),C(W(U),"setListRef",function(oe){U.listRef=oe}),C(W(U),"setItemsRef",function(oe,Z){U.itemsRef||(U.itemsRef=[]),U.itemsRef[Z]=oe}),C(W(U),"autoPlay",function(){n.Children.count(U.props.children)<=1||(U.clearAutoPlay(),U.props.autoPlay&&(U.timer=setTimeout(function(){U.increment()},U.props.interval)))}),C(W(U),"clearAutoPlay",function(){U.timer&&clearTimeout(U.timer)}),C(W(U),"resetAutoPlay",function(){U.clearAutoPlay(),U.autoPlay()}),C(W(U),"stopOnHover",function(){U.setState({isMouseEntered:!0},U.clearAutoPlay)}),C(W(U),"startOnLeave",function(){U.setState({isMouseEntered:!1},U.autoPlay)}),C(W(U),"isFocusWithinTheCarousel",function(){return U.carouselWrapperRef?!!((0,i.default)().activeElement===U.carouselWrapperRef||U.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(W(U),"navigateWithKeyboard",function(oe){if(U.isFocusWithinTheCarousel()){var Z=U.props.axis,pe=Z==="horizontal",de={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},q=pe?de.ArrowRight:de.ArrowDown,ie=pe?de.ArrowLeft:de.ArrowUp;q===oe.keyCode?U.increment():ie===oe.keyCode&&U.decrement()}}),C(W(U),"updateSizes",function(){if(!(!U.state.initialized||!U.itemsRef||U.itemsRef.length===0)){var oe=U.props.axis==="horizontal",Z=U.itemsRef[0];if(Z){var pe=oe?Z.clientWidth:Z.clientHeight;U.setState({itemSize:pe}),U.thumbsRef&&U.thumbsRef.updateSizes()}}}),C(W(U),"setMountState",function(){U.setState({hasMount:!0}),U.updateSizes()}),C(W(U),"handleClickItem",function(oe,Z){if(n.Children.count(U.props.children)!==0){if(U.state.cancelClick){U.setState({cancelClick:!1});return}U.props.onClickItem(oe,Z),oe!==U.state.selectedItem&&U.setState({selectedItem:oe})}}),C(W(U),"handleOnChange",function(oe,Z){n.Children.count(U.props.children)<=1||U.props.onChange(oe,Z)}),C(W(U),"handleClickThumb",function(oe,Z){U.props.onClickThumb(oe,Z),U.moveTo(oe)}),C(W(U),"onSwipeStart",function(oe){U.setState({swiping:!0}),U.props.onSwipeStart(oe)}),C(W(U),"onSwipeEnd",function(oe){U.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),U.props.onSwipeEnd(oe),U.clearAutoPlay(),U.state.autoPlay&&U.autoPlay()}),C(W(U),"onSwipeMove",function(oe,Z){U.props.onSwipeMove(Z);var pe=U.props.swipeAnimationHandler(oe,U.props,U.state,U.setState.bind(W(U)));return U.setState(I({},pe)),!!Object.keys(pe).length}),C(W(U),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;U.moveTo(U.state.selectedItem-(typeof oe=="number"?oe:1))}),C(W(U),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;U.moveTo(U.state.selectedItem+(typeof oe=="number"?oe:1))}),C(W(U),"moveTo",function(oe){if(typeof oe=="number"){var Z=n.Children.count(U.props.children)-1;oe<0&&(oe=U.props.infiniteLoop?Z:0),oe>Z&&(oe=U.props.infiniteLoop?0:Z),U.selectItem({selectedItem:oe}),U.state.autoPlay&&U.state.isMouseEntered===!1&&U.resetAutoPlay()}}),C(W(U),"onClickNext",function(){U.increment(1)}),C(W(U),"onClickPrev",function(){U.decrement(1)}),C(W(U),"onSwipeForward",function(){U.increment(1),U.props.emulateTouch&&U.setState({cancelClick:!0})}),C(W(U),"onSwipeBackwards",function(){U.decrement(1),U.props.emulateTouch&&U.setState({cancelClick:!0})}),C(W(U),"changeItem",function(oe){return function(Z){(!(0,l.isKeyboardEvent)(Z)||Z.key==="Enter")&&U.moveTo(oe)}}),C(W(U),"selectItem",function(oe){U.setState(I({previousItem:U.state.selectedItem},oe),function(){U.setState(U.animationHandler(U.props,U.state))}),U.handleOnChange(oe.selectedItem,n.Children.toArray(U.props.children)[oe.selectedItem])}),C(W(U),"getInitialImage",function(){var oe=U.props.selectedItem,Z=U.itemsRef&&U.itemsRef[oe],pe=Z&&Z.getElementsByTagName("img")||[];return pe[0]}),C(W(U),"getVariableItemHeight",function(oe){var Z=U.itemsRef&&U.itemsRef[oe];if(U.state.hasMount&&Z&&Z.children.length){var pe=Z.children[0].getElementsByTagName("img")||[];if(pe.length>0){var de=pe[0];if(!de.complete){var q=function ke(){U.forceUpdate(),de.removeEventListener("load",ke)};de.addEventListener("load",q)}}var ie=pe[0]||Z.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var me={initialized:!1,previousItem:X.selectedItem,selectedItem:X.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:X.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return U.animationHandler=typeof X.animationHandler=="function"&&X.animationHandler||X.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,U.state=I(I({},me),U.animationHandler(X,me)),U}return M(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(U,me){!U.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!U.autoFocus&&this.props.autoFocus&&this.forceFocus(),me.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(U.selectedItem!==this.props.selectedItem||U.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),U.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var U=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var me=U.getInitialImage();me&&!me.complete?me.addEventListener("load",U.setMountState):U.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var U=this.carouselWrapperRef;this.props.stopOnHover&&U&&(U.addEventListener("mouseenter",this.stopOnHover),U.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var U=this.carouselWrapperRef;this.props.stopOnHover&&U&&(U.removeEventListener("mouseenter",this.stopOnHover),U.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var U=this.getInitialImage();U&&U.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var U;(U=this.carouselWrapperRef)===null||U===void 0||U.focus()}},{key:"renderItems",value:function(U){var me=this;return this.props.children?n.Children.map(this.props.children,function(oe,Z){var pe=Z===me.state.selectedItem,de=Z===me.state.previousItem,q=pe&&me.state.selectedStyle||de&&me.state.prevStyle||me.state.slideStyle||{};me.props.centerMode&&me.props.axis==="horizontal"&&(q=I(I({},q),{},{minWidth:me.props.centerSlidePercentage+"%"})),me.state.swiping&&me.state.swipeMovementStarted&&(q=I(I({},q),{},{pointerEvents:"none"}));var ie={ref:function(ke){return me.setItemsRef(ke,Z)},key:"itemKey"+Z+(U?"clone":""),className:t.default.ITEM(!0,Z===me.state.selectedItem,Z===me.state.previousItem),onClick:me.handleClickItem.bind(me,Z,oe),style:q};return n.default.createElement("li",ie,me.props.renderItem(oe,{isSelected:Z===me.state.selectedItem,isPrevious:Z===me.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var U=this,me=this.props,oe=me.showIndicators,Z=me.labels,pe=me.renderIndicator,de=me.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(de,function(q,ie){return pe&&pe(U.changeItem(ie),ie===U.state.selectedItem,ie,Z.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var U=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var me=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",Z=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=Z&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,de=Z&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,q=this.renderItems(!0),ie=q.shift(),Te=q.pop(),ke={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ve={};if(oe){if(ke.onSwipeLeft=this.onSwipeForward,ke.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var je=this.getVariableItemHeight(this.state.selectedItem);Ve.height=je||"auto"}}else ke.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ke.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ke.style=I(I({},ke.style),{},{height:this.state.itemSize}),Ve.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ve},me?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},ke,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(qe){return U.setListRef(qe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,de,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return Td.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_PREV(!O),onClick:k})},renderArrowNext:function(k,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_NEXT(!O),onClick:k})},renderIndicator:function(k,O,X,U){return n.default.createElement("li",{className:t.default.DOT(O),onClick:k,onKeyDown:k,value:X,key:X,role:"button",tabIndex:0,"aria-label":"".concat(U," ").concat(X+1)})},renderItem:function(k){return k},renderThumbs:function(k){var O=n.Children.map(k,function(X){var U=X;if(X.type!=="img"&&(U=n.Children.toArray(X.props.children).find(function(me){return me.type==="img"})),!!U)return U});return O.filter(function(X){return X}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),Td}var pR={},mR;function PM(){return mR||(mR=1),pR}var gR;function CM(){return gR||(gR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(bM()),t=PM(),r=i(lC());function i(s){return s&&s.__esModule?s:{default:s}}}(_v)),_v}var kM=CM();const xM="_hero__img_170xk_11",OM={hero__img:xM};function NM(){return N.jsxs("div",{children:[N.jsx(kM.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showStatus:!1,children:yv==null?void 0:yv.map(n=>N.jsx("img",{src:n,alt:""},n))}),N.jsx("div",{className:OM.hero__img})]})}const DM=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517990_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/61P3bPmIWAL._AC_SY741_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/81Y6r7df7OL._AC_SX569_.jpg"},{title:"jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/81YUtidOP5L._AC_SY675_.jpg"}],LM="_category_a323y_1",VM="_category__container_a323y_61",cC={category:LM,category__container:VM};function MM({data:n}){return N.jsx("div",{className:cC.category,children:N.jsxs(di,{to:`/category/${n.name}`,children:[N.jsx("span",{children:N.jsx("h2",{children:n==null?void 0:n.title})}),N.jsx("img",{src:n==null?void 0:n.imgLink,alt:""}),N.jsx("p",{children:"shop now"})]})})}function FM(){return N.jsx("section",{className:cC.category__container,children:DM.map((n,e)=>N.jsx(MM,{data:n},e))})}function dC(n,e){return function(){return n.apply(e,arguments)}}const{toString:UM}=Object.prototype,{getPrototypeOf:TE}=Object,bg=(n=>e=>{const t=UM.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),mi=n=>(n=n.toLowerCase(),e=>bg(e)===n),Pg=n=>e=>typeof e===n,{isArray:uc}=Array,yh=Pg("undefined");function jM(n){return n!==null&&!yh(n)&&n.constructor!==null&&!yh(n.constructor)&&Tr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const hC=mi("ArrayBuffer");function $M(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&hC(n.buffer),e}const BM=Pg("string"),Tr=Pg("function"),fC=Pg("number"),Cg=n=>n!==null&&typeof n=="object",zM=n=>n===!0||n===!1,um=n=>{if(bg(n)!=="object")return!1;const e=TE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},WM=mi("Date"),qM=mi("File"),HM=mi("Blob"),KM=mi("FileList"),GM=n=>Cg(n)&&Tr(n.pipe),QM=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Tr(n.append)&&((e=bg(n))==="formdata"||e==="object"&&Tr(n.toString)&&n.toString()==="[object FormData]"))},YM=mi("URLSearchParams"),[JM,XM,ZM,e2]=["ReadableStream","Request","Response","Headers"].map(mi),t2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),uc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function pC(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mC=n=>!yh(n)&&n!==Ua;function rw(){const{caseless:n}=mC(this)&&this||{},e={},t=(r,i)=>{const s=n&&pC(e,i)||i;um(e[s])&&um(r)?e[s]=rw(e[s],r):um(r)?e[s]=rw({},r):uc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Qh(arguments[r],t);return e}const n2=(n,e,t,{allOwnKeys:r}={})=>(Qh(e,(i,s)=>{t&&Tr(i)?n[s]=dC(i,t):n[s]=i},{allOwnKeys:r}),n),r2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),i2=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},s2=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&TE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},o2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},a2=n=>{if(!n)return null;if(uc(n))return n;let e=n.length;if(!fC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},l2=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&TE(Uint8Array)),u2=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},c2=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},d2=mi("HTMLFormElement"),h2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),yR=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),f2=mi("RegExp"),gC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Qh(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},p2=n=>{gC(n,(e,t)=>{if(Tr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Tr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},m2=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return uc(n)?r(n):r(String(n).split(e)),t},g2=()=>{},y2=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function _2(n){return!!(n&&Tr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const v2=n=>{const e=new Array(10),t=(r,i)=>{if(Cg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=uc(r)?[]:{};return Qh(r,(l,u)=>{const d=t(l,i+1);!yh(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},w2=mi("AsyncFunction"),E2=n=>n&&(Cg(n)||Tr(n))&&Tr(n.then)&&Tr(n.catch),yC=((n,e)=>n?setImmediate:e?((t,r)=>(Ua.addEventListener("message",({source:i,data:s})=>{i===Ua&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Ua.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Tr(Ua.postMessage)),I2=typeof queueMicrotask<"u"?queueMicrotask.bind(Ua):typeof process<"u"&&process.nextTick||yC,re={isArray:uc,isArrayBuffer:hC,isBuffer:jM,isFormData:QM,isArrayBufferView:$M,isString:BM,isNumber:fC,isBoolean:zM,isObject:Cg,isPlainObject:um,isReadableStream:JM,isRequest:XM,isResponse:ZM,isHeaders:e2,isUndefined:yh,isDate:WM,isFile:qM,isBlob:HM,isRegExp:f2,isFunction:Tr,isStream:GM,isURLSearchParams:YM,isTypedArray:l2,isFileList:KM,forEach:Qh,merge:rw,extend:n2,trim:t2,stripBOM:r2,inherits:i2,toFlatObject:s2,kindOf:bg,kindOfTest:mi,endsWith:o2,toArray:a2,forEachEntry:u2,matchAll:c2,isHTMLForm:d2,hasOwnProperty:yR,hasOwnProp:yR,reduceDescriptors:gC,freezeMethods:p2,toObjectSet:m2,toCamelCase:h2,noop:g2,toFiniteNumber:y2,findKey:pC,global:Ua,isContextDefined:mC,isSpecCompliantForm:_2,toJSONObject:v2,isAsyncFn:w2,isThenable:E2,setImmediate:yC,asap:I2};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const _C=Me.prototype,vC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{vC[n]={value:n}});Object.defineProperties(Me,vC);Object.defineProperty(_C,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,s)=>{const l=Object.create(_C);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Me.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const T2=null;function iw(n){return re.isPlainObject(n)||re.isArray(n)}function wC(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function _R(n,e,t){return n?n.concat(e).map(function(i,s){return i=wC(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function S2(n){return re.isArray(n)&&!n.some(iw)}const R2=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function kg(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,b){return!re.isUndefined(b[R])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Me("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,R,b){let M=I;if(I&&!b&&typeof I=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&S2(I)||(re.isFileList(I)||re.endsWith(R,"[]"))&&(M=re.toArray(I)))return R=wC(R),M.forEach(function(F,B){!(re.isUndefined(F)||F===null)&&e.append(l===!0?_R([R],B,s):l===null?R:R+"[]",h(F))}),!1}return iw(I)?!0:(e.append(_R(b,R,s),h(I)),!1)}const g=[],_=Object.assign(R2,{defaultVisitor:m,convertValue:h,isVisitable:iw});function T(I,R){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(I),re.forEach(I,function(M,V){(!(re.isUndefined(M)||M===null)&&i.call(e,M,re.isString(V)?V.trim():V,R,_))===!0&&T(M,R?R.concat(V):[V])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function vR(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function SE(n,e){this._pairs=[],n&&kg(n,this,e)}const EC=SE.prototype;EC.append=function(e,t){this._pairs.push([e,t])};EC.toString=function(e){const t=e?function(r){return e.call(this,r,vR)}:vR;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function A2(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function IC(n,e,t){if(!e)return n;const r=t&&t.encode||A2;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new SE(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class wR{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b2=typeof URLSearchParams<"u"?URLSearchParams:SE,P2=typeof FormData<"u"?FormData:null,C2=typeof Blob<"u"?Blob:null,k2={isBrowser:!0,classes:{URLSearchParams:b2,FormData:P2,Blob:C2},protocols:["http","https","file","blob","url","data"]},RE=typeof window<"u"&&typeof document<"u",sw=typeof navigator=="object"&&navigator||void 0,x2=RE&&(!sw||["ReactNative","NativeScript","NS"].indexOf(sw.product)<0),O2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",N2=RE&&window.location.href||"http://localhost",D2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RE,hasStandardBrowserEnv:x2,hasStandardBrowserWebWorkerEnv:O2,navigator:sw,origin:N2},Symbol.toStringTag,{value:"Module"})),Dn={...D2,...k2};function L2(n,e){return kg(n,new Dn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Dn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function V2(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function M2(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function SC(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=M2(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(V2(r),i,t,0)}),t}return null}function F2(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Yh={transitional:TC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(SC(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return L2(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return kg(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),F2(e)):e}],transformResponse:[function(e){const t=this.transitional||Yh.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dn.classes.FormData,Blob:Dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Yh.headers[n]={}});const U2=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j2=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&U2[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},ER=Symbol("internals");function kd(n){return n&&String(n).trim().toLowerCase()}function cm(n){return n===!1||n==null?n:re.isArray(n)?n.map(cm):String(n)}function $2(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const B2=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Tv(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function z2(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function W2(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let sr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,h){const m=kd(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=cm(u))}const l=(u,d)=>re.forEach(u,(h,m)=>s(h,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!B2(e))l(j2(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())s(d,u,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=kd(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return $2(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kd(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Tv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=kd(l),l){const u=re.findKey(r,l);u&&(!t||Tv(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Tv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=cm(i),delete t[s];return}const u=e?z2(s):String(s).trim();u!==s&&delete t[s],t[u]=cm(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ER]=this[ER]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=kd(l);r[u]||(W2(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(sr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(sr);function Sv(n,e){const t=this||Yh,r=e||t,i=sr.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function RC(n){return!!(n&&n.__CANCEL__)}function cc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(cc,Me,{__CANCEL__:!0});function AC(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function q2(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function H2(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[s];l||(l=h),t[i]=d,r[i]=h;let g=s,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),h-l<e)return;const T=m&&h-m;return T?Math.round(_*1e3/T):void 0}}function K2(n,e){let t=0,r=1e3/e,i,s;const l=(h,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=r?l(h,m):(i=h,s||(s=setTimeout(()=>{s=null,l(i)},r-g)))},()=>i&&l(i)]}const Fm=(n,e,t=3)=>{let r=0;const i=H2(50,250);return K2(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},IR=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},TR=n=>(...e)=>re.asap(()=>n(...e)),G2=Dn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Dn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Dn.origin),Dn.navigator&&/(msie|trident)/i.test(Dn.navigator.userAgent)):()=>!0,Q2=Dn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y2(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function J2(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function bC(n,e,t){let r=!Y2(e);return n&&r||t==!1?J2(n,e):e}const SR=n=>n instanceof sr?{...n}:n;function Ga(n,e){e=e||{};const t={};function r(h,m,g,_){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:_},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(h,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function s(h,m){if(!re.isUndefined(m))return r(void 0,m)}function l(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in n)return r(void 0,h)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(SR(h),SR(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const PC=n=>{const e=Ga({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=sr.from(l),e.url=IC(bC(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(Dn.hasStandardBrowserEnv||Dn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Dn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&G2(e.url))){const h=i&&s&&Q2.read(s);h&&l.set(i,h)}return e},X2=typeof XMLHttpRequest<"u",Z2=X2&&function(n){return new Promise(function(t,r){const i=PC(n);let s=i.data;const l=sr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,T,I;function R(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function M(){if(!b)return;const F=sr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),$={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:F,config:n,request:b};AC(function(L){t(L),R()},function(L){r(L),R()},$),b=null}"onloadend"in b?b.onloadend=M:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(M)},b.onabort=function(){b&&(r(new Me("Request aborted",Me.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||TC;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new Me(B,$.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,b)),b=null},s===void 0&&l.setContentType(null),"setRequestHeader"in b&&re.forEach(l.toJSON(),function(B,$){b.setRequestHeader($,B)}),re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),h&&([_,I]=Fm(h,!0),b.addEventListener("progress",_)),d&&b.upload&&([g,T]=Fm(d),b.upload.addEventListener("progress",g),b.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=F=>{b&&(r(!F||F.type?new cc(null,n,b):F),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const V=q2(i.url);if(V&&Dn.protocols.indexOf(V)===-1){r(new Me("Unsupported protocol "+V+":",Me.ERR_BAD_REQUEST,n));return}b.send(s||null)})},eF=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Me?m:new cc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),n=null)};n.forEach(h=>h.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},tF=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},nF=async function*(n,e){for await(const t of rF(n))yield*tF(t,e)},rF=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},RR=(n,e,t,r)=>{const i=nF(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(t){let _=s+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},xg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",CC=xg&&typeof ReadableStream=="function",iF=xg&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),kC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},sF=CC&&kC(()=>{let n=!1;const e=new Request(Dn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),AR=64*1024,ow=CC&&kC(()=>re.isReadableStream(new Response("").body)),Um={stream:ow&&(n=>n.body)};xg&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Um[e]&&(Um[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const oF=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Dn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await iF(n)).byteLength},aF=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??oF(e)},lF=xg&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=PC(n);h=h?(h+"").toLowerCase():"text";let T=eF([i,s&&s.toAbortSignal()],l),I;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let b;try{if(d&&sF&&t!=="get"&&t!=="head"&&(b=await aF(m,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(re.isFormData(r)&&(W=$.headers.get("content-type"))&&m.setContentType(W),$.body){const[L,A]=IR(b,Fm(TR(d)));r=RR($.body,AR,L,A)}}re.isString(g)||(g=g?"include":"omit");const M="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:M?g:void 0});let V=await fetch(I);const F=ow&&(h==="stream"||h==="response");if(ow&&(u||F&&R)){const $={};["status","statusText","headers"].forEach(C=>{$[C]=V[C]});const W=re.toFiniteNumber(V.headers.get("content-length")),[L,A]=u&&IR(W,Fm(TR(u),!0))||[];V=new Response(RR(V.body,AR,L,()=>{A&&A(),R&&R()}),$)}h=h||"text";let B=await Um[re.findKey(Um,h)||"text"](V,n);return!F&&R&&R(),await new Promise(($,W)=>{AC($,W,{data:B,headers:sr.from(V.headers),status:V.status,statusText:V.statusText,config:n,request:I})})}catch(M){throw R&&R(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,I),{cause:M.cause||M}):Me.from(M,M&&M.code,n,I)}}),aw={http:T2,xhr:Z2,fetch:lF};re.forEach(aw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const bR=n=>`- ${n}`,uF=n=>re.isFunction(n)||n===null||n===!1,xC={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let l;if(r=t,!uF(t)&&(r=aw[(l=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(bR).join(`
`):" "+bR(s[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:aw};function Rv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new cc(null,n)}function PR(n){return Rv(n),n.headers=sr.from(n.headers),n.data=Sv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),xC.getAdapter(n.adapter||Yh.adapter)(n).then(function(r){return Rv(n),r.data=Sv.call(n,n.transformResponse,r),r.headers=sr.from(r.headers),r},function(r){return RC(r)||(Rv(n),r&&r.response&&(r.response.data=Sv.call(n,n.transformResponse,r.response),r.response.headers=sr.from(r.response.headers))),Promise.reject(r)})}const OC="1.8.1",Og={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Og[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const CR={};Og.transitional=function(e,t,r){function i(s,l){return"[Axios v"+OC+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new Me(i(l," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!CR[l]&&(CR[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};Og.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function cF(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new Me("option "+s+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const dm={assertOptions:cF,validators:Og},Pi=dm.validators;let Wa=class{constructor(e){this.defaults=e,this.interceptors={request:new wR,response:new wR}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ga(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&dm.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:dm.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),dm.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),t.headers=sr.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const I=[PR.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,h),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],R=u[g++];try{T=I(T)}catch(b){R.call(this,b);break}}try{m=PR.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=Ga(this.defaults,e);const t=bC(e.baseURL,e.url,e.allowAbsoluteUrls);return IC(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Wa.prototype[e]=function(t,r){return this.request(Ga(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(Ga(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Wa.prototype[e]=t(),Wa.prototype[e+"Form"]=t(!0)});let dF=class NC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new cc(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new NC(function(i){e=i}),cancel:e}}};function hF(n){return function(t){return n.apply(null,t)}}function fF(n){return re.isObject(n)&&n.isAxiosError===!0}const lw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lw).forEach(([n,e])=>{lw[e]=n});function DC(n){const e=new Wa(n),t=dC(Wa.prototype.request,e);return re.extend(t,Wa.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return DC(Ga(n,i))},t}const bt=DC(Yh);bt.Axios=Wa;bt.CanceledError=cc;bt.CancelToken=dF;bt.isCancel=RC;bt.VERSION=OC;bt.toFormData=kg;bt.AxiosError=Me;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=hF;bt.isAxiosError=fF;bt.mergeConfig=Ga;bt.AxiosHeaders=sr;bt.formToJSON=n=>SC(re.isHTMLForm(n)?new FormData(n):n);bt.getAdapter=xC.getAdapter;bt.HttpStatusCode=lw;bt.default=bt;const{Axios:hQ,AxiosError:fQ,CanceledError:pQ,isCancel:mQ,CancelToken:gQ,VERSION:yQ,all:_Q,Cancel:vQ,isAxiosError:wQ,spread:EQ,toFormData:IQ,AxiosHeaders:TQ,HttpStatusCode:SQ,formToJSON:RQ,getAdapter:AQ,mergeConfig:bQ}=bt;var pF=iC();const kt=gE(pF);function LC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=LC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function th(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=LC(n))&&(r&&(r+=" "),r+=e);return r}function VC(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const mF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function MC(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const h=s[d];h&&(l+=(u===!0?"":" ")+e(h),u=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}const gF=K.createContext(),yF=()=>K.useContext(gF)??!1;function kR(n){try{return n.matches(":focus-visible")}catch{}return!1}var Av={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function _F(){if(xR)return lt;xR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function I(R){if(typeof R=="object"&&R!==null){var b=R.$$typeof;switch(b){case n:switch(R=R.type,R){case t:case i:case r:case d:case h:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case g:case m:return R;case s:return R;default:return b}}case e:return b}}}return lt.ContextConsumer=s,lt.ContextProvider=l,lt.Element=n,lt.ForwardRef=u,lt.Fragment=t,lt.Lazy=g,lt.Memo=m,lt.Portal=e,lt.Profiler=i,lt.StrictMode=r,lt.Suspense=d,lt.SuspenseList=h,lt.isContextConsumer=function(R){return I(R)===s},lt.isContextProvider=function(R){return I(R)===l},lt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},lt.isForwardRef=function(R){return I(R)===u},lt.isFragment=function(R){return I(R)===t},lt.isLazy=function(R){return I(R)===g},lt.isMemo=function(R){return I(R)===m},lt.isPortal=function(R){return I(R)===e},lt.isProfiler=function(R){return I(R)===i},lt.isStrictMode=function(R){return I(R)===r},lt.isSuspense=function(R){return I(R)===d},lt.isSuspenseList=function(R){return I(R)===h},lt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===h||R===_||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===m||R.$$typeof===l||R.$$typeof===s||R.$$typeof===u||R.$$typeof===T||R.getModuleId!==void 0)},lt.typeOf=I,lt}var OR;function vF(){return OR||(OR=1,Av.exports=_F()),Av.exports}var FC=vF();function Es(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function UC(n){if(K.isValidElement(n)||FC.isValidElementType(n)||!Es(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=UC(n[t])}),e}function Sr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Es(n)&&Es(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||FC.isValidElementType(e[i])?r[i]=e[i]:Es(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Es(n[i])?r[i]=Sr(n[i],e[i],t):t.clone?r[i]=Es(e[i])?UC(e[i]):e[i]:r[i]=e[i]}),r}function Qa(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function No(n){if(typeof n!="string")throw new Error(Qa(7));return n.charAt(0).toUpperCase()+n.slice(1)}function wF(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let NR=0;function EF(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(NR+=1,t(`mui-${NR}`))},[e]),r}const IF={...ew},DR=IF.useId;function jC(n){if(DR!==void 0){const e=DR();return n??e}return EF(n)}function TF({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[s,l]=K.useState(e),u=i?n:s,d=K.useCallback(h=>{i||l(h)},[]);return[u,d]}function SF(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{wF(t,e)})},n)}function uw(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],l=e[i];if(!l)t[i]=s||{};else if(!s)t[i]=l;else{t[i]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[i][d]=uw(s[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const LR=n=>n,RF=()=>{let n=LR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=LR}}},AF=RF(),bF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function AE(n,e,t="Mui"){const r=bF[e];return r?`${t}-${r}`:`${AF.generate(n)}-${e}`}function $C(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=AE(n,i,t)}),r}function nh(n,e){return e?Sr(n,e,{clone:!1}):n}function PF(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((u=i.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function CF(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function kF(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function xF(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Ng={xs:0,sm:600,md:900,lg:1200,xl:1536},VR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Ng[n]}px)`},OF={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Ng[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function xs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||VR;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||VR;return Object.keys(e).reduce((l,u)=>{if(CF(s.keys,u)){const d=kF(r.containerQueries?r:OF,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Ng).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function NF(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function DF(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Dg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function jm(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Dg(n,t)||r,e&&(i=e(i,r,n)),i}function qt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,h=Dg(d,r)||{};return xs(l,u,g=>{let _=jm(h,i,g);return g===_&&typeof g=="string"&&(_=jm(h,i,`${e}${g==="default"?"":No(g)}`,g)),t===!1?_:{[t]:_}})};return s.propTypes={},s.filterProps=[e],s}function LF(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const VF={m:"margin",p:"padding"},MF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},MR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},FF=LF(n=>{if(n.length>2)if(MR[n])n=MR[n];else return[n];const[e,t]=n.split(""),r=VF[e],i=MF[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),bE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],PE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...bE,...PE];function Jh(n,e,t,r){const i=Dg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function CE(n){return Jh(n,"spacing",8)}function Xh(n,e){return typeof e=="string"||e==null?e:n(e)}function UF(n,e){return t=>n.reduce((r,i)=>(r[i]=Xh(e,t),r),{})}function jF(n,e,t,r){if(!e.includes(t))return null;const i=FF(t),s=UF(i,r),l=n[t];return xs(n,l,s)}function BC(n,e){const t=CE(n.theme);return Object.keys(n).map(r=>jF(n,e,r,t)).reduce(nh,{})}function Lt(n){return BC(n,bE)}Lt.propTypes={};Lt.filterProps=bE;function Vt(n){return BC(n,PE)}Vt.propTypes={};Vt.filterProps=PE;function Lg(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?nh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function jr(n){return typeof n!="number"?n:`${n}px solid`}function Hr(n,e){return qt({prop:n,themeKey:"borders",transform:e})}const $F=Hr("border",jr),BF=Hr("borderTop",jr),zF=Hr("borderRight",jr),WF=Hr("borderBottom",jr),qF=Hr("borderLeft",jr),HF=Hr("borderColor"),KF=Hr("borderTopColor"),GF=Hr("borderRightColor"),QF=Hr("borderBottomColor"),YF=Hr("borderLeftColor"),JF=Hr("outline",jr),XF=Hr("outlineColor"),Vg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Jh(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Xh(e,r)});return xs(n,n.borderRadius,t)}return null};Vg.propTypes={};Vg.filterProps=["borderRadius"];Lg($F,BF,zF,WF,qF,HF,KF,GF,QF,YF,Vg,JF,XF);const Mg=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Jh(n.theme,"spacing",8),t=r=>({gap:Xh(e,r)});return xs(n,n.gap,t)}return null};Mg.propTypes={};Mg.filterProps=["gap"];const Fg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Jh(n.theme,"spacing",8),t=r=>({columnGap:Xh(e,r)});return xs(n,n.columnGap,t)}return null};Fg.propTypes={};Fg.filterProps=["columnGap"];const Ug=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Jh(n.theme,"spacing",8),t=r=>({rowGap:Xh(e,r)});return xs(n,n.rowGap,t)}return null};Ug.propTypes={};Ug.filterProps=["rowGap"];const ZF=qt({prop:"gridColumn"}),eU=qt({prop:"gridRow"}),tU=qt({prop:"gridAutoFlow"}),nU=qt({prop:"gridAutoColumns"}),rU=qt({prop:"gridAutoRows"}),iU=qt({prop:"gridTemplateColumns"}),sU=qt({prop:"gridTemplateRows"}),oU=qt({prop:"gridTemplateAreas"}),aU=qt({prop:"gridArea"});Lg(Mg,Fg,Ug,ZF,eU,tU,nU,rU,iU,sU,oU,aU);function Ru(n,e){return e==="grey"?e:n}const lU=qt({prop:"color",themeKey:"palette",transform:Ru}),uU=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ru}),cU=qt({prop:"backgroundColor",themeKey:"palette",transform:Ru});Lg(lU,uU,cU);function Er(n){return n<=1&&n!==0?`${n*100}%`:n}const dU=qt({prop:"width",transform:Er}),kE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,l,u,d;const r=((l=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||Ng[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Er(t)}};return xs(n,n.maxWidth,e)}return null};kE.filterProps=["maxWidth"];const hU=qt({prop:"minWidth",transform:Er}),fU=qt({prop:"height",transform:Er}),pU=qt({prop:"maxHeight",transform:Er}),mU=qt({prop:"minHeight",transform:Er});qt({prop:"size",cssProperty:"width",transform:Er});qt({prop:"size",cssProperty:"height",transform:Er});const gU=qt({prop:"boxSizing"});Lg(dU,kE,hU,fU,pU,mU,gU);const jg={border:{themeKey:"borders",transform:jr},borderTop:{themeKey:"borders",transform:jr},borderRight:{themeKey:"borders",transform:jr},borderBottom:{themeKey:"borders",transform:jr},borderLeft:{themeKey:"borders",transform:jr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:jr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Vg},color:{themeKey:"palette",transform:Ru},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ru},backgroundColor:{themeKey:"palette",transform:Ru},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Lt},mt:{style:Lt},mr:{style:Lt},mb:{style:Lt},ml:{style:Lt},mx:{style:Lt},my:{style:Lt},margin:{style:Lt},marginTop:{style:Lt},marginRight:{style:Lt},marginBottom:{style:Lt},marginLeft:{style:Lt},marginX:{style:Lt},marginY:{style:Lt},marginInline:{style:Lt},marginInlineStart:{style:Lt},marginInlineEnd:{style:Lt},marginBlock:{style:Lt},marginBlockStart:{style:Lt},marginBlockEnd:{style:Lt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Mg},rowGap:{style:Ug},columnGap:{style:Fg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Er},maxWidth:{style:kE},minWidth:{transform:Er},height:{transform:Er},maxHeight:{transform:Er},minHeight:{transform:Er},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yU(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function _U(n,e){return typeof n=="function"?n(e):n}function vU(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:m,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const _=Dg(i,h)||{};return g?g(l):xs(l,r,I=>{let R=jm(_,m,I);return I===R&&typeof I=="string"&&(R=jm(_,m,`${t}${I==="default"?"":No(I)}`,I)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??jg;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=NF(i.breakpoints),m=Object.keys(h);let g=h;return Object.keys(d).forEach(_=>{const T=_U(d[_],i);if(T!=null)if(typeof T=="object")if(s[_])g=nh(g,n(_,T,i,s));else{const I=xs({theme:i},T,R=>({[_]:R}));yU(I,T)?g[_]=e({sx:T,theme:i}):g=nh(g,I)}else g=nh(g,n(_,T,i,s))}),PF(i,DF(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const Du=vU();Du.filterProps=["sx"];function cw(){return cw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cw.apply(null,arguments)}function wU(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function EU(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var IU=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EU(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=wU(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),On="-ms-",$m="-moz-",tt="-webkit-",zC="comm",xE="rule",OE="decl",TU="@import",WC="@keyframes",SU="@layer",RU=Math.abs,$g=String.fromCharCode,AU=Object.assign;function bU(n,e){return Tn(n,0)^45?(((e<<2^Tn(n,0))<<2^Tn(n,1))<<2^Tn(n,2))<<2^Tn(n,3):0}function qC(n){return n.trim()}function PU(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function dw(n,e){return n.indexOf(e)}function Tn(n,e){return n.charCodeAt(e)|0}function _h(n,e,t){return n.slice(e,t)}function xi(n){return n.length}function NE(n){return n.length}function Hp(n,e){return e.push(n),n}function CU(n,e){return n.map(e).join("")}var Bg=1,Lu=1,HC=0,ar=0,Jt=0,dc="";function zg(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Bg,column:Lu,length:l,return:""}}function xd(n,e){return AU(zg("",null,null,"",null,null,0),n,{length:-n.length},e)}function kU(){return Jt}function xU(){return Jt=ar>0?Tn(dc,--ar):0,Lu--,Jt===10&&(Lu=1,Bg--),Jt}function Rr(){return Jt=ar<HC?Tn(dc,ar++):0,Lu++,Jt===10&&(Lu=1,Bg++),Jt}function Bi(){return Tn(dc,ar)}function hm(){return ar}function Zh(n,e){return _h(dc,n,e)}function vh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KC(n){return Bg=Lu=1,HC=xi(dc=n),ar=0,[]}function GC(n){return dc="",n}function fm(n){return qC(Zh(ar-1,hw(n===91?n+2:n===40?n+1:n)))}function OU(n){for(;(Jt=Bi())&&Jt<33;)Rr();return vh(n)>2||vh(Jt)>3?"":" "}function NU(n,e){for(;--e&&Rr()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return Zh(n,hm()+(e<6&&Bi()==32&&Rr()==32))}function hw(n){for(;Rr();)switch(Jt){case n:return ar;case 34:case 39:n!==34&&n!==39&&hw(Jt);break;case 40:n===41&&hw(n);break;case 92:Rr();break}return ar}function DU(n,e){for(;Rr()&&n+Jt!==57;)if(n+Jt===84&&Bi()===47)break;return"/*"+Zh(e,ar-1)+"*"+$g(n===47?n:Rr())}function LU(n){for(;!vh(Bi());)Rr();return Zh(n,ar)}function VU(n){return GC(pm("",null,null,null,[""],n=KC(n),0,[0],n))}function pm(n,e,t,r,i,s,l,u,d){for(var h=0,m=0,g=l,_=0,T=0,I=0,R=1,b=1,M=1,V=0,F="",B=i,$=s,W=r,L=F;b;)switch(I=V,V=Rr()){case 40:if(I!=108&&Tn(L,g-1)==58){dw(L+=nt(fm(V),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:L+=fm(V);break;case 9:case 10:case 13:case 32:L+=OU(I);break;case 92:L+=NU(hm()-1,7);continue;case 47:switch(Bi()){case 42:case 47:Hp(MU(DU(Rr(),hm()),e,t),d);break;default:L+="/"}break;case 123*R:u[h++]=xi(L)*M;case 125*R:case 59:case 0:switch(V){case 0:case 125:b=0;case 59+m:M==-1&&(L=nt(L,/\f/g,"")),T>0&&xi(L)-g&&Hp(T>32?UR(L+";",r,t,g-1):UR(nt(L," ","")+";",r,t,g-2),d);break;case 59:L+=";";default:if(Hp(W=FR(L,e,t,h,m,i,u,F,B=[],$=[],g),s),V===123)if(m===0)pm(L,e,W,W,B,s,g,u,$);else switch(_===99&&Tn(L,3)===110?100:_){case 100:case 108:case 109:case 115:pm(n,W,W,r&&Hp(FR(n,W,W,0,0,i,u,F,i,B=[],g),$),i,$,g,u,r?B:$);break;default:pm(L,W,W,W,[""],$,0,u,$)}}h=m=T=0,R=M=1,F=L="",g=l;break;case 58:g=1+xi(L),T=I;default:if(R<1){if(V==123)--R;else if(V==125&&R++==0&&xU()==125)continue}switch(L+=$g(V),V*R){case 38:M=m>0?1:(L+="\f",-1);break;case 44:u[h++]=(xi(L)-1)*M,M=1;break;case 64:Bi()===45&&(L+=fm(Rr())),_=Bi(),m=g=xi(F=L+=LU(hm())),V++;break;case 45:I===45&&xi(L)==2&&(R=0)}}return s}function FR(n,e,t,r,i,s,l,u,d,h,m){for(var g=i-1,_=i===0?s:[""],T=NE(_),I=0,R=0,b=0;I<r;++I)for(var M=0,V=_h(n,g+1,g=RU(R=l[I])),F=n;M<T;++M)(F=qC(R>0?_[M]+" "+V:nt(V,/&\f/g,_[M])))&&(d[b++]=F);return zg(n,e,t,i===0?xE:u,d,h,m)}function MU(n,e,t){return zg(n,e,t,zC,$g(kU()),_h(n,2,-2),0)}function UR(n,e,t,r){return zg(n,e,t,OE,_h(n,0,r),_h(n,r+1,-1),r)}function Au(n,e){for(var t="",r=NE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function FU(n,e,t,r){switch(n.type){case SU:if(n.children.length)break;case TU:case OE:return n.return=n.return||n.value;case zC:return"";case WC:return n.return=n.value+"{"+Au(n.children,r)+"}";case xE:n.value=n.props.join(",")}return xi(t=Au(n.children,r))?n.return=n.value+"{"+t+"}":""}function UU(n){var e=NE(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function jU(n){return function(e){e.root||(e=e.return)&&n(e)}}function QC(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var $U=function(e,t,r){for(var i=0,s=0;i=s,s=Bi(),i===38&&s===12&&(t[r]=1),!vh(s);)Rr();return Zh(e,ar)},BU=function(e,t){var r=-1,i=44;do switch(vh(i)){case 0:i===38&&Bi()===12&&(t[r]=1),e[r]+=$U(ar-1,t,r);break;case 2:e[r]+=fm(i);break;case 4:if(i===44){e[++r]=Bi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=$g(i)}while(i=Rr());return e},zU=function(e,t){return GC(BU(KC(e),t))},jR=new WeakMap,WU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!jR.get(r))&&!i){jR.set(e,!0);for(var s=[],l=zU(t,s),u=r.props,d=0,h=0;d<l.length;d++)for(var m=0;m<u.length;m++,h++)e.props[h]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},qU=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function YC(n,e){switch(bU(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+$m+n+On+n+n;case 6828:case 4268:return tt+n+On+n+n;case 6165:return tt+n+On+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+On+"flex-$1$2")+n;case 5443:return tt+n+On+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+On+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+On+nt(n,"shrink","negative")+n;case 5292:return tt+n+On+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+On+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+On+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xi(n)-1-e>6)switch(Tn(n,e+1)){case 109:if(Tn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+$m+(Tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~dw(n,"stretch")?YC(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Tn(n,e+1)!==115)break;case 6444:switch(Tn(n,xi(n)-3-(~dw(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Tn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+On+"$2box$3")+n}break;case 5936:switch(Tn(n,e+11)){case 114:return tt+n+On+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+On+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+On+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+On+n+n}return n}var HU=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case OE:e.return=YC(e.value,e.length);break;case WC:return Au([xd(e,{value:nt(e.value,"@","@"+tt)})],i);case xE:if(e.length)return CU(e.props,function(s){switch(PU(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Au([xd(e,{props:[nt(s,/:(read-\w+)/,":"+$m+"$1")]})],i);case"::placeholder":return Au([xd(e,{props:[nt(s,/:(plac\w+)/,":"+tt+"input-$1")]}),xd(e,{props:[nt(s,/:(plac\w+)/,":"+$m+"$1")]}),xd(e,{props:[nt(s,/:(plac\w+)/,On+"input-$1")]})],i)}return""})}},KU=[HU],GU=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var b=R.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||KU,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var b=R.getAttribute("data-emotion").split(" "),M=1;M<b.length;M++)s[b[M]]=!0;u.push(R)});var d,h=[WU,qU];{var m,g=[FU,jU(function(R){m.insert(R)})],_=UU(h.concat(i,g)),T=function(b){return Au(VU(b),_)};d=function(b,M,V,F){m=V,T(b?b+"{"+M.styles+"}":M.styles),F&&(I.inserted[M.name]=!0)}}var I={key:t,sheet:new IU({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return I.sheet.hydrate(u),I},QU=!0;function YU(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var JC=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||QU===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},JU=function(e,t,r){JC(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function XU(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ZU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ej=/[A-Z]|^ms/g,tj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XC=function(e){return e.charCodeAt(1)===45},$R=function(e){return e!=null&&typeof e!="boolean"},bv=QC(function(n){return XC(n)?n:n.replace(ej,"-$&").toLowerCase()}),BR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(tj,function(r,i,s){return Oi={name:i,styles:s,next:Oi},i})}return ZU[e]!==1&&!XC(e)&&typeof t=="number"&&t!==0?t+"px":t};function wh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Oi={name:i.name,styles:i.styles,next:Oi},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Oi={name:l.name,styles:l.styles,next:Oi},l=l.next;var u=s.styles+";";return u}return nj(n,e,t)}case"function":{if(n!==void 0){var d=Oi,h=t(n);return Oi=d,wh(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function nj(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=wh(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":$R(u)&&(r+=bv(s)+":"+BR(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)$R(l[d])&&(r+=bv(s)+":"+BR(s,l[d])+";");else{var h=wh(n,e,l);switch(s){case"animation":case"animationName":{r+=bv(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var zR=/label:\s*([^\s;{]+)\s*(;|$)/g,Oi;function ZC(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Oi=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=wh(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=wh(t,e,n[u]),r){var d=s;i+=d[u]}zR.lastIndex=0;for(var h="",m;(m=zR.exec(i))!==null;)h+="-"+m[1];var g=XU(i)+h;return{name:g,styles:i,next:Oi}}var rj=function(e){return e()},ij=ew.useInsertionEffect?ew.useInsertionEffect:!1,sj=ij||rj,ek=K.createContext(typeof HTMLElement<"u"?GU({key:"css"}):null);ek.Provider;var oj=function(e){return K.forwardRef(function(t,r){var i=K.useContext(ek);return e(t,i,r)})},aj=K.createContext({}),lj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uj=QC(function(n){return lj.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),cj=uj,dj=function(e){return e!=="theme"},WR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?cj:dj},qR=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},hj=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return JC(t,r,i),sj(function(){return JU(t,r,i)}),null},fj=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=qR(e,t,r),d=u||WR(i),h=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var T=m.length,I=1;I<T;I++)g.push(m[I],_[I])}var R=oj(function(b,M,V){var F=h&&b.as||i,B="",$=[],W=b;if(b.theme==null){W={};for(var L in b)W[L]=b[L];W.theme=K.useContext(aj)}typeof b.className=="string"?B=YU(M.registered,$,b.className):b.className!=null&&(B=b.className+" ");var A=ZC(g.concat($),M.registered,W);B+=M.key+"-"+A.name,l!==void 0&&(B+=" "+l);var C=h&&u===void 0?WR(F):d,E={};for(var x in b)h&&x==="as"||C(x)&&(E[x]=b[x]);return E.className=B,V&&(E.ref=V),K.createElement(K.Fragment,null,K.createElement(hj,{cache:M,serialized:A,isStringTag:typeof F=="string"}),K.createElement(F,E))});return R.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=g,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(b,M){var V=n(b,cw({},t,M,{shouldForwardProp:qR(R,M,!0)}));return V.apply(void 0,g)},R}},pj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fw=fj.bind(null);pj.forEach(function(n){fw[n]=fw(n)});/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function mj(n,e){return fw(n,e)}function gj(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const HR=[];function KR(n){return HR[0]=n,ZC(HR)}const yj=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function _j(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=yj(e),l=Object.keys(s);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function h(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:h,only:m,not:g,unit:t,...i}}const vj={borderRadius:4};function tk(n=8,e=CE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function wj(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function nk(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=_j(t),d=tk(i);let h=Sr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...vj,...s}},l);return h=xF(h),h.applyStyles=wj,h=e.reduce((m,g)=>Sr(m,g),h),h.unstable_sxConfig={...jg,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return Du({sx:g,theme:this})},h}function rk(n){const{variants:e,...t}=n,r={variants:e,style:KR(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=KR(i.style))}),r}const Ej=nk();function Pv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Ij(n){return n?(e,t)=>t[n]:null}function Tj(n,e,t){n.theme=Aj(n.theme)?t:n.theme[e]||n.theme}function mm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>mm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return ik(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function ik(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function Sj(n={}){const{themeId:e,defaultTheme:t=Ej,rootShouldForwardProp:r=Pv,slotShouldForwardProp:i=Pv}=n;function s(u){Tj(u,e,t)}return(u,d={})=>{gj(u,$=>$.filter(W=>W!==Du));const{name:h,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=Ij(Pj(m)),...I}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,b=_||!1;let M=Pv;m==="Root"||m==="root"?M=r:m?M=i:bj(u)&&(M=void 0);const V=mj(u,{shouldForwardProp:M,label:Rj(),...I}),F=$=>{if(typeof $=="function"&&$.__emotion_real!==$)return function(L){return mm(L,$)};if(Es($)){const W=rk($);return W.variants?function(A){return mm(A,W)}:W.style}return $},B=(...$)=>{const W=[],L=$.map(F),A=[];if(W.push(s),h&&T&&A.push(function(k){var me,oe;const X=(oe=(me=k.theme.components)==null?void 0:me[h])==null?void 0:oe.styleOverrides;if(!X)return null;const U={};for(const Z in X)U[Z]=mm(k,X[Z]);return T(k,U)}),h&&!R&&A.push(function(k){var U,me;const O=k.theme,X=(me=(U=O==null?void 0:O.components)==null?void 0:U[h])==null?void 0:me.variants;return X?ik(k,X):null}),b||A.push(Du),Array.isArray(L[0])){const x=L.shift(),k=new Array(W.length).fill(""),O=new Array(A.length).fill("");let X;X=[...k,...x,...O],X.raw=[...k,...x.raw,...O],W.unshift(X)}const C=[...W,...L,...A],E=V(...C);return u.muiName&&(E.muiName=u.muiName),E};return V.withConfig&&(B.withConfig=V.withConfig),B}}function Rj(n,e){return void 0}function Aj(n){for(const e in n)return!1;return!0}function bj(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Pj(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function DE(n,e=0,t=1){return VC(n,e,t)}function Cj(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Do(n){if(n.type)return n;if(n.charAt(0)==="#")return Do(Cj(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Qa(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Qa(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const kj=n=>{const e=Do(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},qd=(n,e)=>{try{return kj(n)}catch{return n}};function Wg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function sk(n){n=Do(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(h,m=(h+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Wg({type:u,values:d})}function pw(n){n=Do(n);let e=n.type==="hsl"||n.type==="hsla"?Do(sk(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function xj(n,e){const t=pw(n),r=pw(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Oj(n,e){return n=Do(n),e=DE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Wg(n)}function Kp(n,e,t){try{return Oj(n,e)}catch{return n}}function LE(n,e){if(n=Do(n),e=DE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Wg(n)}function ct(n,e,t){try{return LE(n,e)}catch{return n}}function VE(n,e){if(n=Do(n),e=DE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Wg(n)}function dt(n,e,t){try{return VE(n,e)}catch{return n}}function Nj(n,e=.15){return pw(n)>.5?LE(n,e):VE(n,e)}function Gp(n,e,t){try{return Nj(n,e)}catch{return n}}const Dj=K.createContext(void 0);function Lj(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?uw(i.defaultProps,r):!i.styleOverrides&&!i.variants?uw(i,r):r}function Vj({props:n,name:e}){const t=K.useContext(Dj);return Lj({props:n,name:e,theme:{components:t}})}const GR={theme:void 0};function Mj(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(GR.theme=i.theme,s=rk(n(GR)),e=s,t=i.theme),s}}function Fj(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const QR=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Uj=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},jj=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Cv(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return Uj(n,(u,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=jj(u,d);Object.assign(i,{[m]:g}),QR(s,u,`var(${m})`,h),QR(l,u,`var(${m}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function $j(n,e={}){const{getSelector:t=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=n,{vars:h,css:m,varsWithDefaults:g}=Cv(d,e);let _=g;const T={},{[u]:I,...R}=s;if(Object.entries(R||{}).forEach(([F,B])=>{const{vars:$,css:W,varsWithDefaults:L}=Cv(B,e);_=Sr(_,L),T[F]={css:W,vars:$}}),I){const{css:F,vars:B,varsWithDefaults:$}=Cv(I,e);_=Sr(_,$),T[u]={css:F,vars:B}}function b(F,B){var W,L;let $=i;if(i==="class"&&($=".%s"),i==="data"&&($="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&($=`[${i}="%s"]`),F){if($==="media")return n.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${((L=(W=s[F])==null?void 0:W.palette)==null?void 0:L.mode)||F})`]:{":root":B}};if($)return n.defaultColorScheme===F?`:root, ${$.replace("%s",String(F))}`:$.replace("%s",String(F))}return":root"}return{vars:_,generateThemeVars:()=>{let F={...h};return Object.entries(T).forEach(([,{vars:B}])=>{F=Sr(F,B)}),F},generateStyleSheets:()=>{var A,C;const F=[],B=n.defaultColorScheme||"light";function $(E,x){Object.keys(x).length&&F.push(typeof E=="string"?{[E]:{...x}}:E)}$(t(void 0,{...m}),m);const{[B]:W,...L}=T;if(W){const{css:E}=W,x=(C=(A=s[B])==null?void 0:A.palette)==null?void 0:C.mode,k=!r&&x?{colorScheme:x,...E}:{...E};$(t(B,{...k}),k)}return Object.entries(L).forEach(([E,{css:x}])=>{var X,U;const k=(U=(X=s[E])==null?void 0:X.palette)==null?void 0:U.mode,O=!r&&k?{colorScheme:k,...x}:{...x};$(t(E,{...O}),O)}),F}}}function Bj(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Eh={black:"#000",white:"#fff"},zj={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ru={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},iu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Od={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},su={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ou={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},au={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function ok(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Eh.white,default:Eh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Wj=ok();function ak(){return{text:{primary:Eh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Eh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const YR=ak();function JR(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=VE(n.main,i):e==="dark"&&(n.dark=LE(n.main,s)))}function qj(n="light"){return n==="dark"?{main:su[200],light:su[50],dark:su[400]}:{main:su[700],light:su[400],dark:su[800]}}function Hj(n="light"){return n==="dark"?{main:ru[200],light:ru[50],dark:ru[400]}:{main:ru[500],light:ru[300],dark:ru[700]}}function Kj(n="light"){return n==="dark"?{main:iu[500],light:iu[300],dark:iu[700]}:{main:iu[700],light:iu[400],dark:iu[800]}}function Gj(n="light"){return n==="dark"?{main:ou[400],light:ou[300],dark:ou[700]}:{main:ou[700],light:ou[500],dark:ou[900]}}function Qj(n="light"){return n==="dark"?{main:au[400],light:au[300],dark:au[700]}:{main:au[800],light:au[500],dark:au[900]}}function Yj(n="light"){return n==="dark"?{main:Od[400],light:Od[300],dark:Od[700]}:{main:"#ed6c02",light:Od[500],dark:Od[900]}}function ME(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||qj(e),l=n.secondary||Hj(e),u=n.error||Kj(e),d=n.info||Gj(e),h=n.success||Qj(e),m=n.warning||Yj(e);function g(R){return xj(R,YR.text.primary)>=t?YR.text.primary:Wj.text.primary}const _=({color:R,name:b,mainShade:M=500,lightShade:V=300,darkShade:F=700})=>{if(R={...R},!R.main&&R[M]&&(R.main=R[M]),!R.hasOwnProperty("main"))throw new Error(Qa(11,b?` (${b})`:"",M));if(typeof R.main!="string")throw new Error(Qa(12,b?` (${b})`:"",JSON.stringify(R.main)));return JR(R,"light",V,r),JR(R,"dark",F,r),R.contrastText||(R.contrastText=g(R.main)),R};let T;return e==="light"?T=ok():e==="dark"&&(T=ak()),Sr({common:{...Eh},mode:e,primary:_({color:s,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:zj,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function Jj(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Xj(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Zj(n){return Math.round(n*1e5)/1e5}const XR={textTransform:"uppercase"},ZR='"Roboto", "Helvetica", "Arial", sans-serif';function e$(n,e){const{fontFamily:t=ZR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(b=>`${b/d*_}rem`),I=(b,M,V,F,B)=>({fontFamily:t,fontWeight:b,fontSize:T(M),lineHeight:V,...t===ZR?{letterSpacing:`${Zj(F/M)}em`}:{},...B,...h}),R={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(s,48,1.167,0),h4:I(s,34,1.235,.25),h5:I(s,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(s,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(s,16,1.5,.15),body2:I(s,14,1.43,.15),button:I(l,14,1.75,.4,XR),caption:I(s,12,1.66,.4),overline:I(s,12,2.66,1,XR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Sr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const t$=.2,n$=.14,r$=.12;function It(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${t$})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${n$})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${r$})`].join(",")}const i$=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],s$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eA(n){return`${Math.round(n)}ms`}function a$(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function l$(n){const e={...s$,...n.easing},t={...o$,...n.duration};return{getAutoHeightDuration:a$,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...h}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:eA(l)} ${u} ${typeof d=="string"?d:eA(d)}`).join(",")},...n,easing:e,duration:t}}const u$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function c$(n){return Es(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function lk(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!c$(u)||l.startsWith("unstable_")?delete r[l]:Es(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function mw(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Qa(20));const m=ME(s),g=nk(n);let _=Sr(g,{mixins:Xj(g.breakpoints,r),palette:m,shadows:i$.slice(),typography:e$(m,u),transitions:l$(l),zIndex:{...u$}});return _=Sr(_,h),_=e.reduce((T,I)=>Sr(T,I),_),_.unstable_sxConfig={...jg,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(I){return Du({sx:I,theme:this})},_.toRuntimeSource=lk,_}function d$(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const h$=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=d$(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function uk(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function ck(n){return n==="dark"?h$:[]}function f$(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=ME(e);return{palette:s,opacity:{...uk(s.mode),...t},overlays:r||ck(s.mode),...i}}function p$(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const m$=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],g$=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return m$(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function y$(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function Hd(n){return typeof n!="string"||!n.startsWith("hsl")?n:sk(n)}function _s(n,e){`${e}Channel`in n||(n[`${e}Channel`]=qd(Hd(n[e])))}function _$(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ci=n=>{try{return n()}catch{}},v$=(n="mui")=>Fj(n);function kv(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=f$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=mw({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...uk(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||ck(i)},l}function w$(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=p$,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=v$(s),{[g]:T,light:I,dark:R,...b}=t,M={...b};let V=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(V=!0),!V)throw new Error(Qa(21,g));const F=kv(M,V,h,g);I&&!M.light&&kv(M,I,void 0,"light"),R&&!M.dark&&kv(M,R,void 0,"dark");let B={defaultColorScheme:g,...F,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:M,font:{...Jj(F.typography),...F.font},spacing:_$(h.spacing)};Object.keys(B.colorSchemes).forEach(C=>{const E=B.colorSchemes[C].palette,x=k=>{const O=k.split("-"),X=O[1],U=O[2];return _(k,E[X][U])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),y$(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",ct(E.error.light,.6)),se(E.Alert,"infoColor",ct(E.info.light,.6)),se(E.Alert,"successColor",ct(E.success.light,.6)),se(E.Alert,"warningColor",ct(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-main")),se(E.Alert,"infoFilledBg",x("palette-info-main")),se(E.Alert,"successFilledBg",x("palette-success-main")),se(E.Alert,"warningFilledBg",x("palette-warning-main")),se(E.Alert,"errorFilledColor",Ci(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",Ci(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",Ci(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",Ci(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",dt(E.error.light,.9)),se(E.Alert,"infoStandardBg",dt(E.info.light,.9)),se(E.Alert,"successStandardBg",dt(E.success.light,.9)),se(E.Alert,"warningStandardBg",dt(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-100")),se(E.Avatar,"defaultBg",x("palette-grey-400")),se(E.Button,"inheritContainedBg",x("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-A100")),se(E.Chip,"defaultBorder",x("palette-grey-400")),se(E.Chip,"defaultAvatarColor",x("palette-grey-700")),se(E.Chip,"defaultIconColor",x("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",dt(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",dt(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",dt(E.error.main,.62)),se(E.LinearProgress,"infoBg",dt(E.info.main,.62)),se(E.LinearProgress,"successBg",dt(E.success.main,.62)),se(E.LinearProgress,"warningBg",dt(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",dt(E.primary.main,.62)),se(E.Slider,"secondaryTrack",dt(E.secondary.main,.62)),se(E.Slider,"errorTrack",dt(E.error.main,.62)),se(E.Slider,"infoTrack",dt(E.info.main,.62)),se(E.Slider,"successTrack",dt(E.success.main,.62)),se(E.Slider,"warningTrack",dt(E.warning.main,.62));const k=Gp(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Ci(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",Gp(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-400")),se(E.StepContent,"border",x("palette-grey-400")),se(E.Switch,"defaultColor",x("palette-common-white")),se(E.Switch,"defaultDisabledColor",x("palette-grey-100")),se(E.Switch,"primaryDisabledColor",dt(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",dt(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",dt(E.error.main,.62)),se(E.Switch,"infoDisabledColor",dt(E.info.main,.62)),se(E.Switch,"successDisabledColor",dt(E.success.main,.62)),se(E.Switch,"warningDisabledColor",dt(E.warning.main,.62)),se(E.TableCell,"border",dt(Kp(E.divider,1),.88)),se(E.Tooltip,"bg",Kp(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",dt(E.error.light,.6)),se(E.Alert,"infoColor",dt(E.info.light,.6)),se(E.Alert,"successColor",dt(E.success.light,.6)),se(E.Alert,"warningColor",dt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-dark")),se(E.Alert,"infoFilledBg",x("palette-info-dark")),se(E.Alert,"successFilledBg",x("palette-success-dark")),se(E.Alert,"warningFilledBg",x("palette-warning-dark")),se(E.Alert,"errorFilledColor",Ci(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",Ci(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",Ci(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",Ci(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",ct(E.error.light,.9)),se(E.Alert,"infoStandardBg",ct(E.info.light,.9)),se(E.Alert,"successStandardBg",ct(E.success.light,.9)),se(E.Alert,"warningStandardBg",ct(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-900")),se(E.AppBar,"darkBg",x("palette-background-paper")),se(E.AppBar,"darkColor",x("palette-text-primary")),se(E.Avatar,"defaultBg",x("palette-grey-600")),se(E.Button,"inheritContainedBg",x("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-700")),se(E.Chip,"defaultBorder",x("palette-grey-700")),se(E.Chip,"defaultAvatarColor",x("palette-grey-300")),se(E.Chip,"defaultIconColor",x("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",ct(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",ct(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",ct(E.error.main,.5)),se(E.LinearProgress,"infoBg",ct(E.info.main,.5)),se(E.LinearProgress,"successBg",ct(E.success.main,.5)),se(E.LinearProgress,"warningBg",ct(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",ct(E.primary.main,.5)),se(E.Slider,"secondaryTrack",ct(E.secondary.main,.5)),se(E.Slider,"errorTrack",ct(E.error.main,.5)),se(E.Slider,"infoTrack",ct(E.info.main,.5)),se(E.Slider,"successTrack",ct(E.success.main,.5)),se(E.Slider,"warningTrack",ct(E.warning.main,.5));const k=Gp(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Ci(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",Gp(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-600")),se(E.StepContent,"border",x("palette-grey-600")),se(E.Switch,"defaultColor",x("palette-grey-300")),se(E.Switch,"defaultDisabledColor",x("palette-grey-600")),se(E.Switch,"primaryDisabledColor",ct(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",ct(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",ct(E.error.main,.55)),se(E.Switch,"infoDisabledColor",ct(E.info.main,.55)),se(E.Switch,"successDisabledColor",ct(E.success.main,.55)),se(E.Switch,"warningDisabledColor",ct(E.warning.main,.55)),se(E.TableCell,"border",ct(Kp(E.divider,1),.68)),se(E.Tooltip,"bg",Kp(E.grey[700],.92))}_s(E.background,"default"),_s(E.background,"paper"),_s(E.common,"background"),_s(E.common,"onBackground"),_s(E,"divider"),Object.keys(E).forEach(k=>{const O=E[k];k!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&se(E[k],"mainChannel",qd(Hd(O.main))),O.light&&se(E[k],"lightChannel",qd(Hd(O.light))),O.dark&&se(E[k],"darkChannel",qd(Hd(O.dark))),O.contrastText&&se(E[k],"contrastTextChannel",qd(Hd(O.contrastText))),k==="text"&&(_s(E[k],"primary"),_s(E[k],"secondary")),k==="action"&&(O.active&&_s(E[k],"active"),O.selected&&_s(E[k],"selected")))})}),B=e.reduce((C,E)=>Sr(C,E),B);const $={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:g$(B)},{vars:W,generateThemeVars:L,generateStyleSheets:A}=$j(B,$);return B.vars=W,Object.entries(B.colorSchemes[B.defaultColorScheme]).forEach(([C,E])=>{B[C]=E}),B.generateThemeVars=L,B.generateStyleSheets=A,B.generateSpacing=function(){return tk(h.spacing,CE(this))},B.getColorSchemeSelector=Bj(u),B.spacing=B.generateSpacing(),B.shouldSkipGeneratingVar=l,B.unstable_sxConfig={...jg,...h==null?void 0:h.unstable_sxConfig},B.unstable_sx=function(E){return Du({sx:E,theme:this})},B.toRuntimeSource=lk,B}function tA(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:ME({...t===!0?{}:t.palette,mode:e})})}function E$(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=n,u=s||"light",d=i==null?void 0:i[u],h={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return mw(n,...e);let m=t;"palette"in n||h[u]&&(h[u]!==!0?m=h[u].palette:u==="dark"&&(m={mode:"dark"}));const g=mw({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},tA(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},tA(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),w$({...l,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const I$=E$(),T$="$$material";function dk(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const S$=n=>dk(n)&&n!=="classes",ef=Sj({themeId:T$,defaultTheme:I$,rootShouldForwardProp:S$}),FE=Mj;function hk(n){return Vj(n)}function R$(n){return AE("MuiSvgIcon",n)}$C("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const A$=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${No(e)}`,`fontSize${No(t)}`]};return MC(i,R$,r)},b$=ef("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${No(t.color)}`],e[`fontSize${No(t.fontSize)}`]]}})(FE(({theme:n})=>{var e,t,r,i,s,l,u,d,h,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var b,M;return{props:{color:R},style:{color:(M=(b=(n.vars??n).palette)==null?void 0:b[R])==null?void 0:M.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),gw=K.forwardRef(function(e,t){const r=hk({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},b={};m||(b.viewBox=_);const M=A$(R);return N.jsxs(b$,{as:u,className:th(M.root,s),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...b,...T,...I&&i.props,ownerState:R,children:[I?i.props.children:i,g?N.jsx("title",{children:g}):null]})});gw.muiName="SvgIcon";function fk(n,e){function t(r,i){return N.jsx(gw,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=gw.muiName,K.memo(K.forwardRef(t))}const P$=fk(N.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),C$=fk(N.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function k$(n){return AE("MuiRating",n)}const Nd=$C("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function x$(n){const e=n.toString().split(".")[1];return e?e.length:0}function xv(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(x$(e)))}const O$=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${No(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return MC(u,k$,e)},N$=ef("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Nd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${No(t.size)}`],t.readOnly&&e.readOnly]}})(FE(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Nd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Nd.focusVisible} .${Nd.iconActive}`]:{outline:"1px solid #999"},[`& .${Nd.visuallyHidden}`]:mF,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),pk=ef("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),D$=ef("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(FE(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),L$=ef("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>dk(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function V$(n){const{value:e,...t}=n;return N.jsx("span",{...t})}function nA(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:h,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:R,onClick:b,onFocus:M,readOnly:V,ownerState:F,ratingValue:B,ratingValueRounded:$}=n,W=l?g===B:g<=B,L=g<=u,A=g<=i,C=g===$,E=`${T}-${jC()}`,x=N.jsx(D$,{as:h,value:g,className:th(e.icon,W?e.iconFilled:e.iconEmpty,L&&e.iconHover,A&&e.iconFocus,m&&e.iconActive),ownerState:{...F,iconEmpty:!W,iconFilled:W,iconHover:L,iconFocus:A,iconActive:m},children:r&&!W?r:d});return V?N.jsx("span",{..._,children:x}):N.jsxs(K.Fragment,{children:[N.jsxs(pk,{ownerState:{...F,emptyValueFocused:void 0},htmlFor:E,..._,children:[x,N.jsx("span",{className:e.visuallyHidden,children:s(g)})]}),N.jsx("input",{className:e.visuallyHidden,onFocus:M,onBlur:I,onChange:R,onClick:b,disabled:t,value:g,id:E,type:"radio",name:T,checked:C})]})}const M$=N.jsx(P$,{fontSize:"inherit"}),F$=N.jsx(C$,{fontSize:"inherit"});function U$(n){return`${n||"0"} Star${n!==1?"s":""}`}const j$=K.forwardRef(function(e,t){const r=hk({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=F$,emptyLabelText:h="Empty",getLabelText:m=U$,highlightSelectedOnly:g=!1,icon:_=M$,IconContainerComponent:T=V$,max:I=5,name:R,onChange:b,onChangeActive:M,onMouseLeave:V,onMouseMove:F,precision:B=1,readOnly:$=!1,size:W="medium",value:L,...A}=r,C=jC(R),[E,x]=TF({controlled:L,default:l,name:"Rating"}),k=xv(E,B),O=yF(),[{hover:X,focus:U},me]=K.useState({hover:-1,focus:-1});let oe=k;X!==-1&&(oe=X),U!==-1&&(oe=U);const[Z,pe]=K.useState(!1),de=K.useRef(),q=SF(de,t),ie=it=>{F&&F(it);const mt=de.current,{right:en,left:Kr,width:Pr}=mt.getBoundingClientRect();let Cr;O?Cr=(en-it.clientX)/Pr:Cr=(it.clientX-Kr)/Pr;let qn=xv(I*Cr+B/2,B);qn=VC(qn,B,I),me(Hn=>Hn.hover===qn&&Hn.focus===qn?Hn:{hover:qn,focus:qn}),pe(!1),M&&X!==qn&&M(it,qn)},Te=it=>{V&&V(it);const mt=-1;me({hover:mt,focus:mt}),M&&X!==mt&&M(it,mt)},ke=it=>{let mt=it.target.value===""?null:parseFloat(it.target.value);X!==-1&&(mt=X),x(mt),b&&b(it,mt)},Ve=it=>{it.clientX===0&&it.clientY===0||(me({hover:-1,focus:-1}),x(null),b&&parseFloat(it.target.value)===k&&b(it,null))},je=it=>{kR(it.target)&&pe(!0);const mt=parseFloat(it.target.value);me(en=>({hover:en.hover,focus:mt}))},Qe=it=>{if(X!==-1)return;kR(it.target)||pe(!1);const mt=-1;me(en=>({hover:en.hover,focus:mt}))},[qe,rt]=K.useState(!1),vt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:h,emptyValueFocused:qe,focusVisible:Z,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:B,readOnly:$,size:W},un=O$(vt);return N.jsxs(N$,{as:i,ref:q,onMouseMove:ie,onMouseLeave:Te,className:th(un.root,s,$&&"MuiRating-readOnly"),ownerState:vt,role:$?"img":null,"aria-label":$?m(oe):null,...A,children:[Array.from(new Array(I)).map((it,mt)=>{const en=mt+1,Kr={classes:un,disabled:u,emptyIcon:d,focus:U,getLabelText:m,highlightSelectedOnly:g,hover:X,icon:_,IconContainerComponent:T,name:C,onBlur:Qe,onChange:ke,onClick:Ve,onFocus:je,ratingValue:oe,ratingValueRounded:k,readOnly:$,ownerState:vt},Pr=en===Math.ceil(oe)&&(X!==-1||U!==-1);if(B<1){const Cr=Array.from(new Array(1/B));return N.jsx(L$,{className:th(un.decimal,Pr&&un.iconActive),ownerState:vt,iconActive:Pr,children:Cr.map((qn,Hn)=>{const lr=xv(en-1+(Hn+1)*B,B);return N.jsx(nA,{...Kr,isActive:!1,itemValue:lr,labelProps:{style:Cr.length-1===Hn?{}:{width:lr===oe?`${(Hn+1)*B*100}%`:"0%",overflow:"hidden",position:"absolute"}}},lr)})},en)}return N.jsx(nA,{...Kr,isActive:Pr,itemValue:en},en)}),!$&&!u&&N.jsxs(pk,{className:th(un.label,un.labelEmptyValue),ownerState:vt,children:[N.jsx("input",{className:un.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>rt(!0),onBlur:()=>rt(!1),onChange:ke}),N.jsx("span",{className:un.visuallyHidden,children:h})]})]})});var gm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var $$=gm.exports,rA;function B$(){return rA||(rA=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})($$,function(){var e,t,r="2.0.6",i={},s={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(h,m){this._input=h,this._value=m}return e=function(h){var m,g,_,T;if(e.isNumeral(h))m=h.value();else if(h===0||typeof h>"u")m=0;else if(h===null||t.isNaN(h))m=null;else if(typeof h=="string")if(u.zeroFormat&&h===u.zeroFormat)m=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&h.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(h)}else m=Number(h)||null;return new d(h,m)},e.version=r,e.isNumeral=function(h){return h instanceof d},e._=t={numberToFormat:function(h,m,g){var _=s[e.options.currentLocale],T=!1,I=!1,R=0,b="",M=1e12,V=1e9,F=1e6,B=1e3,$="",W=!1,L,A,C,E,x,k,O;if(h=h||0,A=Math.abs(h),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(x=e._.includes(m,"+")?m.indexOf("+"):h<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(L=m.match(/a(k|m|b|t)?/),L=L?L[1]:!1,e._.includes(m," a")&&(b=" "),m=m.replace(new RegExp(b+"a[kmbt]?"),""),A>=M&&!L||L==="t"?(b+=_.abbreviations.trillion,h=h/M):A<M&&A>=V&&!L||L==="b"?(b+=_.abbreviations.billion,h=h/V):A<V&&A>=F&&!L||L==="m"?(b+=_.abbreviations.million,h=h/F):(A<F&&A>=B&&!L||L==="k")&&(b+=_.abbreviations.thousand,h=h/B)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=h.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),$=e._.toFixed(h,E[0].length+E[1].length,g,E[1].length)):$=e._.toFixed(h,E.length,g),C=$.split(".")[0],e._.includes($,".")?$=_.delimiters.decimal+$.split(".")[1]:$="",I&&Number($.slice(1))===0&&($="")):C=e._.toFixed(h,0,g),b&&!L&&Number(C)>=1e3&&b!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),b){case _.abbreviations.thousand:b=_.abbreviations.million;break;case _.abbreviations.million:b=_.abbreviations.billion;break;case _.abbreviations.billion:b=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),W=!0),C.length<R)for(var X=R-C.length;X>0;X--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),O=C+$+(b||""),T?O=(T&&W?"(":"")+O+(T&&W?")":""):x>=0?O=x===0?(W?"-":"+")+O:O+(W?"-":"+"):W&&(O="-"+O),O},stringToNumber:function(h){var m=s[u.currentLocale],g=h,_={thousand:3,million:6,billion:9,trillion:12},T,I,R;if(u.zeroFormat&&h===u.zeroFormat)I=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(h=h.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){I*=Math.pow(10,_[T]);break}I*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),I*=Number(h)}return I},isNaN:function(h){return typeof h=="number"&&isNaN(h)},includes:function(h,m){return h.indexOf(m)!==-1},insert:function(h,m,g){return h.slice(0,g)+m+h.slice(g)},reduce:function(h,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(h),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(h){var m=h.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var h=Array.prototype.slice.call(arguments);return h.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(h,m,g,_){var T=h.toString().split("."),I=m-(_||0),R,b,M,V;return T.length===2?R=Math.min(Math.max(T[1].length,I),m):R=I,M=Math.pow(10,R),V=(g(h+"e+"+R)/M).toFixed(R),_>m-R&&(b=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),V=V.replace(b,"")),V}},e.options=u,e.formats=i,e.locales=s,e.locale=function(h){return h&&(u.currentLocale=h.toLowerCase()),u.currentLocale},e.localeData=function(h){if(!h)return s[u.currentLocale];if(h=h.toLowerCase(),!s[h])throw new Error("Unknown locale : "+h);return s[h]},e.reset=function(){for(var h in l)u[h]=l[h]},e.zeroFormat=function(h){u.zeroFormat=typeof h=="string"?h:null},e.nullFormat=function(h){u.nullFormat=typeof h=="string"?h:null},e.defaultFormat=function(h){u.defaultFormat=typeof h=="string"?h:"0.0"},e.register=function(h,m,g){if(m=m.toLowerCase(),this[h+"s"][m])throw new TypeError(m+" "+h+" already registered.");return this[h+"s"][m]=g,g},e.validate=function(h,m){var g,_,T,I,R,b,M,V;if(typeof h!="string"&&(h+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",h)),h=h.trim(),h.match(/^\d+$/))return!0;if(h==="")return!1;try{M=e.localeData(m)}catch{M=e.localeData(e.locale())}return T=M.currency.symbol,R=M.abbreviations,g=M.delimiters.decimal,M.delimiters.thousands==="."?_="\\.":_=M.delimiters.thousands,V=h.match(/^[^\d]+/),V!==null&&(h=h.substr(1),V[0]!==T)||(V=h.match(/[^\d]+$/),V!==null&&(h=h.slice(0,-1),V[0]!==R.thousand&&V[0]!==R.million&&V[0]!==R.billion&&V[0]!==R.trillion))?!1:(b=new RegExp(_+"{2}"),h.match(/[^\d.,]/g)?!1:(I=h.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(h,m){var g=this._value,_=h||u.defaultFormat,T,I,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,I=R(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(h){return this._value=Number(h),this},add:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _+Math.round(m*T)}return this._value=t.reduce([this._value,h],g,0)/m,this},subtract:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _-Math.round(m*T)}return this._value=t.reduce([h],g,Math.round(this._value*m))/m,this},multiply:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,h],m,1),this},divide:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,h],m),this},difference:function(h){return Math.abs(e(this._value).subtract(h).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(h){var m=h%10;return~~(h%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(h,m,g){var _=e._.includes(m," BPS")?" ":"",T;return h=h*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(h){return+(e._.stringToNumber(h)*1e-4).toFixed(15)}})}(),function(){var h={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=h.suffixes.concat(m.suffixes.filter(function(T){return h.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,R){var b,M=e._.includes(I,"ib")?m:h,V=e._.includes(I," b")||e._.includes(I," ib")?" ":"",F,B,$;for(I=I.replace(/\s?i?b/,""),F=0;F<=M.suffixes.length;F++)if(B=Math.pow(M.base,F),$=Math.pow(M.base,F+1),T===null||T===0||T>=B&&T<$){V+=M.suffixes[F],B>0&&(T=T/B);break}return b=e._.numberToFormat(T,I,R),b+V},unformat:function(T){var I=e._.stringToNumber(T),R,b;if(I){for(R=h.suffixes.length-1;R>=0;R--){if(e._.includes(T,h.suffixes[R])){b=Math.pow(h.base,R);break}if(e._.includes(T,m.suffixes[R])){b=Math.pow(m.base,R);break}}I*=b||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,R,b;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(h,m,g),h>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):h<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),b=0;b<T.before.length;b++)switch(R=T.before[b],R){case"$":I=e._.insert(I,_.currency.symbol,b);break;case" ":I=e._.insert(I," ",b+_.currency.symbol.length-1);break}for(b=T.after.length-1;b>=0;b--)switch(R=T.after[b],R){case"$":I=b===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+b)));break;case" ":I=b===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+b)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(h,m,g){var _,T=typeof h=="number"&&!e._.isNaN(h)?h.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(h){var m=e._.includes(h,"e+")?h.split("e+"):h.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(h,"e-")?_*=-1:_;function T(I,R,b,M){var V=e._.correctionFactor(I,R),F=I*V*(R*V)/(V*V);return F}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(h),T=e._.numberToFormat(h,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(h,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(h=h*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(h){var m=e._.stringToNumber(h);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,m,g){var _=Math.floor(h/60/60),T=Math.floor((h-_*60*60)/60),I=Math.round(h-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(h){var m=h.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(gm)),gm.exports}var z$=B$();const W$=gE(z$),UE=({amount:n})=>{const e=W$(n).format("$0,0.00");return N.jsx("div",{children:e})},q$="_card__container_1rope_1",H$="_button_1rope_21",K$="_rating_1rope_77",G$="_products_container_1rope_87",Q$="_product__flexed_1rope_111",Kd={card__container:q$,button:H$,rating:K$,products_container:G$,product__flexed:Q$},Fs=K.createContext(),Y$=({children:n,reducer:e,initialState:t})=>N.jsx(Fs.Provider,{value:K.useReducer(e,t),children:n}),$r={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function hc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:s,id:l,rating:u={},price:d,description:h}=n,[m,g]=K.useContext(Fs),_=()=>{g({type:$r.ADD_TO_BASKET,item:{image:i,title:s,id:l,rating:u,price:d,description:h}})};return N.jsxs("div",{className:`${Kd.card__container} ${e?Kd.product__flexed:""}`,children:[N.jsx(di,{to:`/products/${l}`,children:N.jsx("img",{src:i,alt:""})}),N.jsxs("div",{children:[N.jsx("h4",{children:s}),t&&N.jsx("div",{style:{maxWidth:"750px"},children:h}),N.jsxs("div",{className:Kd.rating,children:[N.jsx(j$,{value:u.rate,precision:.1}),N.jsx("small",{children:u.count})]}),N.jsx("div",{children:N.jsx(UE,{amount:d})}),r&&N.jsx("button",{className:Kd.button,onClick:_,children:"add to cart"})]})]})}var J$={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function mk(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return J$[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Su(n){var e=mk(n);return"".concat(e.value).concat(e.unit)}var gk=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},Bm=function(){return Bm=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bm.apply(this,arguments)},X$=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Z$=gk("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function yw(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?35:h,g=X$(n,["loading","color","speedMultiplier","cssOverride","size"]),_=Bm({background:"transparent !important",width:Su(m),height:Su(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(Z$," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",Bm({style:_},g)):null}var Gt=function(){return Gt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gt.apply(this,arguments)},e4=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},t4=gk("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function n4(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.height,m=h===void 0?15:h,g=n.width,_=g===void 0?5:g,T=n.radius,I=T===void 0?2:T,R=n.margin,b=R===void 0?2:R,M=e4(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),V=mk(b).value,F=V+18,B=F/2+F/5.5,$=Gt({display:"inherit",position:"relative",fontSize:"0",top:F,left:F,width:"".concat(F*3,"px"),height:"".concat(F*3,"px")},d),W=function(U){return{position:"absolute",width:Su(_),height:Su(m),margin:Su(b),backgroundColor:i,borderRadius:Su(I),transition:"2s",animationFillMode:"both",animation:"".concat(t4," ").concat(1.2/l,"s ").concat(U*.12,"s infinite ease-in-out")}},L=Gt(Gt({},W(1)),{top:"".concat(F,"px"),left:"0"}),A=Gt(Gt({},W(2)),{top:"".concat(B,"px"),left:"".concat(B,"px"),transform:"rotate(-45deg)"}),C=Gt(Gt({},W(3)),{top:"0",left:"".concat(F,"px"),transform:"rotate(90deg)"}),E=Gt(Gt({},W(4)),{top:"".concat(-1*B,"px"),left:"".concat(B,"px"),transform:"rotate(45deg)"}),x=Gt(Gt({},W(5)),{top:"".concat(-1*F,"px"),left:"0"}),k=Gt(Gt({},W(6)),{top:"".concat(-1*B,"px"),left:"".concat(-1*B,"px"),transform:"rotate(-45deg)"}),O=Gt(Gt({},W(7)),{top:"0",left:"".concat(-1*F,"px"),transform:"rotate(90deg)"}),X=Gt(Gt({},W(8)),{top:"".concat(B,"px"),left:"".concat(-1*B,"px"),transform:"rotate(45deg)"});return t?K.createElement("span",Gt({style:$},M),K.createElement("span",{style:L}),K.createElement("span",{style:A}),K.createElement("span",{style:C}),K.createElement("span",{style:E}),K.createElement("span",{style:x}),K.createElement("span",{style:k}),K.createElement("span",{style:O}),K.createElement("span",{style:X})):null}function jE(){return N.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:N.jsx(n4,{color:"#36d7b7"})})}function r4(){const[n,e]=K.useState([]),[t,r]=K.useState(!1);return K.useEffect(()=>{r(!0),bt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),N.jsx(N.Fragment,{children:t?N.jsx(jE,{}):N.jsx("section",{className:Kd.products_container,children:n==null?void 0:n.map(i=>N.jsx(hc,{renderAdd:!0,product:i},i.id))})})}const i4="_fixed_y49wv_1",s4="_header__container_y49wv_15",o4="_logo__container_y49wv_31",a4="_delivery_y49wv_55",l4="_search_y49wv_79",u4="_order__container_y49wv_151",c4="_language_y49wv_179",d4="_cart_y49wv_207",h4="_lower__container_y49wv_237",ws={fixed:i4,header__container:s4,logo__container:o4,delivery:a4,search:l4,order__container:u4,language:c4,cart:d4,lower__container:h4};var yk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iA=Ke.createContext&&Ke.createContext(yk),f4=["attr","size","title"];function p4(n,e){if(n==null)return{};var t=m4(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function m4(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function zm(){return zm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zm.apply(this,arguments)}function sA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(t),!0).forEach(function(r){g4(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sA(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function g4(n,e,t){return e=y4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y4(n){var e=_4(n,"string");return typeof e=="symbol"?e:e+""}function _4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _k(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,Wm({key:t},e.attr),_k(e.child)))}function fc(n){return e=>Ke.createElement(v4,zm({attr:Wm({},n.attr)},e),_k(n.child))}function v4(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=p4(n,f4),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",zm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Wm(Wm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Ke.createElement("title",null,s),n.children)};return iA!==void 0?Ke.createElement(iA.Consumer,null,t=>e(t)):e(yk)}function w4(n){return fc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function E4(n){return fc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function I4(n){return fc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function T4(n){return fc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function S4(){return N.jsx("div",{className:ws.lower__container,children:N.jsxs("ul",{children:[N.jsxs("li",{children:[N.jsx(T4,{}),N.jsx("p",{children:"All"})]}),N.jsx("li",{children:"Today's Deals"}),N.jsx("li",{children:"Customer Service"}),N.jsx("li",{children:"Registry"}),N.jsx("li",{children:"Gift Cards"}),N.jsx("li",{children:"Sell"})]})})}var oA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},R4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},wk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):R4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new A4;const _=s<<2|u>>4;if(r.push(_),h!==64){const T=u<<4&240|h>>2;if(r.push(T),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class A4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b4=function(n){const e=vk(n);return wk.encodeByteArray(e,!0)},qm=function(n){return b4(n).replace(/\./g,"")},qg=function(n){try{return wk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hm(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!P4(t)||(n[t]=Hm(n[t],e[t]));return n}function P4(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=()=>Ek().__FIREBASE_DEFAULTS__,k4=()=>{if(typeof process>"u"||typeof oA>"u")return;const n=oA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},x4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qg(n[1]);return e&&JSON.parse(e)},Hg=()=>{try{return C4()||k4()||x4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O4=n=>{var e,t;return(t=(e=Hg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ik=()=>{var n;return(n=Hg())===null||n===void 0?void 0:n.config},$E=n=>{var e;return(e=Hg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qm(JSON.stringify(t)),qm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function BE(){var n;const e=(n=Hg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L4(){return typeof window<"u"||Sk()}function Sk(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Rk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Kg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WE(){const n=We();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ak(){return!BE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ih(){try{return typeof indexedDB=="object"}catch{return!1}}function V4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="FirebaseError";class gn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=M4,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ts.prototype.create)}}class ts{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?F4(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new gn(i,u,r)}}function F4(n,e){return n.replace(U4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function bk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(lA(s)&&lA(l)){if(!Vu(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function lA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hi(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Fi(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function qE(n,e){const t=new j4(n,e);return t.subscribe.bind(t)}class j4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ov),i.error===void 0&&(i.error=Ov),i.complete===void 0&&(i.complete=Ov);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ov(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Wr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new N4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W4(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z4(n){return n===xa?void 0:n}function W4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new B4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=[];var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const Ck={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},q4=Ue.INFO,H4={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},K4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=H4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tf{constructor(e){this.name=e,this._logLevel=q4,this._logHandler=K4,this._userLogHandler=null,HE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ck[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}function G4(n){HE.forEach(e=>{e.setLogLevel(n)})}function Q4(n,e){for(const t of HE){let r=null;e&&e.level&&(r=Ck[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:Ue[s].toLowerCase(),message:u,args:l,type:i.name})}}}const Y4=(n,e)=>e.some(t=>n instanceof t);let uA,cA;function J4(){return uA||(uA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X4(){return cA||(cA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kk=new WeakMap,_w=new WeakMap,xk=new WeakMap,Nv=new WeakMap,KE=new WeakMap;function Z4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(bo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&kk.set(t,n)}).catch(()=>{}),KE.set(e,n),e}function eB(n){if(_w.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});_w.set(n,e)}let vw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _w.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tB(n){vw=n(vw)}function nB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Dv(this),e,...t);return xk.set(r,e.sort?e.sort():[e]),bo(r)}:X4().includes(n)?function(...e){return n.apply(Dv(this),e),bo(kk.get(this))}:function(...e){return bo(n.apply(Dv(this),e))}}function rB(n){return typeof n=="function"?nB(n):(n instanceof IDBTransaction&&eB(n),Y4(n,J4())?new Proxy(n,vw):n)}function bo(n){if(n instanceof IDBRequest)return Z4(n);if(Nv.has(n))return Nv.get(n);const e=rB(n);return e!==n&&(Nv.set(n,e),KE.set(e,n)),e}const Dv=n=>KE.get(n);function iB(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=bo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(bo(l.result),d.oldVersion,d.newVersion,bo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const sB=["get","getKey","getAll","getAllKeys","count"],oB=["put","add","delete","clear"],Lv=new Map;function dA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=oB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sB.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return Lv.set(e,s),s}tB(n=>({...n,get:(e,t,r)=>dA(e,t)||n.get(e,t,r),has:(e,t)=>!!dA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lB(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function lB(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",ww="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new tf("@firebase/app"),uB="@firebase/app-compat",cB="@firebase/analytics-compat",dB="@firebase/analytics",hB="@firebase/app-check-compat",fB="@firebase/app-check",pB="@firebase/auth",mB="@firebase/auth-compat",gB="@firebase/database",yB="@firebase/data-connect",_B="@firebase/database-compat",vB="@firebase/functions",wB="@firebase/functions-compat",EB="@firebase/installations",IB="@firebase/installations-compat",TB="@firebase/messaging",SB="@firebase/messaging-compat",RB="@firebase/performance",AB="@firebase/performance-compat",bB="@firebase/remote-config",PB="@firebase/remote-config-compat",CB="@firebase/storage",kB="@firebase/storage-compat",xB="@firebase/firestore",OB="@firebase/vertexai",NB="@firebase/firestore-compat",DB="firebase",LB="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]",VB={[Km]:"fire-core",[uB]:"fire-core-compat",[dB]:"fire-analytics",[cB]:"fire-analytics-compat",[fB]:"fire-app-check",[hB]:"fire-app-check-compat",[pB]:"fire-auth",[mB]:"fire-auth-compat",[gB]:"fire-rtdb",[yB]:"fire-data-connect",[_B]:"fire-rtdb-compat",[vB]:"fire-fn",[wB]:"fire-fn-compat",[EB]:"fire-iid",[IB]:"fire-iid-compat",[TB]:"fire-fcm",[SB]:"fire-fcm-compat",[RB]:"fire-perf",[AB]:"fire-perf-compat",[bB]:"fire-rc",[PB]:"fire-rc-compat",[CB]:"fire-gcs",[kB]:"fire-gcs-compat",[xB]:"fire-fst",[NB]:"fire-fst-compat",[OB]:"fire-vertex","fire-js":"fire-js",[DB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Map,Mu=new Map,Fu=new Map;function Th(n,e){try{n.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ok(n,e){n.container.addOrOverwriteComponent(e)}function Gi(n){const e=n.name;if(Fu.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Fu.set(e,n);for(const t of Vo.values())Th(t,n);for(const t of Mu.values())Th(t,n);return!0}function Gg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function MB(n,e,t=Lo){Gg(n,e).clearInstance(t)}function Nk(n){return n.options!==void 0}function Ge(n){return n==null?!1:n.settings!==void 0}function FB(){Fu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new ts("app","Firebase",UB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dk=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n,e){const t=qg(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class jB extends Dk{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&hA(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&hA(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,or(Km,ww,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){QE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw zr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=LB;function GE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zr.create("bad-app-name",{appName:String(i)});if(t||(t=Ik()),!t)throw zr.create("no-options");const s=Vo.get(i);if(s){if(Vu(t,s.options)&&Vu(r,s.config))return s;throw zr.create("duplicate-app",{appName:i})}const l=new Pk(i);for(const d of Fu.values())l.addComponent(d);const u=new Dk(t,r,l);return Vo.set(i,u),u}function $B(n,e){if(L4()&&!Sk())throw zr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Nk(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw zr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=Mu.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new Pk(s);for(const h of Fu.values())u.addComponent(h);const d=new jB(t,e,s,u);return Mu.set(s,d),d}function Lk(n=Lo){const e=Vo.get(n);if(!e&&n===Lo&&Ik())return GE();if(!e)throw zr.create("no-app",{appName:n});return e}function BB(){return Array.from(Vo.values())}async function QE(n){let e=!1;const t=n.name;Vo.has(t)?(e=!0,Vo.delete(t)):Mu.has(t)&&n.decRefCount()<=0&&(Mu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function or(n,e,t){var r;let i=(r=VB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(u.join(" "));return}Gi(new Wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Vk(n,e){if(n!==null&&typeof n!="function")throw zr.create("invalid-log-argument");Q4(n,e)}function Mk(n){G4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="firebase-heartbeat-database",WB=1,Sh="firebase-heartbeat-store";let Vv=null;function Fk(){return Vv||(Vv=iB(zB,WB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sh)}catch(t){console.warn(t)}}}}).catch(n=>{throw zr.create("idb-open",{originalErrorMessage:n.message})})),Vv}async function qB(n){try{const t=(await Fk()).transaction(Sh),r=await t.objectStore(Sh).get(Uk(n));return await t.done,r}catch(e){if(e instanceof gn)Os.warn(e.message);else{const t=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(t.message)}}}async function fA(n,e){try{const r=(await Fk()).transaction(Sh,"readwrite");await r.objectStore(Sh).put(e,Uk(n)),await r.done}catch(t){if(t instanceof gn)Os.warn(t.message);else{const r=zr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Os.warn(r.message)}}}function Uk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=1024,KB=30;class GB{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YB(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>KB){const l=JB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pA(),{heartbeatsToSend:r,unsentEntries:i}=QB(this._heartbeatsCache.heartbeats),s=qm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Os.warn(t),""}}}function pA(){return new Date().toISOString().substring(0,10)}function QB(n,e=HB){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),mA(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class YB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ih()?V4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mA(n){return qm(JSON.stringify({version:2,heartbeats:n})).length}function JB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(n){Gi(new Wr("platform-logger",e=>new aB(e),"PRIVATE")),Gi(new Wr("heartbeat",e=>new GB(e),"PRIVATE")),or(Km,ww,n),or(Km,ww,"esm2017"),or("fire-js","")}XB("");const ZB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:gn,SDK_VERSION:br,_DEFAULT_ENTRY_NAME:Lo,_addComponent:Th,_addOrOverwriteComponent:Ok,_apps:Vo,_clearComponents:FB,_components:Fu,_getProvider:Gg,_isFirebaseApp:Nk,_isFirebaseServerApp:Ge,_registerComponent:Gi,_removeServiceInstance:MB,_serverApps:Mu,deleteApp:QE,getApp:Lk,getApps:BB,initializeApp:GE,initializeServerApp:$B,onLog:Vk,registerVersion:or,setLogLevel:Mk},Symbol.toStringTag,{value:"Module"}));var e5="firebase",t5="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(e5,t5,"app");function pc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function jk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n5=jk,$k=new ts("auth","Firebase",jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new tf("@firebase/auth");function r5(n,...e){Gm.logLevel<=Ue.WARN&&Gm.warn(`Auth (${br}): ${n}`,...e)}function ym(n,...e){Gm.logLevel<=Ue.ERROR&&Gm.error(`Auth (${br}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,...e){throw YE(n,...e)}function zi(n,...e){return YE(n,...e)}function Bk(n,e,t){const r=Object.assign(Object.assign({},n5()),{[e]:t});return new ts("auth","Firebase",r).create(e,{appName:n.name})}function Cs(n){return Bk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $k.create(n,...e)}function Ne(n,e,...t){if(!n)throw YE(e,...t)}function Is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ym(e),new Error(e)}function Ns(n,e){n||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function i5(){return gA()==="http:"||gA()==="https:"}function gA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i5()||zE()||"connection"in navigator)?navigator.onLine:!0}function o5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ns(t>e,"Short delay should be less than long delay!"),this.isMobile=Tk()||Kg()}get(){return s5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n,e){Ns(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zk=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=new nf(3e4,6e4);function Go(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qo(n,e,t,r,i={}){return Wk(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=gi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return Rk()||(h.referrerPolicy="no-referrer"),zk.fetch()(qk(n,n.config.apiHost,t,u),h)})}async function Wk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},a5),e);try{const i=new c5(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Qp(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qp(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Qp(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Qp(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Bk(n,m,h);fi(n,m)}}catch(i){if(i instanceof gn)throw i;fi(n,"network-request-failed",{message:String(i)})}}async function rf(n,e,t,r,i={}){const s=await Qo(n,e,t,r,i);return"mfaPendingCredential"in s&&fi(n,"multi-factor-auth-required",{_serverResponse:s}),s}function qk(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?JE(n.config,i):`${n.config.apiScheme}://${i}`}function u5(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let c5=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),l5.get())})}};function Qp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=zi(n,e,r);return i.customData._tokenResponse=t,i}function yA(n){return n!==void 0&&n.enterprise!==void 0}let d5=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return u5(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function h5(n,e){return Qo(n,"GET","/v2/recaptchaConfig",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(n,e){return Qo(n,"POST","/v1/accounts:delete",e)}async function Hk(n,e){return Qo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p5(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=XE(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rh(Mv(i.auth_time)),issuedAtTime:rh(Mv(i.iat)),expirationTime:rh(Mv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mv(n){return Number(n)*1e3}function XE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const i=qg(t);return i?JSON.parse(i):(ym("Failed to decode base64 JWT payload"),null)}catch(i){return ym("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _A(n){const e=XE(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof gn&&m5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function m5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g5=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iw=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Rh(n,Hk(t,{idToken:r}));Ne(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Kk(s.providerUserInfo):[],u=_5(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Iw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function y5(n){const e=Ce(n);await Qm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _5(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Kk(n){return n.map(e=>{var{providerId:t}=e,r=pc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(n,e){const t=await Wk(n,{},async()=>{const r=gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=qk(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",zk.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function w5(n,e){return Qo(n,"POST","/v2/accounts:revokeToken",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv=class Tw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_A(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=_A(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await v5(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Tw;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tw,this.toJSON())}_performRefresh(){return Is("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Ym=class Gd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=pc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Iw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Rh(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return p5(this,e)}reload(){return y5(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Qm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ge(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Rh(this,f5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,M=(h=t.createdAt)!==null&&h!==void 0?h:void 0,V=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:B,isAnonymous:$,providerData:W,stsTokenManager:L}=t;Ne(F&&L,e,"internal-error");const A=Fv.fromJSON(this.name,L);Ne(typeof F=="string",e,"internal-error"),go(g,e.name),go(_,e.name),Ne(typeof B=="boolean",e,"internal-error"),Ne(typeof $=="boolean",e,"internal-error"),go(T,e.name),go(I,e.name),go(R,e.name),go(b,e.name),go(M,e.name),go(V,e.name);const C=new Gd({uid:F,auth:e,email:_,emailVerified:B,displayName:g,isAnonymous:$,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:A,createdAt:M,lastLoginAt:V});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Fv;i.updateFromServerResponse(t);const s=new Gd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Kk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Fv;u.updateFromIdToken(r);const d=new Gd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Iw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Map;function Ts(n){Ns(n instanceof Function,"Expected a class definition");let e=vA.get(n);return e?(Ns(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gk=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Gk.type="NONE";const wA=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e,t){return`firebase:${n}:${e}:${t}`}let EA=class vm{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_m(this.userKey,i.apiKey,s),this.fullPersistenceKey=_m("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ym._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new vm(Ts(wA),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ts(wA);const l=_m(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Ym._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new vm(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new vm(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e1(e))return"Blackberry";if(t1(e))return"Webos";if(Yk(e))return"Safari";if((e.includes("chrome/")||Jk(e))&&!e.includes("edge/"))return"Chrome";if(Zk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Qk(n=We()){return/firefox\//i.test(n)}function Yk(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jk(n=We()){return/crios\//i.test(n)}function Xk(n=We()){return/iemobile/i.test(n)}function Zk(n=We()){return/android/i.test(n)}function e1(n=We()){return/blackberry/i.test(n)}function t1(n=We()){return/webos/i.test(n)}function ZE(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E5(n=We()){var e;return ZE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I5(){return WE()&&document.documentMode===10}function n1(n=We()){return ZE(n)||Zk(n)||t1(n)||e1(n)||/windows phone/i.test(n)||Xk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n,e=[]){let t;switch(n){case"Browser":t=IA(We());break;case"Worker":t=`${IA(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${br}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T5=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(n,e={}){return Qo(n,"GET","/v2/passwordPolicy",Go(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=6;let A5=class{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:R5,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b5=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TA(this),this.idTokenSubscription=new TA(this),this.beforeStateQueue=new T5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ts(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await EA.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hk(this,{idToken:e}),r=await Ym._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ge(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ge(this.app))return Promise.reject(Cs(this));const t=e?Ce(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ge(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ge(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S5(this),t=new A5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ts("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await w5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ts(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await EA.create(this,[Ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ge(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&r5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function ll(n){return Ce(n)}let TA=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qE(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P5(n){Qg=n}function i1(n){return Qg.loadJS(n)}function C5(){return Qg.recaptchaEnterpriseScript}function k5(){return Qg.gapiScript}function x5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let O5=class{constructor(){this.enterprise=new N5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},N5=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const D5="recaptcha-enterprise",s1="NO_RECAPTCHA";let L5=class{constructor(e){this.type=D5,this.auth=ll(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{h5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new d5(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;yA(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(s1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O5().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&yA(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=C5();d.length!==0&&(d+=u),i1(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}};async function SA(n,e,t,r=!1,i=!1){const s=new L5(n);let l;if(i)l=s1;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Sw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await SA(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await SA(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(n,e){const t=Gg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Vu(s,e??{}))return i;fi(i,"already-initialized")}return t.initialize({options:e})}function M5(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ts);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F5(n,e,t){const r=ll(n);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=o1(e),{host:l,port:u}=U5(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),j5()}function o1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function U5(n){const e=o1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RA(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:RA(l)}}}function RA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function j5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,t){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}};async function $5(n,e){return Qo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(n,e){return rf(n,"POST","/v1/accounts:signInWithPassword",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(n,e){return rf(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}async function W5(n,e){return rf(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AA=class Rw extends e0{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Rw(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Rw(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,t,"signInWithPassword",B5);case"emailLink":return z5(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,r,"signUpPassword",$5);case"emailLink":return W5(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(n,e){return rf(n,"POST","/v1/accounts:signInWithIdp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="http://localhost";let Yg=class Aw extends e0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=pc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Aw(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return bu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,bu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bu(e,t)}buildRequest(){const e={requestUri:q5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gi(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K5(n){const e=hi(Fi(n)).link,t=e?hi(Fi(e)).deep_link_id:null,r=hi(Fi(n)).deep_link_id;return(r?hi(Fi(r)).link:null)||r||t||e||n}let G5=class a1{constructor(e){var t,r,i,s,l,u;const d=hi(Fi(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=H5((i=d.mode)!==null&&i!==void 0?i:null);Ne(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=K5(e);try{return new a1(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg=class l1{constructor(){this.providerId=l1.PROVIDER_ID}static credential(e,t){return AA._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=G5.parseLink(t);return Ne(r,"argument-error"),AA._fromEmailAndCode(e,r.code,r.tenantId)}};Jg.PROVIDER_ID="password";Jg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u1=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=class extends u1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1=class mu extends sf{constructor(){super("facebook.com")}static credential(e){return Yg._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mu.credentialFromTaggedObject(e)}static credentialFromError(e){return mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mu.credential(e.oauthAccessToken)}catch{return null}}};c1.FACEBOOK_SIGN_IN_METHOD="facebook.com";c1.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d1=class gu extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yg._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gu.credential(t,r)}catch{return null}}};d1.GOOGLE_SIGN_IN_METHOD="google.com";d1.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h1=class yu extends sf{constructor(){super("github.com")}static credential(e){return Yg._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}};h1.GITHUB_SIGN_IN_METHOD="github.com";h1.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f1=class _u extends sf{constructor(){super("twitter.com")}static credential(e,t){return Yg._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _u.credential(t,r)}catch{return null}}};f1.TWITTER_SIGN_IN_METHOD="twitter.com";f1.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(n,e){return rf(n,"POST","/v1/accounts:signUp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg=class bw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ym._fromIdTokenResponse(e,r,i),l=bA(r);return new bw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=bA(r);return new bw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function bA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y5=class Pw extends gn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Pw(e,t,r,i)}};function p1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Y5._fromErrorAndOperation(n,s,e,r):s})}async function J5(n,e,t=!1){const r=await Rh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xg._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(n,e,t=!1){const{auth:r}=n;if(Ge(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const s=await Rh(n,p1(r,i,e,n),t);Ne(s.idToken,r,"internal-error");const l=XE(s.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(n.uid===u,r,"user-mismatch"),Xg._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(n,e,t=!1){if(Ge(n.app))return Promise.reject(Cs(n));const r="signIn",i=await p1(n,r,e),s=await Xg._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Z5(n,e){return m1(ll(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(n){const e=ll(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ez(n,e,t){if(Ge(n.app))return Promise.reject(Cs(n));const r=ll(n),l=await Sw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q5).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&g1(n),d}),u=await Xg._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function tz(n,e,t){return Ge(n.app)?Promise.reject(Cs(n)):Z5(Ce(n),Jg.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g1(n),r})}function nz(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function rz(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}const Jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jm,"1"),this.storage.removeItem(Jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=1e3,sz=10;let _1=class extends y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);I5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},iz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};_1.type="LOCAL";const oz=_1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v1=class extends y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};v1.type="SESSION";const w1=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E1=class I1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new I1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await az(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};E1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lz=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=t0("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function uz(n){Wi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function cz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hz(){return T1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebaseLocalStorageDb",fz=1,Xm="firebaseLocalStorage",R1="fbase_key";let of=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Zg(n,e){return n.transaction([Xm],e?"readwrite":"readonly").objectStore(Xm)}function pz(){const n=indexedDB.deleteDatabase(S1);return new of(n).toPromise()}function Cw(){const n=indexedDB.open(S1,fz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xm,{keyPath:R1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xm)?e(r):(r.close(),await pz(),e(await Cw()))})})}async function PA(n,e,t){const r=Zg(n,!0).put({[R1]:e,value:t});return new of(r).toPromise()}async function mz(n,e){const t=Zg(n,!1).get(e),r=await new of(t).toPromise();return r===void 0?null:r.value}function CA(n,e){const t=Zg(n,!0).delete(e);return new of(t).toPromise()}const gz=800,yz=3;let A1=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>yz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=E1._getInstance(hz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cz(),!this.activeServiceWorker)return;this.sender=new lz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cw();return await PA(e,Jm,"1"),await CA(e,Jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>mz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zg(i,!1).getAll();return new of(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};A1.type="LOCAL";const _z=A1;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(n,e){return e?Ts(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0=class extends e0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function wz(n){return m1(n.auth,new n0(n),n.bypassAuthState)}function Ez(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),X5(t,new n0(n),n.bypassAuthState)}async function Iz(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),J5(t,new n0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wz;case"linkViaPopup":case"linkViaRedirect":return Iz;case"reauthViaPopup":case"reauthViaRedirect":return Ez;default:fi(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=new nf(2e3,1e4);let Sz=class Qd extends b1{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qd.currentPopupAction&&Qd.currentPopupAction.cancel(),Qd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tz.get())};e()}};Sz.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="pendingRedirect",wm=new Map;let Az=class extends b1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=wm.get(this.auth._key());if(!e){try{const r=await bz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}wm.set(this.auth._key(),e)}return this.bypassAuthState||wm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function bz(n,e){const t=kz(e),r=Cz(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Pz(n,e){wm.set(n._key(),e)}function Cz(n){return Ts(n._redirectPersistence)}function kz(n){return _m(Rz,n.config.apiKey,n.name)}async function xz(n,e,t=!1){if(Ge(n.app))return Promise.reject(Cs(n));const r=ll(n),i=vz(r,e),l=await new Az(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=10*60*1e3;let Nz=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!P1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Oz&&this.cachedEventUids.clear(),this.cachedEventUids.has(kA(e))}saveEventToCache(e){this.cachedEventUids.add(kA(e)),this.lastProcessedEventTime=Date.now()}};function kA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function P1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(n,e={}){return Qo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mz=/^https?/;async function Fz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Lz(n);for(const t of e)try{if(Uz(t))return}catch{}fi(n,"unauthorized-domain")}function Uz(n){const e=Ew(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Mz.test(t))return!1;if(Vz.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=new nf(3e4,6e4);function xA(){const n=Wi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $z(n){return new Promise((e,t)=>{var r,i,s;function l(){xA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xA(),t(zi(n,"network-request-failed"))},timeout:jz.get()})}if(!((i=(r=Wi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wi().gapi)===null||s===void 0)&&s.load)l();else{const u=x5("iframefcb");return Wi()[u]=()=>{gapi.load?l():t(zi(n,"network-request-failed"))},i1(`${k5()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Em=null,e})}let Em=null;function Bz(n){return Em=Em||$z(n),Em}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=new nf(5e3,15e3),Wz="__/auth/iframe",qz="emulator/auth/iframe",Hz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gz(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?JE(e,qz):`https://${n.config.authDomain}/${Wz}`,r={apiKey:e.apiKey,appName:n.name,v:br},i=Kz.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${gi(r).slice(1)}`}async function Qz(n){const e=await Bz(n),t=Wi().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:Gz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=zi(n,"network-request-failed"),u=Wi().setTimeout(()=>{s(l)},zz.get());function d(){Wi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jz=500,Xz=600,Zz="_blank",e3="http://localhost";let OA=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function t3(n,e,t,r=Jz,i=Xz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},Yz),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=Jk(h)?Zz:t),Qk(h)&&(e=e||e3,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(E5(h)&&u!=="_self")return n3(e||"",u),new OA(null);const g=window.open(e||"",u,m);Ne(g,n,"popup-blocked");try{g.focus()}catch{}return new OA(g)}function n3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="__/auth/handler",i3="emulator/auth/handler",s3=encodeURIComponent("fac");async function NA(n,e,t,r,i,s){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:br,eventId:i};if(e instanceof u1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",bk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof sf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${s3}=${encodeURIComponent(d)}`:"";return`${o3(n)}?${gi(u).slice(1)}${h}`}function o3({config:n}){return n.emulator?JE(n,i3):`https://${n.authDomain}/${r3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="webStorageSupport";let a3=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w1,this._completeRedirectFn=xz,this._overrideRedirectResult=Pz}async _openPopup(e,t,r,i){var s;Ns((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await NA(e,t,r,Ew(),i);return t3(e,l,t0())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await NA(e,t,r,Ew(),i);return uz(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Qz(e),r=new Nz(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uv,{type:Uv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Uv];l!==void 0&&t(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Fz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return n1()||Yk()||ZE()}};const l3=a3;var DA="@firebase/auth",LA="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u3=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d3(n){Gi(new Wr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(n)},h=new b5(r,i,s,d);return M5(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gi(new Wr("auth-internal",e=>{const t=ll(e.getProvider("auth").getImmediate());return(r=>new u3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(DA,LA,c3(n)),or(DA,LA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=5*60,f3=$E("authIdTokenMaxAge")||h3;let VA=null;const p3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>f3)return;const i=t==null?void 0:t.token;VA!==i&&(VA=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m3(n=Lk()){const e=Gg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=V5(n,{popupRedirectResolver:l3,persistence:[_z,oz,w1]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=p3(s.toString());rz(t,l,()=>l(t.currentUser)),nz(t,u=>l(u))}}const i=O4("auth");return i&&F5(t,`http://${i}`),t}function g3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}P5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=zi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",g3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d3("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t){this._delegate=e,this.firebase=t,Th(e,new Wr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),QE(this._delegate)))}_getService(e,t=Lo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Lo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Th(this._delegate,e)}_addOrOverwriteComponent(e){Ok(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},MA=new ts("app-compat","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:or,setLogLevel:Mk,onLog:Vk,apps:null,SDK_VERSION:br,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:ZB}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(h){delete e[h]}function i(h){if(h=h||Lo,!aA(e,h))throw MA.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,m={}){const g=GE(h,m);if(aA(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(Gi(h)&&h.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw MA.create("invalid-app-argument",{appName:m});return T[g]()};h.serviceProps!==void 0&&Hm(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,h.multipleInstances?T:[])}}return h.type==="PUBLIC"?t[g]:null}function d(h,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){const n=v3(y3);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:C1,extendNamespace:e,createSubscribe:qE,ErrorFactory:ts,deepExtend:Hm});function e(t){Hm(n,t)}return n}const w3=C1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new tf("@firebase/app-compat"),E3="@firebase/app-compat",I3="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n){or(E3,I3,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=Ek();if(n.firebase!==void 0){FA.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&FA.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const mc=w3;T3();var S3="firebase",R3="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mc.registerVersion(S3,R3,"app-compat");var UA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,k1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,A){function C(){}C.prototype=A.prototype,L.D=A.prototype,L.prototype=new C,L.prototype.constructor=L,L.C=function(E,x,k){for(var O=Array(arguments.length-2),X=2;X<arguments.length;X++)O[X-2]=arguments[X];return A.prototype[x].apply(E,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,A,C){C||(C=0);var E=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)E[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;16>x;++x)E[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=L.g[0],C=L.g[1],x=L.g[2];var k=L.g[3],O=A+(k^C&(x^k))+E[0]+3614090360&4294967295;A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[1]+3905402710&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[2]+606105819&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[5]+1200080426&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[6]+2821735955&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[9]+2336552879&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[10]+4294925233&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[13]+4254626195&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[14]+2792965006&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(x^k&(C^x))+E[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[6]+3225465664&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[11]+643717713&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[10]+38016083&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[15]+3634488961&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[14]+3275163606&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[3]+4107603335&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[2]+4243563512&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[7]+1735328473&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(C^x^k)+E[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[8]+2272392833&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[11]+1839030562&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[4]+1272893353&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[7]+4139469664&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[0]+3936430074&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[3]+3572445317&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[12]+3873151461&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[15]+530742520&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(x^(C|~k))+E[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[7]+1126891415&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[14]+2878612391&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[3]+2399980690&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[10]+4293915773&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[15]+4264355552&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[6]+2734768916&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[11]+3174756917&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[2]+718787259&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[9]+3951481745&4294967295,L.g[0]=L.g[0]+A&4294967295,L.g[1]=L.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,L.g[2]=L.g[2]+x&4294967295,L.g[3]=L.g[3]+k&4294967295}r.prototype.u=function(L,A){A===void 0&&(A=L.length);for(var C=A-this.blockSize,E=this.B,x=this.h,k=0;k<A;){if(x==0)for(;k<=C;)i(this,L,k),k+=this.blockSize;if(typeof L=="string"){for(;k<A;)if(E[x++]=L.charCodeAt(k++),x==this.blockSize){i(this,E),x=0;break}}else for(;k<A;)if(E[x++]=L[k++],x==this.blockSize){i(this,E),x=0;break}}this.h=x,this.o+=A},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var A=1;A<L.length-8;++A)L[A]=0;var C=8*this.o;for(A=L.length-8;A<L.length;++A)L[A]=C&255,C/=256;for(this.u(L),L=Array(16),A=C=0;4>A;++A)for(var E=0;32>E;E+=8)L[C++]=this.g[A]>>>E&255;return L};function s(L,A){var C=u;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=A(L)}function l(L,A){this.h=A;for(var C=[],E=!0,x=L.length-1;0<=x;x--){var k=L[x]|0;E&&k==A||(C[x]=k,E=!1)}this.g=C}var u={};function d(L){return-128<=L&&128>L?s(L,function(A){return new l([A|0],0>A?-1:0)}):new l([L|0],0>L?-1:0)}function h(L){if(isNaN(L)||!isFinite(L))return g;if(0>L)return b(h(-L));for(var A=[],C=1,E=0;L>=C;E++)A[E]=L/C|0,C*=4294967296;return new l(A,0)}function m(L,A){if(L.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(L.charAt(0)=="-")return b(m(L.substring(1),A));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(A,8)),E=g,x=0;x<L.length;x+=8){var k=Math.min(8,L.length-x),O=parseInt(L.substring(x,x+k),A);8>k?(k=h(Math.pow(A,k)),E=E.j(k).add(h(O))):(E=E.j(C),E=E.add(h(O)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-b(this).m();for(var L=0,A=1,C=0;C<this.g.length;C++){var E=this.i(C);L+=(0<=E?E:4294967296+E)*A,A*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(I(this))return"0";if(R(this))return"-"+b(this).toString(L);for(var A=h(Math.pow(L,6)),C=this,E="";;){var x=B(C,A).g;C=M(C,x.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(L);if(C=x,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function I(L){if(L.h!=0)return!1;for(var A=0;A<L.g.length;A++)if(L.g[A]!=0)return!1;return!0}function R(L){return L.h==-1}n.l=function(L){return L=M(this,L),R(L)?-1:I(L)?0:1};function b(L){for(var A=L.g.length,C=[],E=0;E<A;E++)C[E]=~L.g[E];return new l(C,~L.h).add(_)}n.abs=function(){return R(this)?b(this):this},n.add=function(L){for(var A=Math.max(this.g.length,L.g.length),C=[],E=0,x=0;x<=A;x++){var k=E+(this.i(x)&65535)+(L.i(x)&65535),O=(k>>>16)+(this.i(x)>>>16)+(L.i(x)>>>16);E=O>>>16,k&=65535,O&=65535,C[x]=O<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function M(L,A){return L.add(b(A))}n.j=function(L){if(I(this)||I(L))return g;if(R(this))return R(L)?b(this).j(b(L)):b(b(this).j(L));if(R(L))return b(this.j(b(L)));if(0>this.l(T)&&0>L.l(T))return h(this.m()*L.m());for(var A=this.g.length+L.g.length,C=[],E=0;E<2*A;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var x=0;x<L.g.length;x++){var k=this.i(E)>>>16,O=this.i(E)&65535,X=L.i(x)>>>16,U=L.i(x)&65535;C[2*E+2*x]+=O*U,V(C,2*E+2*x),C[2*E+2*x+1]+=k*U,V(C,2*E+2*x+1),C[2*E+2*x+1]+=O*X,V(C,2*E+2*x+1),C[2*E+2*x+2]+=k*X,V(C,2*E+2*x+2)}for(E=0;E<A;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=A;E<2*A;E++)C[E]=0;return new l(C,0)};function V(L,A){for(;(L[A]&65535)!=L[A];)L[A+1]+=L[A]>>>16,L[A]&=65535,A++}function F(L,A){this.g=L,this.h=A}function B(L,A){if(I(A))throw Error("division by zero");if(I(L))return new F(g,g);if(R(L))return A=B(b(L),A),new F(b(A.g),b(A.h));if(R(A))return A=B(L,b(A)),new F(b(A.g),A.h);if(30<L.g.length){if(R(L)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=A;0>=E.l(L);)C=$(C),E=$(E);var x=W(C,1),k=W(E,1);for(E=W(E,2),C=W(C,2);!I(E);){var O=k.add(E);0>=O.l(L)&&(x=x.add(C),k=O),E=W(E,1),C=W(C,1)}return A=M(L,x.j(A)),new F(x,A)}for(x=g;0<=L.l(A);){for(C=Math.max(1,Math.floor(L.m()/A.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(C),O=k.j(A);R(O)||0<O.l(L);)C-=E,k=h(C),O=k.j(A);I(k)&&(k=_),x=x.add(k),L=M(L,O)}return new F(x,L)}n.A=function(L){return B(this,L).h},n.and=function(L){for(var A=Math.max(this.g.length,L.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)&L.i(E);return new l(C,this.h&L.h)},n.or=function(L){for(var A=Math.max(this.g.length,L.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)|L.i(E);return new l(C,this.h|L.h)},n.xor=function(L){for(var A=Math.max(this.g.length,L.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)^L.i(E);return new l(C,this.h^L.h)};function $(L){for(var A=L.g.length+1,C=[],E=0;E<A;E++)C[E]=L.i(E)<<1|L.i(E-1)>>>31;return new l(C,L.h)}function W(L,A){var C=A>>5;A%=32;for(var E=L.g.length-C,x=[],k=0;k<E;k++)x[k]=0<A?L.i(k+C)>>>A|L.i(k+C+1)<<32-A:L.i(k+C);return new l(x,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Po=l}).apply(typeof UA<"u"?UA:typeof self<"u"?self:typeof window<"u"?window:{});var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x1,Yd,O1,Im,kw,N1,D1,L1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,S){return f==Array.prototype||f==Object.prototype||(f[v]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yp=="object"&&Yp];for(var v=0;v<f.length;++v){var S=f[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var S=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var Q=f[D];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],D=S[f],v=v(D),v!=D&&v!=null&&e(S,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var S=0,D=!1,Q={next:function(){if(!D&&S<f.length){var ne=S++;return{value:v(ne,f[ne]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,S){return f.call.apply(f.bind,arguments)}function g(f,v,S){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(f,v){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function I(f,v){function S(){}S.prototype=v.prototype,f.aa=v.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(D,Q,ne){for(var ye=Array(arguments.length-2),st=2;st<arguments.length;st++)ye[st-2]=arguments[st];return v.prototype[Q].apply(D,ye)}}function R(f){const v=f.length;if(0<v){const S=Array(v);for(let D=0;D<v;D++)S[D]=f[D];return S}return[]}function b(f,v){for(let S=1;S<arguments.length;S++){const D=arguments[S];if(d(D)){const Q=f.length||0,ne=D.length||0;f.length=Q+ne;for(let ye=0;ye<ne;ye++)f[Q+ye]=D[ye]}else f.push(D)}}class M{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function W(f,v,S){for(const D in f)v.call(S,f[D],D,f)}function L(f,v){for(const S in f)v.call(void 0,f[S],S,f)}function A(f){const v={};for(const S in f)v[S]=f[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,v){let S,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(S in D)f[S]=D[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function x(f){var v=1;f=f.split(":");const S=[];for(;0<v&&f.length;)S.push(f.shift()),v--;return f.length&&S.push(f.join(":")),S}function k(f){u.setTimeout(()=>{throw f},0)}function O(){var f=pe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,S){const D=U.get();D.set(v,S),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new M(()=>new me,f=>f.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Z=!1,pe=new X,de=()=>{const f=u.Promise.resolve(void 0);oe=()=>{f.then(q)}};var q=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){k(S)}var v=U;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return f}();function Ve(f,v){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if($){e:{try{B(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=f.fromElement:S=="mouseout"&&(v=f.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:je[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}I(Ve,Te);var je={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),qe=0;function rt(f,v,S,D,Q){this.listener=f,this.proxy=null,this.src=v,this.type=S,this.capture=!!D,this.ha=Q,this.key=++qe,this.da=this.fa=!1}function vt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function un(f){this.src=f,this.g={},this.h=0}un.prototype.add=function(f,v,S,D,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=mt(f,v,D,Q);return-1<ye?(v=f[ye],S||(v.fa=!1)):(v=new rt(v,this.src,ne,!!D,Q),v.fa=S,f.push(v)),v};function it(f,v){var S=v.type;if(S in f.g){var D=f.g[S],Q=Array.prototype.indexOf.call(D,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(D,Q,1),ne&&(vt(v),f.g[S].length==0&&(delete f.g[S],f.h--))}}function mt(f,v,S,D){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==D)return Q}return-1}var en="closure_lm_"+(1e6*Math.random()|0),Kr={};function Pr(f,v,S,D,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Pr(f,v[ne],S,D,Q);return null}return S=Cc(S),f&&f[Qe]?f.K(v,S,h(D)?!!D.capture:!1,Q):Cr(f,v,S,!1,D,Q)}function Cr(f,v,S,D,Q,ne){if(!v)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,st=pl(f);if(st||(f[en]=st=new un(f)),S=st.add(v,S,D,ye,ne),S.proxy)return S;if(D=qn(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)ke||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),D,Q);else if(f.attachEvent)f.attachEvent(ns(v.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function qn(){function f(S){return v.call(f.src,f.listener,S)}const v=Pc;return f}function Hn(f,v,S,D,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Hn(f,v[ne],S,D,Q);else D=h(D)?!!D.capture:!!D,S=Cc(S),f&&f[Qe]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],S=mt(ne,S,D,Q),-1<S&&(vt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=pl(f))&&(v=f.g[v.toString()],f=-1,v&&(f=mt(v,S,D,Q)),(S=-1<f?v[f]:null)&&lr(S))}function lr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Qe])it(v.i,f);else{var S=f.type,D=f.proxy;v.removeEventListener?v.removeEventListener(S,D,f.capture):v.detachEvent?v.detachEvent(ns(S),D):v.addListener&&v.removeListener&&v.removeListener(D),(S=pl(v))?(it(S,f),S.h==0&&(S.src=null,v[en]=null)):vt(f)}}}function ns(f){return f in Kr?Kr[f]:Kr[f]="on"+f}function Pc(f,v){if(f.da)f=!0;else{v=new Ve(v,this);var S=f.listener,D=f.ha||f.src;f.fa&&lr(f),f=S.call(D,v)}return f}function pl(f){return f=f[en],f instanceof un?f:null}var ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cc(f){return typeof f=="function"?f:(f[ml]||(f[ml]=function(v){return f.handleEvent(v)}),f[ml])}function tn(){ie.call(this),this.i=new un(this),this.M=this,this.F=null}I(tn,ie),tn.prototype[Qe]=!0,tn.prototype.removeEventListener=function(f,v,S,D){Hn(this,f,v,S,D)};function nn(f,v){var S,D=f.F;if(D)for(S=[];D;D=D.F)S.push(D);if(f=f.M,D=v.type||v,typeof v=="string")v=new Te(v,f);else if(v instanceof Te)v.target=v.target||f;else{var Q=v;v=new Te(D,f),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=rs(ye,D,!0,v)&&Q}if(ye=v.g=f,Q=rs(ye,D,!0,v)&&Q,Q=rs(ye,D,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=rs(ye,D,!1,v)&&Q}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var S=f.g[v],D=0;D<S.length;D++)vt(S[D]);delete f.g[v],f.h--}}this.F=null},tn.prototype.K=function(f,v,S,D){return this.i.add(String(f),v,!1,S,D)},tn.prototype.L=function(f,v,S,D){return this.i.add(String(f),v,!0,S,D)};function rs(f,v,S,D){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var st=ye.listener,rn=ye.ha||ye.src;ye.fa&&it(f.i,ye),Q=st.call(rn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function kc(f,v,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function qs(f){f.g=kc(()=>{f.g=null,f.i&&(f.i=!1,qs(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class na extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(f){ie.call(this),this.h=f,this.g={}}I(ra,ie);var xc=[];function Oc(f){W(f.g,function(v,S){this.g.hasOwnProperty(S)&&lr(v)},f),f.g={}}ra.prototype.N=function(){ra.aa.N.call(this),Oc(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nc=u.JSON.stringify,Dc=u.JSON.parse,Lc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ia(){}ia.prototype.h=null;function gl(f){return f.h||(f.h=f.i())}function yl(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){Te.call(this,"d")}I(yi,Te);function _l(){Te.call(this,"c")}I(_l,Te);var _i={},Vc=null;function sa(){return Vc=Vc||new tn}_i.La="serverreachability";function Mc(f){Te.call(this,_i.La,f)}I(Mc,Te);function is(f){const v=sa();nn(v,new Mc(v))}_i.STAT_EVENT="statevent";function Fc(f,v){Te.call(this,_i.STAT_EVENT,f),this.stat=v}I(Fc,Te);function jt(f){const v=sa();nn(v,new Fc(v,f))}_i.Ma="timingevent";function vl(f,v){Te.call(this,_i.Ma,f),this.size=v}I(vl,Te);function Gr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function aa(f,v,S,D,Q,ne){f.info(function(){if(f.g)if(ne)for(var ye="",st=ne.split("&"),rn=0;rn<st.length;rn++){var Ye=st[rn].split("=");if(1<Ye.length){var cn=Ye[0];Ye=Ye[1];var Ht=cn.split("_");ye=2<=Ht.length&&Ht[1]=="type"?ye+(cn+"="+Ye+"&"):ye+(cn+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function wl(f,v,S,D,Q,ne,ye){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Qr(f,v,S,D){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Fy(f,S)+(D?" "+D:"")})}function Uc(f,v){f.info(function(){return"TIMEOUT: "+v})}oa.prototype.info=function(){};function Fy(f,v){if(!f.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var D=S[f];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Nc(S)}catch{return v}}var El={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function la(){}I(la,ia),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},Yr=new la;function Jr(f,v,S,D){this.j=f,this.i=v,this.l=S,this.R=D||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cf}function Cf(){this.i=null,this.g="",this.h=!1}var jc={},Il={};function Tl(f,v,S){f.L=1,f.v=Ys(cr(v)),f.m=S,f.P=!0,$c(f,null)}function $c(f,v){f.F=Date.now(),ht(f),f.A=cr(f.v);var S=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),Xs(S.i,"t",D),f.C=0,S=f.j.J,f.h=new Cf,f.g=Kf(f.j,S?v:null,!f.m),0<f.O&&(f.M=new na(_(f.Y,f,f.g),f.O)),v=f.U,S=f.g,D=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(xc[0]=Q.toString()),Q=xc);for(var ne=0;ne<Q.length;ne++){var ye=Pr(S,Q[ne],D||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),is(),aa(f.i,f.u,f.A,f.l,f.R,f.m)}Jr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Gn(f)==3?v.j():this.Y(f)},Jr.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=Gn(this.g);var v=this.g.Ba();const Nr=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||Ht!=4||v==7||(v==8||0>=Nr?is(3):is(2)),ua(this);var S=this.g.Z();this.X=S;t:if(kf(this)){var D=Kc(this.g);f="";var Q=D.length,ne=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),Hs(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(D[v],{stream:!(ne&&v==Q-1)});D.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,wl(this.i,this.u,this.A,this.l,this.R,Ht,S),this.o){if(this.T&&!this.K){t:{if(this.g){var st,rn=this.g;if((st=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(st)){var Ye=st;break t}}Ye=null}if(S=Ye)Qr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bc(this,S);else{this.o=!1,this.s=3,jt(12),xr(this),Hs(this);break e}}if(this.P){S=!0;let hr;for(;!this.J&&this.C<ye.length;)if(hr=Uy(this,ye),hr==Il){Ht==4&&(this.s=4,jt(14),S=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==jc){this.s=4,jt(15),Qr(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Qr(this.i,this.l,hr,null),Bc(this,hr);if(kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ye.length!=0||this.h.h||(this.s=1,jt(16),S=!1),this.o=this.o&&S,!S)Qr(this.i,this.l,ye,"[Invalid Chunked Response]"),xr(this),Hs(this);else if(0<ye.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Qc(cn),cn.M=!0,jt(11))}}else Qr(this.i,this.l,ye,null),Bc(this,ye);Ht==4&&xr(this),this.o&&!this.J&&(Ht==4?Dl(this.j,this):(this.o=!1,ht(this)))}else Cl(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),xr(this),Hs(this)}}}catch{}finally{}};function kf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Uy(f,v){var S=f.C,D=v.indexOf(`
`,S);return D==-1?Il:(S=Number(v.substring(S,D)),isNaN(S)?jc:(D+=1,D+S>v.length?Il:(v=v.slice(D,D+S),f.C=D+S,v)))}Jr.prototype.cancel=function(){this.J=!0,xr(this)};function ht(f){f.S=Date.now()+f.I,xf(f,f.I)}function xf(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Gr(_(f.ba,f),v)}function ua(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Jr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Uc(this.i,this.A),this.L!=2&&(is(),jt(17)),xr(this),this.s=2,Hs(this)):xf(this,this.S-f)};function Hs(f){f.j.G==0||f.J||Dl(f.j,f)}function xr(f){ua(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Oc(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Bc(f,v){try{var S=f.j;if(S.G!=0&&(S.g==f||Mn(S.h,f))){if(!f.K&&Mn(S.h,f)&&S.G==3){try{var D=S.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Nl(S),ni(S);else break e;Ol(S),jt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=Gr(_(S.Za,S),6e3));if(1>=Nf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else us(S,11)}else if((f.K||S.g==f)&&Nl(S),!V(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Ye=Q[v];if(S.T=Ye[0],Ye=Ye[1],S.G==2)if(Ye[0]=="c"){S.K=Ye[1],S.ia=Ye[2];const cn=Ye[3];cn!=null&&(S.la=cn,S.j.info("VER="+S.la));const Ht=Ye[4];Ht!=null&&(S.Aa=Ht,S.j.info("SVER="+S.Aa));const Nr=Ye[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(D=1.5*Nr,S.L=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const hr=f.g;if(hr){const ga=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var ne=D.h;ne.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(zc(ne,ne.h),ne.h=null))}if(D.D){const Vl=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(D.ya=Vl,ut(D.I,D.D,Vl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),D=S;var ye=f;if(D.qa=Hf(D,D.J?D.ia:null,D.W),ye.K){Df(D.h,ye);var st=ye,rn=D.L;rn&&(st.I=rn),st.B&&(ua(st),ht(st)),D.g=ye}else ma(D);0<S.i.length&&Ii(S)}else Ye[0]!="stop"&&Ye[0]!="close"||us(S,7);else S.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?us(S,7):vn(S):Ye[0]!="noop"&&S.l&&S.l.ta(Ye),S.v=0)}}is(4)}catch{}}var Of=class{constructor(f,v){this.g=f,this.map=v}};function ca(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Nf(f){return f.h?1:f.g?f.g.size:0}function Mn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function zc(f,v){f.g?f.g.add(v):f.h=v}function Df(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ca.prototype.cancel=function(){if(this.i=Lf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Lf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const S of f.g.values())v=v.concat(S.D);return v}return R(f.i)}function Sl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],S=f.length,D=0;D<S;D++)v.push(f[D]);return v}v=[],S=0;for(D in f)v[S++]=f[D];return v}function Rl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var S=0;S<f;S++)v.push(S);return v}v=[],S=0;for(const D in f)v[S++]=D;return v}}}function Ks(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var S=Rl(f),D=Sl(f),Q=D.length,ne=0;ne<Q;ne++)v.call(void 0,D[ne],S&&S[ne],f)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jy(f,v){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var D=f[S].indexOf("="),Q=null;if(0<=D){var ne=f[S].substring(0,D);Q=f[S].substring(D+1)}else ne=f[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ss(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ss){this.h=f.h,ha(this,f.j),this.o=f.o,this.g=f.g,Gs(this,f.s),this.l=f.l;var v=f.i,S=new vi;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Qs(this,S),this.m=f.m}else f&&(v=String(f).match(da))?(this.h=!1,ha(this,v[1]||"",!0),this.o=He(v[2]||""),this.g=He(v[3]||"",!0),Gs(this,v[4]),this.l=He(v[5]||"",!0),Qs(this,v[6]||"",!0),this.m=He(v[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}ss.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Js(v,Al,!0),":");var S=this.g;return(S||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Js(v,Al,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Js(S,S.charAt(0)=="/"?Ff:Mf,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Js(S,Wc)),f.join("")};function cr(f){return new ss(f)}function ha(f,v,S){f.j=S?He(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Gs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Qs(f,v,S){v instanceof vi?(f.i=v,wi(f.i,f.h)):(S||(v=Js(v,Uf)),f.i=new vi(v,f.h))}function ut(f,v,S){f.i.set(v,S)}function Ys(f){return ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function He(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Js(f,v,S){return typeof f=="string"?(f=encodeURI(f).replace(v,Vf),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Vf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Al=/[#\/\?@]/g,Mf=/[#\?:]/g,Ff=/[#\?]/g,Uf=/[#\?@]/g,Wc=/#/g;function vi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&jy(f.i,function(v,S){f.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=vi.prototype,n.add=function(f,v){_n(this),this.i=null,f=Or(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(v),this.h+=1,this};function Xr(f,v){_n(f),v=Or(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Zr(f,v){return _n(f),v=Or(f,v),f.g.has(v)}n.forEach=function(f,v){_n(this),this.g.forEach(function(S,D){S.forEach(function(Q){f.call(v,Q,D,this)},this)},this)},n.na=function(){_n(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let D=0;D<v.length;D++){const Q=f[D];for(let ne=0;ne<Q.length;ne++)S.push(v[D])}return S},n.V=function(f){_n(this);let v=[];if(typeof f=="string")Zr(this,f)&&(v=v.concat(this.g.get(Or(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)v=v.concat(f[S])}return v},n.set=function(f,v){return _n(this),this.i=null,f=Or(this,f),Zr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Xs(f,v,S){Xr(f,v),0<S.length&&(f.i=null,f.g.set(Or(f,v),R(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var D=v[S];const ne=encodeURIComponent(String(D)),ye=this.V(D);for(D=0;D<ye.length;D++){var Q=ne;ye[D]!==""&&(Q+="="+encodeURIComponent(String(ye[D]))),f.push(Q)}}return this.i=f.join("&")};function Or(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function wi(f,v){v&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(S,D){var Q=D.toLowerCase();D!=Q&&(Xr(this,D),Xs(this,Q,S))},f)),f.j=v}function $y(f,v){const S=new oa;if(u.Image){const D=new Image;D.onload=T(Kn,S,"TestLoadImage: loaded",!0,v,D),D.onerror=T(Kn,S,"TestLoadImage: error",!1,v,D),D.onabort=T(Kn,S,"TestLoadImage: abort",!1,v,D),D.ontimeout=T(Kn,S,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else v(!1)}function jf(f,v){const S=new oa,D=new AbortController,Q=setTimeout(()=>{D.abort(),Kn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:D.signal}).then(ne=>{clearTimeout(Q),ne.ok?Kn(S,"TestPingServer: ok",!0,v):Kn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Kn(S,"TestPingServer: error",!1,v)})}function Kn(f,v,S,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(S)}catch{}}function By(){this.g=new Lc}function $f(f,v,S){const D=S||"";try{Ks(f,function(Q,ne){let ye=Q;h(Q)&&(ye=Nc(Q)),v.push(D+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(D+"type="+encodeURIComponent("_badmap")),Q}}function os(f){this.l=f.Ub||null,this.j=f.eb||!1}I(os,ia),os.prototype.g=function(){return new fa(this.l,this.j)},os.prototype.i=function(f){return function(){return f}}({});function fa(f,v){tn.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(fa,tn),n=fa.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,ti(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bf(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bf(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ei(this):ti(this),this.readyState==3&&Bf(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ei(this))},n.Qa=function(f){this.g&&(this.response=f,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ti(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=v.next();return f.join(`\r
`)};function ti(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function as(f){let v="";return W(f,function(S,D){v+=D,v+=":",v+=S,v+=`\r
`}),v}function Zs(f,v,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=as(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):ut(f,v,S))}function wt(f){tn.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(wt,tn);var zy=/^https?$/i,qc=["POST","PUT"];n=wt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?gl(this.o):gl(Yr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){pa(this,ne);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)S.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())S.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(qc,v,void 0))||D||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){pa(this,ne)}};function pa(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,bl(f),dr(f)}function bl(f){f.A||(f.A=!0,nn(f,"complete"),nn(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,nn(this,"complete"),nn(this,"abort"),dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hc(this):this.bb())},n.bb=function(){Hc(this)};function Hc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Gn(f)!=4||f.Z()!=2)){if(f.u&&Gn(f)==4)kc(f.Ea,0,f);else if(nn(f,"readystatechange"),Gn(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var D;if(D=ye===0){var Q=String(f.D).match(da)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),D=!zy.test(Q?Q.toLowerCase():"")}S=D}if(S)nn(f,"complete"),nn(f,"success");else{f.m=6;try{var ne=2<Gn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",bl(f)}}finally{dr(f)}}}}function dr(f,v){if(f.g){Pl(f);const S=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||nn(f,"ready");try{S.onreadystatechange=D}catch{}}}function Pl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Gn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Dc(v)}};function Kc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cl(f){const v={};f=(f.g&&2<=Gn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(V(f[D]))continue;var S=x(f[D]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}L(v,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(f,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||v}function Gc(f){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,f),this.cb=Ei("retryDelaySeedMs",1e4,f),this.Wa=Ei("forwardChannelMaxRetries",2,f),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(f&&f.concurrentRequestLimit),this.Da=new By,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gc.prototype,n.la=8,n.G=1,n.connect=function(f,v,S,D){jt(0),this.W=f,this.H=v||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.I=Hf(this,null,this.W),Ii(this)};function vn(f){if(kl(f),f.G==3){var v=f.U++,S=cr(f.I);if(ut(S,"SID",f.K),ut(S,"RID",v),ut(S,"TYPE","terminate"),ls(f,S),v=new Jr(f,f.j,v),v.L=2,v.v=Ys(cr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=Kf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ht(v)}qf(f)}function ni(f){f.g&&(Qc(f),f.g.cancel(),f.g=null)}function kl(f){ni(f),f.u&&(u.clearTimeout(f.u),f.u=null),Nl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Ii(f){if(!ur(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||de(),Z||(oe(),Z=!0),pe.add(v,f),f.B=0}}function Wy(f,v){return Nf(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Gr(_(f.Ga,f,v),Wf(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Jr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=A(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=eo(this,Q,v),S=cr(this.I),ut(S,"RID",f),ut(S,"CVER",22),this.D&&ut(S,"X-HTTP-Session-Id",this.D),ls(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(as(ne)))+"&"+v:this.m&&Zs(S,this.m,ne)),zc(this.h,Q),this.Ua&&ut(S,"TYPE","init"),this.P?(ut(S,"$req",v),ut(S,"SID","null"),Q.T=!0,Tl(Q,S,null)):Tl(Q,S,v),this.G=2}}else this.G==3&&(f?xl(this,f):this.i.length==0||ur(this.h)||xl(this))};function xl(f,v){var S;v?S=v.l:S=f.U++;const D=cr(f.I);ut(D,"SID",f.K),ut(D,"RID",S),ut(D,"AID",f.T),ls(f,D),f.m&&f.o&&Zs(D,f.m,f.o),S=new Jr(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),v&&(f.i=v.D.concat(f.i)),v=eo(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),zc(f.h,S),Tl(S,D,v)}function ls(f,v){f.H&&W(f.H,function(S,D){ut(v,D,S)}),f.l&&Ks({},function(S,D){ut(v,D,S)})}function eo(f,v,S){S=Math.min(f.i.length,S);var D=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let st=!0;for(let rn=0;rn<S;rn++){let Ye=Q[rn].g;const cn=Q[rn].map;if(Ye-=ne,0>Ye)ne=Math.max(0,Q[rn].g-100),st=!1;else try{$f(cn,ye,"req"+Ye+"_")}catch{D&&D(cn)}}if(st){D=ye.join("&");break e}}}return f=f.i.splice(0,S),v.D=f,D}function ma(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||de(),Z||(oe(),Z=!0),pe.add(v,f),f.v=0}}function Ol(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Gr(_(f.Fa,f),Wf(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,zf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Gr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),ni(this),zf(this))};function Qc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function zf(f){f.g=new Jr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=cr(f.qa);ut(v,"RID","rpc"),ut(v,"SID",f.K),ut(v,"AID",f.T),ut(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ut(v,"TO",f.ja),ut(v,"TYPE","xmlhttp"),ls(f,v),f.m&&f.o&&Zs(v,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Ys(cr(v)),S.m=null,S.P=!0,$c(S,f)}n.Za=function(){this.C!=null&&(this.C=null,ni(this),Ol(this),jt(19))};function Nl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Dl(f,v){var S=null;if(f.g==v){Nl(f),Qc(f),f.g=null;var D=2}else if(Mn(f.h,v))S=v.D,Df(f.h,v),D=1;else return;if(f.G!=0){if(v.o)if(D==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;D=sa(),nn(D,new vl(D,S)),Ii(f)}else ma(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(D==1&&Wy(f,v)||D==2&&Ol(f)))switch(S&&0<S.length&&(v=f.h,v.i=v.i.concat(S)),Q){case 1:us(f,5);break;case 4:us(f,10);break;case 3:us(f,6);break;default:us(f,2)}}}function Wf(f,v){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*v}function us(f,v){if(f.j.info("Error code "+v),v==2){var S=_(f.fb,f),D=f.Xa;const Q=!D;D=new ss(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ha(D,"https"),Ys(D),Q?$y(D.toString(),S):jf(D.toString(),S)}else jt(2);f.G=0,f.l&&f.l.sa(v),qf(f),kl(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function qf(f){if(f.G=0,f.ka=[],f.l){const v=Lf(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Hf(f,v,S){var D=S instanceof ss?cr(S):new ss(S);if(D.g!="")v&&(D.g=v+"."+D.g),Gs(D,D.s);else{var Q=u.location;D=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new ss(null);D&&ha(ne,D),v&&(ne.g=v),Q&&Gs(ne,Q),S&&(ne.l=S),D=ne}return S=f.D,v=f.ya,S&&v&&ut(D,S,v),ut(D,"VER",f.la),ls(f,D),D}function Kf(f,v,S){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new wt(new os({eb:S})):new wt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}n=Yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ll(){}Ll.prototype.g=function(f,v){return new Fn(f,v)};function Fn(f,v){tn.call(this),this.g=new Gc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!V(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ti(this)}I(Fn,tn),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){vn(this.g)},Fn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Nc(f),f=S);v.i.push(new Of(v.Ya++,f)),v.G==3&&Ii(v)},Fn.prototype.N=function(){this.g.l=null,delete this.j,vn(this.g),delete this.g,Fn.aa.N.call(this)};function Gf(f){yi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const S in v){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}I(Gf,yi);function Qf(){_l.call(this),this.status=1}I(Qf,_l);function Ti(f){this.g=f}I(Ti,Yc),Ti.prototype.ua=function(){nn(this.g,"a")},Ti.prototype.ta=function(f){nn(this.g,new Gf(f))},Ti.prototype.sa=function(f){nn(this.g,new Qf)},Ti.prototype.ra=function(){nn(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,L1=function(){return new Ll},D1=function(){return sa()},N1=_i,kw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Im=El,Pf.COMPLETE="complete",O1=Pf,yl.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",tn.prototype.listen=tn.prototype.K,Yd=yl,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,x1=wt}).apply(typeof Yp<"u"?Yp:typeof self<"u"?self:typeof window<"u"?window:{});const jA="@firebase/firestore",$A="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new tf("@firebase/firestore");function vu(){return Mo.logLevel}function A3(n){Mo.setLogLevel(n)}function ue(n,...e){if(Mo.logLevel<=Ue.DEBUG){const t=e.map(r0);Mo.debug(`Firestore (${gc}): ${n}`,...t)}}function Bt(n,...e){if(Mo.logLevel<=Ue.ERROR){const t=e.map(r0);Mo.error(`Firestore (${gc}): ${n}`,...t)}}function Qi(n,...e){if(Mo.logLevel<=Ue.WARN){const t=e.map(r0);Mo.warn(`Firestore (${gc}): ${n}`,...t)}}function r0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+n;throw Bt(e),new Error(e)}function Re(n,e){n||Ee()}function b3(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}}class C3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k3{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new V1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new mn(e)}}class x3{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class O3{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new x3(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N3{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ge(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new BA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new BA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=D3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Uu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function F1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=-62135596800,WA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*WA);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zA)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WA}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new At(0,0))}static max(){return new Pe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="__name__";class ki{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ki.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=ki.isNumericId(e),i=ki.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ki.extractNumericId(e).compare(ki.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Po.fromString(e.substring(4,e.length-2))}}class Be extends ki{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const L3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ki{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return L3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qA}static keyField(){return new St([qA])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Be.fromString(e))}static fromName(e){return new _e(Be.fromString(e).popFirst(5))}static empty(){return new _e(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;class Zm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function xw(n){return n.fields.find(e=>e.kind===2)}function Oa(n){return n.fields.filter(e=>e.kind!==2)}Zm.UNKNOWN_ID=-1;class Tm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ah{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ah(0,Ar.min())}}function U1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Ar(i,_e.empty(),e)}function j1(n){return new Ar(n.readTime,n.key,ju)}class Ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ar(Pe.min(),_e.empty(),ju)}static max(){return new Ar(Pe.max(),_e.empty(),ju)}}function i0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==$1)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="SimpleDb";class ey{static open(e,t,r,i){try{return new ey(t,e.transaction(i,r))}catch(s){throw new ih(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Rn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new ih(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=s0(r.target.error);this.m.reject(new ih(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(vr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new M3(t)}}class qi{static delete(e){return ue(vr,"Removing database:",e),Da(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ih())return!1;if(qi.v())return!0;const e=We(),t=qi.C(e),r=0<t&&t<10,i=z1(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,qi.C(We())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(vr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new ih(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new ih(e,l))},i.onupgradeneeded=s=>{ue(vr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.O.B(l,i.transaction,s.oldVersion,this.version).next(()=>{ue(vr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=ey.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(h=>(u.S(),h)).catch(h=>(u.abort(h),G.reject(h))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&l<3;if(ue(vr,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function z1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class V3{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Da(this.q.delete())}}class ih extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jo(n){return n.name==="IndexedDbTransactionError"}class M3{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(vr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(vr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Da(r)}add(e){return ue(vr,"ADD",this.store.name,e,e),Da(this.store.add(e))}get(e){return Da(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(vr,"GET",this.store.name,e,t),t))}delete(e){return ue(vr,"DELETE",this.store.name,e),Da(this.store.delete(e))}count(){return ue(vr,"COUNT",this.store.name),Da(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new G((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.j(s,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(vr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=s=>{const l=s0(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new V3(u),h=t(u.primaryKey,u.value,d);if(h instanceof G){const m=h.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Da(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=s0(r.target.error);t(i)}})}let HA=!1;function s0(n){const e=qi.C(We());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HA||(HA=!0,setTimeout(()=>{throw r},0)),r}}return n}const sh="IndexBackfiller";class F3{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(sh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(sh,`Documents written: ${t}`)}catch(t){Jo(t)?ue(sh,"Ignoring IndexedDB error during index backfill: ",t):await Yo(t)}await this.te(6e4)})}}class U3{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,s=!0;return G.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(sh,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,s)).next(u=>(ue(sh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=j1(s);i0(l,r)>0&&(r=l)}),new Ar(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function af(n){return n==null}function bh(n){return n===0&&1/n==-1/0}function W1(n){return typeof n=="number"&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="";function Ln(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KA(e)),e=j3(n.get(t),e);return KA(e)}function j3(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case eg:t+="";break;default:t+=s}}return t}function KA(n){return n+eg+""}function Ui(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===eg&&n.charAt(1)===""),Be.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(eg,s);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ee()}s=l+2}return new Be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="remoteDocuments",lf="owner",lu="owner",Ph="mutationQueues",$3="userId",ci="mutations",GA="batchId",ja="userMutationsIndex",QA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n,e){return[n,Ln(e)]}function q1(n,e,t){return[n,Ln(e),t]}const B3={},$u="documentMutations",tg="remoteDocumentsV14",z3=["prefixPath","collectionGroup","readTime","documentId"],Rm="documentKeyIndex",W3=["prefixPath","collectionGroup","documentId"],H1="collectionGroupIndex",q3=["collectionGroup","readTime","prefixPath","documentId"],Ch="remoteDocumentGlobal",Ow="remoteDocumentGlobalKey",Bu="targets",K1="queryTargetsIndex",H3=["canonicalId","targetId"],zu="targetDocuments",K3=["targetId","path"],o0="documentTargetsIndex",G3=["path","targetId"],ng="targetGlobalKey",qa="targetGlobal",kh="collectionParents",Q3=["collectionId","parent"],Wu="clientMetadata",Y3="clientId",ty="bundles",J3="bundleId",ny="namedQueries",X3="name",a0="indexConfiguration",Z3="indexId",Nw="collectionGroupIndex",e9="collectionGroup",rg="indexState",t9=["indexId","uid"],G1="sequenceNumberIndex",n9=["uid","sequenceNumber"],ig="indexEntries",r9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Q1="documentKeyIndex",i9=["indexId","uid","orderedDocumentKey"],ry="documentOverlays",s9=["userId","collectionPath","documentId"],Dw="collectionPathOverlayIndex",o9=["userId","collectionPath","largestBatchId"],Y1="collectionGroupOverlayIndex",a9=["userId","collectionGroup","largestBatchId"],l0="globals",l9="name",J1=[Ph,ci,$u,Na,Bu,lf,qa,zu,Wu,Ch,kh,ty,ny],u9=[...J1,ry],X1=[Ph,ci,$u,tg,Bu,lf,qa,zu,Wu,Ch,kh,ty,ny,ry],Z1=X1,u0=[...Z1,a0,rg,ig],c9=u0,d9=[...u0,l0];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends B1{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function ln(n,e){const t=ve(n);return qi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ex(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jp(this.root,e,this.comparator,!0)}}class Jp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=s??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new In(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JA(this.data.getIterator())}getIteratorFrom(e){return new JA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class JA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new rr([])}unionWith(e){let t=new at(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tx("Invalid base64 string: "+s):s}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const f9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Re(!!n),typeof n=="string"){let e=0;const t=f9.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="server_timestamp",rx="__type__",ix="__previous_value__",sx="__local_write_time__";function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rx])===null||t===void 0?void 0:t.stringValue)===nx}function sy(n){const e=n.mapValue.fields[ix];return iy(e)?sy(e):e}function xh(n){const e=Ds(n.mapValue.fields[sx].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t,r,i,s,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Vw="(default)";class Fo{constructor(e,t){this.projectId=e,this.database=t||Vw}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===Vw}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__type__",ox="__max__",So={mapValue:{fields:{__type__:{stringValue:ox}}}},d0="__vector__",qu="value",Am={nullValue:"NULL_VALUE"};function Uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:ax(n)?9007199254740991:oy(n)?10:11:Ee()}function Yi(n,e){if(n===e)return!0;const t=Uo(n);if(t!==Uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xh(n).isEqual(xh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Ds(i.timestampValue),u=Ds(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ls(i.bytesValue).isEqual(Ls(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Tt(i.doubleValue),u=Tt(s.doubleValue);return l===u?bh(l)===bh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Uu(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(YA(l)!==YA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Yi(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function Oh(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function jo(n,e){if(n===e)return 0;const t=Uo(n),r=Uo(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Tt(s.integerValue||s.doubleValue),d=Tt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return XA(n.timestampValue,e.timestampValue);case 4:return XA(xh(n),xh(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(s,l){const u=Ls(s),d=Ls(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Le(u[h],d[h]);if(m!==0)return m}return Le(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Le(Tt(s.latitude),Tt(l.latitude));return u!==0?u:Le(Tt(s.longitude),Tt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ZA(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,h,m;const g=s.fields||{},_=l.fields||{},T=(u=g[qu])===null||u===void 0?void 0:u.arrayValue,I=(d=_[qu])===null||d===void 0?void 0:d.arrayValue,R=Le(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:ZA(T,I)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===So.mapValue&&l===So.mapValue)return 0;if(s===So.mapValue)return 1;if(l===So.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=Le(d[g],m[g]);if(_!==0)return _;const T=jo(u[d[g]],h[m[g]]);if(T!==0)return T}return Le(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function XA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Ds(n),r=Ds(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function ZA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=jo(t[i],r[i]);if(s)return s}return Le(t.length,r.length)}function Hu(n){return Mw(n)}function Mw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ds(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Mw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Mw(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function bm(n){switch(Uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sy(n);return e?16+bm(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+bm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Xo(r.fields,(s,l)=>{i+=s.length+bm(l)}),i}(n.mapValue);default:throw Ee()}}function Ya(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fw(n){return!!n&&"integerValue"in n}function Nh(n){return!!n&&"arrayValue"in n}function eb(n){return!!n&&"nullValue"in n}function tb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pm(n){return!!n&&"mapValue"in n}function oy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[c0])===null||t===void 0?void 0:t.stringValue)===d0}function oh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=oh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ax(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ox}const lx={mapValue:{fields:{[c0]:{stringValue:d0},[qu]:{arrayValue:{}}}}};function m9(n){return"nullValue"in n?Am:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ya(Fo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?oy(n)?lx:{mapValue:{}}:Ee()}function g9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ya(Fo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?lx:"mapValue"in n?oy(n)?{mapValue:{}}:So:Ee()}function nb(n,e){const t=jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rb(n,e){const t=jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oh(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=oh(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Pm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Xo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Sn(oh(this.value))}}function ux(n){const e=[];return Xo(n.fields,(t,r)=>{const i=new St([t]);if(Pm(r)){const s=ux(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new _t(e,0,Pe.min(),Pe.min(),Pe.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,i){return new _t(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new _t(e,2,t,Pe.min(),Pe.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new _t(e,3,t,Pe.min(),Pe.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,t){this.position=e,this.inclusive=t}}function ib(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=jo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function y9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{}class ze extends cx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _9(e,t,r):t==="array-contains"?new E9(e,r):t==="in"?new gx(e,r):t==="not-in"?new I9(e,r):t==="array-contains-any"?new T9(e,r):new ze(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new v9(e,r):new w9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(jo(t,this.value)):t!==null&&Uo(this.value)===Uo(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends cx{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return Ku(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ku(n){return n.op==="and"}function Uw(n){return n.op==="or"}function h0(n){return dx(n)&&Ku(n)}function dx(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function jw(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+Hu(n.value);if(h0(n))return n.filters.map(e=>jw(e)).join(",");{const e=n.filters.map(t=>jw(t)).join(",");return`${n.op}(${e})`}}function hx(n,e){return n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Yi(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&hx(l,i.filters[u]),!0):!1}(n,e):void Ee()}function fx(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function px(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${Hu(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(px).join(" ,")+"}"}(n):"Filter"}class _9 extends ze{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class v9 extends ze{constructor(e,t){super(e,"in",t),this.keys=mx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w9 extends ze{constructor(e,t){super(e,"not-in",t),this.keys=mx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class E9 extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nh(t)&&Oh(t.arrayValue,this.value)}}class gx extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Oh(this.value.arrayValue,t)}}class I9 extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Oh(this.value.arrayValue,t)}}class T9 extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Oh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.le=null}}function $w(n,e=null,t=[],r=[],i=null,s=null,l=null){return new S9(n,e,t,r,i,s,l)}function Ja(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hu(r)).join(",")),e.le=t}return e.le}function uf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!y9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sb(n.startAt,e.startAt)&&sb(n.endAt,e.endAt)}function sg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function og(n,e){return n.filters.filter(t=>t instanceof ze&&t.field.isEqual(e))}function ob(n,e,t){let r=Am,i=!0;for(const s of og(n,e)){let l=Am,u=!0;switch(s.op){case"<":case"<=":l=m9(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=Am}nb({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];nb({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function ab(n,e,t){let r=So,i=!0;for(const s of og(n,e)){let l=So,u=!0;switch(s.op){case">=":case">":l=g9(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=So}rb({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];rb({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yx(n,e,t,r,i,s,l,u){return new Us(n,e,t,r,i,s,l,u)}function yc(n){return new Us(n)}function lb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function f0(n){return n.collectionGroup!==null}function Pu(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new at(St.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Dh(s,r))}),t.has(St.keyField().canonicalString())||e.he.push(new Dh(St.keyField(),r))}return e.he}function zn(n){const e=ve(n);return e.Pe||(e.Pe=R9(e,Pu(n))),e.Pe}function R9(n,e){if(n.limitType==="F")return $w(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dh(i.field,s)});const t=n.endAt?new $o(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $o(n.startAt.position,n.startAt.inclusive):null;return $w(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bw(n,e){const t=n.filters.concat([e]);return new Us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ag(n,e,t){return new Us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cf(n,e){return uf(zn(n),zn(e))&&n.limitType===e.limitType}function _x(n){return`${Ja(zn(n))}|lt:${n.limitType}`}function wu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>px(i)).join(", ")}]`),af(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Hu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Hu(i)).join(",")),`Target(${r})`}(zn(n))}; limitType=${n.limitType})`}function df(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Pu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=ib(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,Pu(r),i)||r.endAt&&!function(l,u,d){const h=ib(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,Pu(r),i))}(n,e)}function vx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wx(n){return(e,t)=>{let r=!1;for(const i of Pu(n)){const s=A9(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function A9(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?jo(d,h):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ex(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=new pt(_e.comparator);function ir(){return b9}const Ex=new pt(_e.comparator);function Jd(...n){let e=Ex;for(const t of n)e=e.insert(t.key,t);return e}function Ix(n){let e=Ex;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ji(){return ah()}function Tx(){return ah()}function ah(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}const P9=new pt(_e.comparator),C9=new at(_e.comparator);function Fe(...n){let e=C9;for(const t of n)e=e.add(t);return e}const k9=new at(Le);function p0(){return k9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function Sx(n){return{integerValue:""+n}}function Rx(n,e){return W1(e)?Sx(e):m0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this._=void 0}}function x9(n,e,t){return n instanceof Gu?function(i,s){const l={fields:{[rx]:{stringValue:nx},[sx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iy(s)&&(s=sy(s)),s&&(l.fields[ix]=s),{mapValue:l}}(t,e):n instanceof Xa?bx(n,e):n instanceof Za?Px(n,e):function(i,s){const l=Ax(i,s),u=ub(l)+ub(i.Ie);return Fw(l)&&Fw(i.Ie)?Sx(u):m0(i.serializer,u)}(n,e)}function O9(n,e,t){return n instanceof Xa?bx(n,e):n instanceof Za?Px(n,e):t}function Ax(n,e){return n instanceof Qu?function(r){return Fw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gu extends ay{}class Xa extends ay{constructor(e){super(),this.elements=e}}function bx(n,e){const t=Cx(e);for(const r of n.elements)t.some(i=>Yi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Za extends ay{constructor(e){super(),this.elements=e}}function Px(n,e){let t=Cx(e);for(const r of n.elements)t=t.filter(i=>!Yi(i,r));return{arrayValue:{values:t}}}class Qu extends ay{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ub(n){return Tt(n.integerValue||n.doubleValue)}function Cx(n){return Nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.field=e,this.transform=t}}function N9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Xa&&i instanceof Xa||r instanceof Za&&i instanceof Za?Uu(r.elements,i.elements,Yi):r instanceof Qu&&i instanceof Qu?Yi(r.Ie,i.Ie):r instanceof Gu&&i instanceof Gu}(n.transform,e.transform)}class D9{constructor(e,t){this.version=e,this.transformResults=t}}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ly{}function kx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vc(n.key,Rt.none()):new _c(n.key,n.data,Rt.none());{const t=n.data,r=Sn.empty();let i=new at(St.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new $s(n.key,r,new rr(i.toArray()),Rt.none())}}function L9(n,e,t){n instanceof _c?function(i,s,l){const u=i.value.clone(),d=db(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(i,s,l){if(!Cm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=db(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(xx(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function lh(n,e,t,r){return n instanceof _c?function(s,l,u,d){if(!Cm(s.precondition,l))return u;const h=s.value.clone(),m=hb(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof $s?function(s,l,u,d){if(!Cm(s.precondition,l))return u;const h=hb(s.fieldTransforms,d,l),m=l.data;return m.setAll(xx(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,l,u){return Cm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function V9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Ax(r.transform,i||null);s!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,s))}return t||null}function cb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uu(r,i,(s,l)=>N9(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _c extends ly{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends ly{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function db(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,O9(l,u,t[i]))}return r}function hb(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,x9(s,l,e))}return r}class vc extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g0 extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&L9(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Tx();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=kx(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,(t,r)=>cb(t,r))&&Uu(this.baseMutations,e.baseMutations,(t,r)=>cb(t,r))}}class _0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return P9}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new _0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Je;function Ox(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function Nx(n){if(n===void 0)return Bt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Qt.OK:return te.OK;case Qt.CANCELLED:return te.CANCELLED;case Qt.UNKNOWN:return te.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return te.INTERNAL;case Qt.UNAVAILABLE:return te.UNAVAILABLE;case Qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Qt.NOT_FOUND:return te.NOT_FOUND;case Qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Qt.ABORTED:return te.ABORTED;case Qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Qt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Je=Qt||(Qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new Po([4294967295,4294967295],0);function fb(n){const e=Dx().encode(n),t=new k1;return t.update(e),new Uint8Array(t.digest())}function pb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Po([t,r],0),new Po([i,s],0)]}class w0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xd(`Invalid padding: ${t}`);if(r<0)throw new Xd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Po.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Po.fromNumber(r)));return i.compare(F9)===1&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=fb(e),[r,i]=pb(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new w0(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=fb(e),[r,i]=pb(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ff(Pe.min(),i,new pt(Le),ir(),Fe())}}class pf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pf(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Lx{constructor(e,t){this.targetId=e,this.ge=t}}class Vx{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mb{constructor(){this.pe=0,this.ye=gb(),this.we=Mt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),r=Fe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new pf(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=gb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class U9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=Xp(),this.Ke=Xp(),this.Ue=new pt(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(sg(s))if(r===0){const l=new _e(s.path);this.ze(t,l,_t.newNoDocument(l,Pe.min()))}else Re(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Ls(r).toUint8Array()}catch(d){if(d instanceof tx)return Qi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new w0(l,i,s)}catch(d){return Qi(d instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,l)=>{const u=this.Xe(l);if(u){if(s.current&&sg(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,_t.newNoDocument(d,e))}s.ve&&(t.set(l,s.Fe()),s.Me())}});let r=Fe();this.Ke.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,l)=>l.setReadTime(e));const i=new ff(e,t,this.Ue,this.Qe,r);return this.Qe=ir(),this.$e=Xp(),this.Ke=Xp(),this.Ue=new pt(Le),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new at(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new at(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Xp(){return new pt(_e.comparator)}function gb(){return new pt(_e.comparator)}const j9={asc:"ASCENDING",desc:"DESCENDING"},$9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B9={and:"AND",or:"OR"};class z9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zw(n,e){return n.useProto3Json||af(e)?e:{value:e}}function Yu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function W9(n,e){return Yu(n,e.toTimestamp())}function zt(n){return Re(!!n),Pe.fromTimestamp(function(t){const r=Ds(t);return new At(r.seconds,r.nanos)}(n))}function E0(n,e){return Ww(n,e).canonicalString()}function Ww(n,e){const t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Fx(n){const e=Be.fromString(n);return Re(Gx(e)),e}function Lh(n,e){return E0(n.databaseId,e.path)}function Hi(n,e){const t=Fx(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e($x(t))}function Ux(n,e){return E0(n.databaseId,e)}function jx(n){const e=Fx(n);return e.length===4?Be.emptyPath():$x(e)}function qw(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $x(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yb(n,e,t){return{name:Lh(n,e),fields:t.value.mapValue.fields}}function Bx(n,e,t){const r=Hi(n,e.name),i=zt(e.updateTime),s=e.createTime?zt(e.createTime):Pe.min(),l=new Sn({mapValue:{fields:e.fields}}),u=_t.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function q9(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const s=Hi(r,i.found.name),l=zt(i.found.updateTime),u=i.found.createTime?zt(i.found.createTime):Pe.min(),d=new Sn({mapValue:{fields:i.found.fields}});return _t.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const s=Hi(r,i.missing),l=zt(i.readTime);return _t.newNoDocument(s,l)}(n,e):Ee()}function H9(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Re(m===void 0||typeof m=="string"),Mt.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Mt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?te.UNKNOWN:Nx(h.code);return new ae(m,h.message||"")}(l);t=new Vx(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hi(n,r.document.name),s=zt(r.document.updateTime),l=r.document.createTime?zt(r.document.createTime):Pe.min(),u=new Sn({mapValue:{fields:r.document.fields}}),d=_t.newFoundDocument(i,s,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new km(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hi(n,r.document),s=r.readTime?zt(r.readTime):Pe.min(),l=_t.newNoDocument(i,s),u=r.removedTargetIds||[];t=new km([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hi(n,r.document),s=r.removedTargetIds||[];t=new km([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new M9(i,s),u=r.targetId;t=new Lx(u,l)}}return t}function Vh(n,e){let t;if(e instanceof _c)t={update:yb(n,e.key,e.value)};else if(e instanceof vc)t={delete:Lh(n,e.key)};else if(e instanceof $s)t={update:yb(n,e.key,e.data),updateMask:X9(e.fieldMask)};else{if(!(e instanceof g0))return Ee();t={verify:Lh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof Gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Xa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Za)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qu)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:W9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(n,e.precondition)),t}function Hw(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Rt.updateTime(zt(s.updateTime)):s.exists!==void 0?Rt.exists(s.exists):Rt.none()}(e.currentDocument):Rt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new Gu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Xa(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new Za(m)}else"increment"in u?d=new Qu(l,u.increment):Ee();const h=St.fromServerFormat(u.fieldPath);return new hf(h,d)}(n,i)):[];if(e.update){e.update.name;const i=Hi(n,e.update.name),s=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const h=d.fieldPaths||[];return new rr(h.map(m=>St.fromServerFormat(m)))}(e.updateMask);return new $s(i,s,l,t,r)}return new _c(i,s,t,r)}if(e.delete){const i=Hi(n,e.delete);return new vc(i,t)}if(e.verify){const i=Hi(n,e.verify);return new g0(i,t)}return Ee()}function K9(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?zt(i.updateTime):zt(s);return l.isEqual(Pe.min())&&(l=zt(s)),new D9(l,i.transformResults||[])}(t,e))):[]}function zx(n,e){return{documents:[Ux(n,e.path)]}}function Wx(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ux(n,i);const s=function(h){if(h.length!==0)return Kx(ot.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:Eu(_.field),direction:Q9(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=zw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function qx(n){let e=jx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const _=Hx(g);return _ instanceof ot&&h0(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new Dh(Iu(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,af(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new $o(T,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,T=g.values||[];return new $o(T,_)}(t.endAt)),yx(e,i,l,s,u,"F",d,h)}function G9(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Hx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Iu(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(t.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iu(t.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Iu(t.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return ze.create(Iu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>Hx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function Q9(n){return j9[n]}function Y9(n){return $9[n]}function J9(n){return B9[n]}function Eu(n){return{fieldPath:n.canonicalString()}}function Iu(n){return St.fromServerFormat(n.fieldPath)}function Kx(n){return n instanceof ze?function(t){if(t.op==="=="){if(tb(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NAN"}};if(eb(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tb(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NOT_NAN"}};if(eb(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(t.field),op:Y9(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>Kx(i));return r.length===1?r[0]:{compositeFilter:{op:J9(t.op),filters:r}}}(n):Ee()}function X9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,r,i,s=Pe.min(),l=Pe.min(),u=Mt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.Tt=e}}function Z9(n,e){let t;if(e.document)t=Bx(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=tl(e.noDocument.readTime);t=_t.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=tl(e.unknownDocument.version);t=_t.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new At(i[0],i[1]);return Pe.fromTimestamp(s)}(e.readTime)),t}function _b(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:Lh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Yu(s,l.version.toTimestamp()),createTime:Yu(s,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:el(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:el(e.version)}}return r}function lg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function el(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tl(n){const e=new At(n.seconds,n.nanoseconds);return Pe.fromTimestamp(e)}function La(n,e){const t=(e.baseMutations||[]).map(s=>Hw(n.Tt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Hw(n.Tt,s)),i=At.fromMillis(e.localWriteTimeMs);return new y0(e.batchId,i,t,r)}function Zd(n){const e=tl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?tl(n.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Re(s.documents.length===1),zn(yc(jx(s.documents[0])))}(n.query):function(s){return zn(qx(s))}(n.query),new Ss(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Mt.fromBase64String(n.resumeToken))}function Yx(n,e){const t=el(e.snapshotVersion),r=el(e.lastLimboFreeSnapshotVersion);let i;i=sg(e.target)?zx(n.Tt,e.target):Wx(n.Tt,e.target).ht;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ja(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function I0(n){const e=qx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ag(e,e.limit,"L"):e}function jv(n,e){return new v0(e.largestBatchId,Hw(n.Tt,e.overlayMutation))}function vb(n,e){const t=e.path.lastSegment();return[n,Ln(e.path.popLast()),t]}function wb(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:el(r.readTime),documentKey:Ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{getBundleMetadata(e,t){return Eb(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:tl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return Eb(e).put(function(i){return{bundleId:i.id,createTime:el(zt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return Ib(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:I0(s.bundledQuery),readTime:tl(s.readTime)}}(r)})}saveNamedQuery(e,t){return Ib(e).put(function(i){return{name:i.name,readTime:el(zt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function Eb(n){return ln(n,ty)}function Ib(n){return ln(n,ny)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new uy(e,r)}getOverlay(e,t){return Dd(e).get(vb(this.userId,t)).next(r=>r?jv(this.serializer,r):null)}getOverlays(e,t){const r=ji();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new v0(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ln(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Dd(e).J(Dw,u))}),G.waitFor(s)}getOverlaysForCollection(e,t,r){const i=ji(),s=Ln(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Dd(e).G(Dw,l).next(u=>{for(const d of u){const h=jv(this.serializer,d);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=ji();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dd(e).Z({index:Y1,range:u},(d,h,m)=>{const g=jv(this.serializer,h);s.size()<i||g.largestBatchId===l?(s.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>s)}Et(e,t){return Dd(e).put(function(i,s,l){const[u,d,h]=vb(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Vh(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function Dd(n){return ln(n,ry)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{dt(e){return ln(e,l0)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Mt.fromUint8Array(r):Mt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),bh(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ds(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ls(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?ax(e)?this.ft(t,Number.MAX_SAFE_INTEGER):oy(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Ee()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const s=e.fields||{};this.ft(t,53);const l=qu,u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Tt(u)),this.wt(l,t),this.Rt(s[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Va.xt=new Va;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=255;function n6(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Tb(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=n6(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class r6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=Tb(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=Tb(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(cu),this.jt(255)}Ht(){this.Jt(cu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===cu?(this.jt(cu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===cu?(this.Jt(cu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class i6{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class s6{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Ld{constructor(){this.Zt=new r6,this.Xt=new i6(this.Zt),this.en=new s6(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ma(this.indexId,this.documentKey,this.arrayValue,r)}}function yo(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=Sb(n.arrayValue,e.arrayValue),t!==0?t:(t=Sb(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function Sb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.rn=new at((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Re(e.collectionGroup===this.collectionId),this.an)return!1;const t=xw(e);if(t!==void 0&&!this.cn(t))return!1;const r=Oa(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.cn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new at(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Tm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Tm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Tm(r.field,r.dir==="asc"?0:1)));return new Zm(Zm.UNKNOWN_ID,this.collectionId,t,Ah.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){var e,t;if(Re(n instanceof ze||n instanceof ot),n instanceof ze){if(n instanceof gx){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>ze.create(n.field,"==",s)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>Jx(i));return ot.create(r,n.op)}function o6(n){if(n.getFilters().length===0)return[];const e=Qw(Jx(n));return Re(Xx(e)),Kw(e)||Gw(e)?[e]:e.getFilters()}function Kw(n){return n instanceof ze}function Gw(n){return n instanceof ot&&h0(n)}function Xx(n){return Kw(n)||Gw(n)||function(t){if(t instanceof ot&&Uw(t)){for(const r of t.getFilters())if(!Kw(r)&&!Gw(r))return!1;return!0}return!1}(n)}function Qw(n){if(Re(n instanceof ze||n instanceof ot),n instanceof ze)return n;if(n.filters.length===1)return Qw(n.filters[0]);const e=n.filters.map(r=>Qw(r));let t=ot.create(e,n.op);return t=ug(t),Xx(t)?t:(Re(t instanceof ot),Re(Ku(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>T0(r,i)))}function T0(n,e){let t;return Re(n instanceof ze||n instanceof ot),Re(e instanceof ze||e instanceof ot),t=n instanceof ze?e instanceof ze?function(i,s){return ot.create([i,s],"and")}(n,e):Ab(n,e):e instanceof ze?Ab(e,n):function(i,s){if(Re(i.filters.length>0&&s.filters.length>0),Ku(i)&&Ku(s))return fx(i,s.getFilters());const l=Uw(i)?i:s,u=Uw(i)?s:i,d=l.filters.map(h=>T0(h,u));return ot.create(d,"or")}(n,e),ug(t)}function Ab(n,e){if(Ku(e))return fx(e,n.getFilters());{const t=e.filters.map(r=>T0(n,r));return ot.create(t,"or")}}function ug(n){if(Re(n instanceof ze||n instanceof ot),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return ug(e[0]);if(dx(n))return n;const t=e.map(i=>ug(i)),r=[];return t.forEach(i=>{i instanceof ze?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.Tn=new S0}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Ar.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class S0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(Be.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="IndexedDbIndexManager",Zp=new Uint8Array(0);class l6{constructor(e,t){this.databaseId=t,this.In=new S0,this.En=new js(r=>Ja(r),(r,i)=>uf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const s={collectionId:r,parent:Ln(i)};return Pb(e).put(s)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[F1(t),""],!1,!0);return Pb(e).G(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(Ui(l.parent))}return r})}addFieldIndex(e,t){const r=Vd(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=hu(e);return s.next(u=>{l.put(wb(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Vd(e),i=hu(e),s=du(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Vd(e),r=du(e),i=hu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new Rb(r).Pn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=du(e);let i=!0;const s=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Fe();const u=[];return G.forEach(s,(d,h)=>{ue(bb,`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`}(d)} to execute ${Ja(t)}`);const m=function(F,B){const $=xw(B);if($===void 0)return null;for(const W of og(F,$.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null}(h,d),g=function(F,B){const $=new Map;for(const W of Oa(B))for(const L of og(F,W.fieldPath))switch(L.op){case"==":case"in":$.set(W.fieldPath.canonicalString(),L.value);break;case"not-in":case"!=":return $.set(W.fieldPath.canonicalString(),L.value),Array.from($.values())}return null}(h,d),_=function(F,B){const $=[];let W=!0;for(const L of Oa(B)){const A=L.kind===0?ob(F,L.fieldPath,F.startAt):ab(F,L.fieldPath,F.startAt);$.push(A.value),W&&(W=A.inclusive)}return new $o($,W)}(h,d),T=function(F,B){const $=[];let W=!0;for(const L of Oa(B)){const A=L.kind===0?ab(F,L.fieldPath,F.endAt):ob(F,L.fieldPath,F.endAt);$.push(A.value),W&&(W=A.inclusive)}return new $o($,W)}(h,d),I=this.Rn(d,h,_),R=this.Rn(d,h,T),b=this.Vn(d,h,g),M=this.mn(d.indexId,m,I,_.inclusive,R,T.inclusive,b);return G.forEach(M,V=>r.H(V,t.limit).next(F=>{F.forEach(B=>{const $=_e.fromSegments(B.documentKey);l.has($)||(l=l.add($),u.push($))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=o6(ot.create(e.filters,"and")).map(r=>$w(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/h]):Zp,T=this.gn(e,_,r[g%h],i),I=this.pn(e,_,s[g%h],l),R=u.map(b=>this.gn(e,_,b,!0));m.push(...this.createRange(T,I,R))}return m}gn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s:s.nn()}pn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s.nn():s}An(e,t){const r=new Rb(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,s=>this.An(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let h=new at(St.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Ld;for(const i of Oa(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.tn(i.kind);Va.xt.At(s,l)}return r.Yt()}fn(e){const t=new Ld;return Va.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Ld;return Va.xt.At(Ya(this.databaseId,t),r.tn(function(s){const l=Oa(s);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Ld);let s=0;for(const l of Oa(e)){const u=r[s++];for(const d of i)if(this.Sn(t,l.fieldPath)&&Nh(u))i=this.bn(i,l,u);else{const h=d.tn(l.kind);Va.xt.At(u,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}bn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Ld;d.seed(u.Yt()),Va.xt.At(l,d.tn(t.kind)),s.push(d)}return s}Sn(e,t){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Vd(e),i=hu(e);return(t?r.G(Nw,IDBKeyRange.bound(t,t)):r.G()).next(s=>{const l=[];return G.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new Ah(g.sequenceNumber,new Ar(tl(g.readTime),new _e(Ui(g.documentKey)),g.largestBatchId)):Ah.empty(),T=m.fields.map(([I,R])=>new Tm(St.fromServerFormat(I),R));return new Zm(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Le(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Vd(e),s=hu(e);return this.vn(e).next(l=>i.G(Nw,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>s.put(wb(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(h=>{const m=this.Fn(s,d);return h.isEqual(m)?G.resolve():this.Mn(e,s,d,h,m)}))))})}xn(e,t,r,i){return du(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return du(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=du(e);let s=new at(yo);return i.Z({index:Q1,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{s=s.add(new Ma(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}Fn(e,t){let r=new at(yo);const i=this.yn(t,e);if(i==null)return r;const s=xw(t);if(s!=null){const l=e.data.field(s.fieldPath);if(Nh(l))for(const u of l.arrayValue.values||[])r=r.add(new Ma(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Ma(t.indexId,e.key,Zp,i));return r}Mn(e,t,r,i,s){ue(bb,"Updating index entries for document '%s'",t.key);const l=[];return function(d,h,m,g,_){const T=d.getIterator(),I=h.getIterator();let R=uu(T),b=uu(I);for(;R||b;){let M=!1,V=!1;if(R&&b){const F=m(R,b);F<0?V=!0:F>0&&(M=!0)}else R!=null?V=!0:M=!0;M?(g(b),b=uu(I)):V?(_(R),R=uu(T)):(R=uu(T),b=uu(I))}}(i,s,yo,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return hu(e).Z({index:G1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>yo(l,u)).filter((l,u,d)=>!u||yo(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=yo(l,e),d=yo(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Zp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Zp,[]];s.push(IDBKeyRange.bound(u,d))}return s}Nn(e,t){return yo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Cb)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ee())).next(Cb)}}function Pb(n){return ln(n,kh)}function du(n){return ln(n,ig)}function Vd(n){return ln(n,a0)}function hu(n){return ln(n,rg)}function Cb(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;i0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ar(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zx=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n,e,t){const r=n.store(ci),i=n.store($u),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));s.push(d.next(()=>{Re(u===1)}));const h=[];for(const m of t.mutations){const g=q1(e,m.key.path,t.batchId);s.push(i.delete(g)),h.push(m.key)}return G.waitFor(s).next(()=>h)}function cg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(Zx,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class cy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Re(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new cy(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).Z({index:ja,range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Tu(e),l=_o(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new y0(u,t,r,i),h=function(T,I,R){const b=R.baseMutations.map(V=>Vh(T.Tt,V)),M=R.mutations.map(V=>Vh(T.Tt,V));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:b,mutations:M}}(this.serializer,this.userId,d),m=[];let g=new at((_,T)=>Le(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=q1(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(h)),m.push(s.put(T,B3))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return _o(e).get(t).next(r=>r?(Re(r.userId===this.userId),La(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return _o(e).Z({index:ja,range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),s=La(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Co;return _o(e).Z({index:ja,range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Co],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).G(ja,t).next(r=>r.map(i=>La(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Sm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Tu(e).Z({range:i},(l,u,d)=>{const[h,m,g]=l,_=Ui(m);if(h===this.userId&&t.path.isEqual(_))return _o(e).get(g).next(T=>{if(!T)throw Ee();Re(T.userId===this.userId),s.push(La(this.serializer,T))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Le);const i=[];return t.forEach(s=>{const l=Sm(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Tu(e).Z({range:u},(h,m,g)=>{const[_,T,I]=h,R=Ui(T);_===this.userId&&s.path.isEqual(R)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Sm(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new at(Le);return Tu(e).Z({range:l},(d,h,m)=>{const[g,_,T]=d,I=Ui(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(_o(e).get(s).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(La(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return eO(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Tu(e).Z({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=Ui(s[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return tO(e,this.userId,t)}Qn(e){return nO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Co,lastStreamToken:""})}}function tO(n,e,t){const r=Sm(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Tu(n).Z({range:s,Y:!0},(u,d,h)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),h.done()}).next(()=>l)}function _o(n){return ln(n,ci)}function Tu(n){return ln(n,$u)}function nO(n){return ln(n,Ph)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new nl(0)}static Un(){return new nl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new nl(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Pe.fromTimestamp(new At(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return fu(e).Z((l,u)=>{const d=Zd(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(s)).next(()=>i)}forEachTarget(e,t){return fu(e).Z((r,i)=>{const s=Zd(i);t(s)})}Wn(e){return xb(e).get(ng).next(t=>(Re(t!==null),t))}Gn(e,t){return xb(e).put(ng,t)}zn(e,t){return fu(e).put(Yx(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ja(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return fu(e).Z({range:i,index:K1},(l,u,d)=>{const h=Zd(u);uf(t,h.target)&&(s=h,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=To(e);return t.forEach(l=>{const u=Ln(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=To(e);return G.forEach(t,s=>{const l=Ln(s.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=To(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=To(e);let s=Fe();return i.Z({range:r,Y:!0},(l,u,d)=>{const h=Ui(l[1]),m=new _e(h);s=s.add(m)}).next(()=>s)}containsKey(e,t){const r=Ln(t.path),i=IDBKeyRange.bound([r],[F1(r)],!1,!0);let s=0;return To(e).Z({index:o0,Y:!0,range:i},([l,u],d,h)=>{l!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,t){return fu(e).get(t).next(r=>r?Zd(r):null)}}function fu(n){return ln(n,Bu)}function xb(n){return ln(n,qa)}function To(n){return ln(n,zu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="LruGarbageCollector",c6=1048576;function Nb([n,e],[t,r]){const i=Le(n,t);return i===0?Le(e,r):i}class d6{constructor(e){this.Hn=e,this.buffer=new at(Nb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Nb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(Ob,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ue(Ob,"Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.er(3e5)})}}class h6{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(nr.ae);const r=new d6(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(kb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),vu()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function iO(n,e){return new h6(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,t){this.db=e,this.garbageCollector=iO(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return em(e,r)}removeReference(e,t,r){return em(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return em(e,t)}ar(e,t){return function(i,s){let l=!1;return nO(i).X(u=>tO(i,u,s).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(h=>{if(!h)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Pe.min()),To(e).delete(function(g){return[0,Ln(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return em(e,t)}_r(e,t){const r=To(e);let i,s=nr.ae;return r.Z({index:o0},([l,u],{path:d,sequenceNumber:h})=>{l===0?(s!==nr.ae&&t(new _e(Ui(i)),s),s=h,i=d):s=nr.ae}).next(()=>{s!==nr.ae&&t(new _e(Ui(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function em(n,e){return To(n).put(function(r,i){return{targetId:0,path:Ln(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ca(e).put(r)}removeEntry(e,t,r){return Ca(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],lg(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=_t.newInvalidDocument(t);return Ca(e).Z({index:Rm,range:IDBKeyRange.only(Md(t))},(i,s)=>{r=this.cr(t,s)}).next(()=>r)}lr(e,t){let r={size:0,document:_t.newInvalidDocument(t)};return Ca(e).Z({index:Rm,range:IDBKeyRange.only(Md(t))},(i,s)=>{r={document:this.cr(t,s),size:cg(s)}}).next(()=>r)}getEntries(e,t){let r=ir();return this.hr(e,t,(i,s)=>{const l=this.cr(i,s);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=ir(),i=new pt(_e.comparator);return this.hr(e,t,(s,l)=>{const u=this.cr(s,l);r=r.insert(s,u),i=i.insert(s,cg(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new at(Vb);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(Md(i.first()),Md(i.last())),l=i.getIterator();let u=l.getNext();return Ca(e).Z({index:Rm,range:s},(d,h,m)=>{const g=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&Vb(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,h),u=l.hasNext()?l.getNext():null),u?m.W(Md(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),lg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(e).G(IDBKeyRange.bound(u,d,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let m=ir();for(const g of h){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(df(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=ir();const l=Lb(t,r),u=Lb(t,Ar.max());return Ca(e).Z({index:H1,range:IDBKeyRange.bound(l,u,!0)},(d,h,m)=>{const g=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new m6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Db(e).get(Ow).next(t=>(Re(!!t),t))}ur(e,t){return Db(e).put(Ow,t)}cr(e,t){if(t){const r=Z9(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return _t.newInvalidDocument(e)}}function oO(n){return new p6(n)}class m6 extends sO{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new js(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new at((s,l)=>Le(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Er.get(s);if(t.push(this.Ir.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=_b(this.Ir.serializer,l);i=i.add(s.path.popLast());const h=cg(d);r+=h-u.size,t.push(this.Ir.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=_b(this.Ir.serializer,l.convertToNoDocument(Pe.min()));t.push(this.Ir.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((s,l)=>{this.Er.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function Db(n){return ln(n,Ch)}function Ca(n){return ln(n,tg)}function Md(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Lb(n,e){const t=e.documentKey.path.toArray();return[n,lg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Vb(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Le(t[s],r[s]),i)return i;return i=Le(t.length,r.length),i||(i=Le(t[t.length-2],r[r.length-2]),i||Le(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&lh(r.mutation,i,rr.empty(),At.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=ji();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Jd();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ji();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=ir();const l=ah(),u=function(){return ah()}();return t.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof $s)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),lh(m.mutation,h,m.mutation.getFieldMask(),At.now())):l.set(h.key,rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new g6(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=ah();let i=new pt((l,u)=>l-u),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||rr.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Fe()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=Tx();m.forEach(_=>{if(!s.has(_)){const T=kx(t.get(_),r.get(_));T!==null&&g.set(_,T),s=s.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):G.resolve(ji());let u=ju,d=s;return l.next(h=>G.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,Fe())).next(m=>({batchId:u,changes:Ix(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Jd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Jd();return this.indexManager.getCollectionParents(e,s).next(u=>G.forEach(u,d=>{const h=function(g,_){return new Us(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,_t.newInvalidDocument(m)))});let u=Jd();return l.forEach((d,h)=>{const m=s.get(d);m!==void 0&&lh(m.mutation,h,rr.empty(),At.now()),df(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:I0(i.bundledQuery),readTime:zt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.overlays=new pt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ji();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=ji(),s=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new pt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=ji(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=ji(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new v0(t,r));let s=this.Rr.get(t);s===void 0&&(s=Fe(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.Vr=new at(pn.mr),this.gr=new at(pn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new pn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new pn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new Be([])),r=new pn(t,e),i=new pn(t,e+1),s=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),s.push(l.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new Be([])),r=new pn(t,e),i=new pn(t,e+1);let s=Fe();return this.gr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new pn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new at(pn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new y0(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new pn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Co:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pn(t,0),i=new pn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);s.push(u)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Le);return t.forEach(i=>{const s=new pn(i,0),l=new pn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new pn(new _e(s),0);let u=new at(Le);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const s=new pn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new pn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.kr=e,this.docs=function(){return new pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let r=ir();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ir();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||i0(j1(m),r)<=0||(i.has(m.key)||df(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new I6(this)}getSize(e){return G.resolve(this.size)}}class I6 extends sO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.persistence=e,this.Qr=new js(t=>Ja(t),uf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new R0,this.targetCount=0,this.Ur=nl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nr(0),this.zr=!1,this.zr=!0,this.jr=new v6,this.referenceDelegate=e(this),this.Hr=new T6(this),this.indexManager=new a6,this.remoteDocumentCache=function(i){return new E6(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Qx(t),this.Yr=new y6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new w6(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new S6(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class S6 extends B1{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.ti=new R0,this.ni=null}static ri(e){return new dy(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Pe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class dg{constructor(e,t){this.persistence=e,this.oi=new js(r=>Ln(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iO(this,t)}static ri(e,t){return new dg(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,s.removeEntry(l,Pe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bm(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.serializer=e}B(e,t,r,i){const s=new ey("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(lf)}(e),function(d){d.createObjectStore(Ph,{keyPath:$3}),d.createObjectStore(ci,{keyPath:GA,autoIncrement:!0}).createIndex(ja,QA,{unique:!0}),d.createObjectStore($u)}(e),Mb(e),function(d){d.createObjectStore(Na)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(zu),d.deleteObjectStore(Bu),d.deleteObjectStore(qa)}(e),Mb(e)),l=l.next(()=>function(d){const h=d.store(qa),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return h.put(ng,m)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,h){return h.store(ci).G().next(g=>{d.deleteObjectStore(ci),d.createObjectStore(ci,{keyPath:GA,autoIncrement:!0}).createIndex(ja,QA,{unique:!0});const _=h.store(ci),T=g.map(I=>_.put(I));return G.waitFor(T)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore(Wu,{keyPath:Y3})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(Ch)}(e),this.ai(s)))),r<7&&i>=7&&(l=l.next(()=>this.ui(s))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(ty,{keyPath:J3})})(e),function(d){d.createObjectStore(ny,{keyPath:X3})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const h=d.createObjectStore(ry,{keyPath:s9});h.createIndex(Dw,o9,{unique:!1}),h.createIndex(Y1,a9,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const h=d.createObjectStore(tg,{keyPath:z3});h.createIndex(Rm,W3),h.createIndex(H1,q3)}(e)).next(()=>this.hi(e,s)).next(()=>e.deleteObjectStore(Na))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(a0,{keyPath:Z3,autoIncrement:!0}).createIndex(Nw,e9,{unique:!1}),d.createObjectStore(rg,{keyPath:t9}).createIndex(G1,n9,{unique:!1}),d.createObjectStore(ig,{keyPath:r9}).createIndex(Q1,i9,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(rg).clear()}).next(()=>{t.objectStore(ig).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(l0,{keyPath:l9})})(e)})),l}ai(e){let t=0;return e.store(Na).Z((r,i)=>{t+=cg(i)}).next(()=>{const r={byteSize:t};return e.store(Ch).put(Ow,r)})}_i(e){const t=e.store(Ph),r=e.store(ci);return t.G().next(i=>G.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,Co],[s.userId,s.lastAcknowledgedBatchId]);return r.G(ja,l).next(u=>G.forEach(u,d=>{Re(d.userId===s.userId);const h=La(this.serializer,d);return eO(e,s.userId,h).next(()=>{})}))}))}ui(e){const t=e.store(zu),r=e.store(Na);return e.store(qa).get(ng).next(i=>{const s=[];return r.Z((l,u)=>{const d=new Be(l),h=function(g){return[0,Ln(g)]}(d);s.push(t.get(h).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:Ln(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(s))})}ci(e,t){e.createObjectStore(kh,{keyPath:Q3});const r=t.store(kh),i=new S0,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Ln(d)})}};return t.store(Na).Z({Y:!0},(l,u)=>{const d=new Be(l);return s(d.popLast())}).next(()=>t.store($u).Z({Y:!0},([l,u,d],h)=>{const m=Ui(u);return s(m.popLast())}))}li(e){const t=e.store(Bu);return t.Z((r,i)=>{const s=Zd(i),l=Yx(this.serializer,s);return t.put(l)})}hi(e,t){const r=t.store(Na),i=[];return r.Z((s,l)=>{const u=t.store(tg),d=function(g){return g.document?new _e(Be.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(h))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(ci),i=oO(this.serializer),s=new A0(dy.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var h;let m=(h=u.get(d.userId))!==null&&h!==void 0?h:Fe();La(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,h)=>{const m=new mn(h),g=uy.It(this.serializer,m),_=s.getIndexManager(m),T=cy.It(m,this.serializer,_,s.referenceDelegate);return new aO(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Lw(t,nr.ae),d).next()})})}}function Mb(n){n.createObjectStore(zu,{keyPath:K3}).createIndex(o0,G3,{unique:!0}),n.createObjectStore(Bu,{keyPath:"targetId"}).createIndex(K1,H3,{unique:!0}),n.createObjectStore(qa)}const vo="IndexedDbPersistence",$v=18e5,Bv=5e3,zv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lO="main";class b0{constructor(e,t,r,i,s,l,u,d,h,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=s,this.window=l,this.document=u,this.Ii=h,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!b0.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f6(this,i),this.gi=t+lO,this.serializer=new Qx(d),this.pi=new qi(this.gi,this.di,new R6(this.serializer)),this.jr=new t6,this.Hr=new u6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oO(this.serializer),this.Yr=new e6,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&Bt(vo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,zv);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new nr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Jo(e))return ue(vo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(vo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Fd(e).get(lu).next(t=>G.resolve(this.Ni(t)))}Bi(e){return tm(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,$v)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=ln(t,Wu);return r.G().next(i=>{const s=this.qi(i,$v),l=i.filter(u=>s.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):Fd(e).get(lu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,Bv)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,zv);return!1}}return!(!this.networkEnabled||!this.inForeground)||tm(e).G().next(r=>this.qi(r,Bv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(vo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[lf,Wu],e=>{const t=new Lw(e,nr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>tm(e).G().next(t=>this.qi(t,$v).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return cy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new l6(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return uy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(vo,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===17?d9:d===16?c9:d===15?u0:d===14?Z1:d===13?X1:d===12?u9:d===11?J1:void Ee()}(this.di);let l;return this.pi.runTransaction(e,i,s,u=>(l=new Lw(u,this.Gr?this.Gr.next():nr.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw Bt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,$1);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return Fd(e).get(lu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,Bv)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,zv)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fd(e).put(lu,t)}static D(){return qi.D()}xi(e){const t=Fd(e);return t.get(lu).next(r=>this.Ni(r)?(ue(vo,"Releasing primary lease."),t.delete(lu)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Bt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;Ak()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(vo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bt(vo,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Bt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fd(n){return ln(n,lf)}function tm(n){return ln(n,Wu)}function P0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Fe(),i=Fe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ak()?8:z1(We())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new A6;return this._s(e,t,l).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(vu()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",wu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(vu()<=Ue.DEBUG&&ue("QueryEngine","Query:",wu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(vu()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",wu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(t))):G.resolve())}rs(e,t){if(lb(t))return G.resolve(null);let r=zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ag(t,null,"F"),r=zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Fe(...s);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,u);return this.ls(t,h,l,d.readTime)?this.rs(e,ag(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,i){return lb(t)||i.isEqual(Pe.min())?G.resolve(null):this.ns.getDocuments(e,r).next(s=>{const l=this.cs(t,s);return this.ls(t,l,r,i)?G.resolve(null):(vu()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wu(t)),this.hs(e,l,t,U1(i,ju)).next(u=>u))})}cs(e,t){let r=new at(wx(e));return t.forEach((i,s)=>{df(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return vu()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",wu(t)),this.ns.getDocumentsMatchingQuery(e,t,Ar.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="LocalStore",b6=3e8;class P6{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new pt(Le),this.Is=new js(s=>Ja(s),uf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function cO(n,e,t,r){return new P6(n,e,t,r)}async function dO(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Fe();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function C6(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(R=>{const b=h.docVersions.get(I);Re(b!==null),R.version.compareTo(b)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Fe();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hO(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function k6(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,g)));let T=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Mt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,b,M){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=b6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,T,m)&&u.push(t.Hr.updateTargetData(s,T))});let d=ir(),h=Fe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(fO(s,l,e.documentUpdates).next(m=>{d=m.Vs,h=m.fs})),!r.isEqual(Pe.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.Ts=i,s))}function fO(n,e,t){let r=Fe(),i=Fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=ir();return t.forEach((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(k0,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function x6(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Co),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ju(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ss(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Xu(n,e,t){const r=ve(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Jo(l))throw l;ue(k0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function hg(n,e,t){const r=ve(n);let i=Pe.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,m)}(r,l,zn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Pe.min(),t?s:Fe())).next(u=>(gO(r,vx(e),u),{documents:u,gs:s})))}function pO(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(l=>l?l.target:null))}function mO(n,e){const t=ve(n),r=t.Es.get(e)||Pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,U1(r,ju),Number.MAX_SAFE_INTEGER)).then(i=>(gO(t,e,i),i))}function gO(n,e,t){let r=n.Es.get(e)||Pe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}async function O6(n,e,t,r){const i=ve(n);let s=Fe(),l=ir();for(const h of t){const m=e.ps(h.metadata.name);h.document&&(s=s.add(m));const g=e.ys(h);g.setReadTime(e.ws(h.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await Ju(i,function(m){return zn(yc(Be.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>fO(h,u,l).next(m=>(u.apply(h),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(h,d.targetId).next(()=>i.Hr.addMatchingKeys(h,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Vs,m.fs)).next(()=>m.Vs)))}async function N6(n,e,t=Fe()){const r=await Ju(n,zn(I0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=zt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(s,e);const u=r.withResumeToken(Mt.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(s,u).next(()=>i.Hr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Hr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="firestore_clients";function Fb(n,e){return`${yO}_${n}_${e}`}const _O="firestore_mutations";function Ub(n,e,t){let r=`${_O}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const vO="firestore_targets";function Wv(n,e){return`${vO}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="SharedClientState";class fg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ss(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ae(i.error.code,i.error.message))),l?new fg(e,t,i.state,s):(Bt(Ni,`Failed to parse mutation state for ID '${t}': ${r}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ss(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ae(r.error.code,r.error.message))),s?new uh(e,r.state,i):(Bt(Ni,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=p0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=W1(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new pg(e,s):(Bt(Ni,`Failed to parse client data for instance '${e}': ${t}`),null)}}class x0{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new x0(t.clientId,t.onlineState):(Bt(Ni,`Failed to parse online state: ${e}`),null)}}class Yw{constructor(){this.activeTargetIds=p0()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qv{constructor(e,t,r,i,s){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new pt(Le),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ns=Fb(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Yw),this.Ls=new RegExp(`^${yO}_${l}_([^_]*)$`),this.ks=new RegExp(`^${_O}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${vO}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(Fb(this.persistenceKey,r));if(i){const s=pg.Ss(r,i);s&&(this.xs=this.xs.insert(s.clientId,s))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Wv(this.persistenceKey,e));if(i){const s=uh.Ss(e,i);s&&(r=s.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Ni,"READ",e,t),t}setItem(e,t){ue(Ni,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Ni,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(Ni,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(s){let l=nr.ae;if(s!=null)try{const u=JSON.parse(s);Re(typeof u=="number"),l=u}catch(u){Bt(Ni,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==nr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,r){const i=new fg(this.currentUser,e,t,r),s=Ub(this.persistenceKey,this.currentUser,e);this.setItem(s,i.bs())}js(e){const t=Ub(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=Wv(this.persistenceKey,e),s=new uh(e,t,r);this.setItem(i,s.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return pg.Ss(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return fg.Ss(new mn(s),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return uh.Ss(i,t)}Us(e){return x0.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(Ni,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),s=this.Gs(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=p0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class wO{constructor(){this.ho=new Yw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Yw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="ConnectivityMonitor";class $b{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(jb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(jb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm=null;function Jw(){return nm===null?nm=function(){return 268435456+Math.round(2147483648*Math.random())}():nm++,"0x"+nm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="RestConnection",L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Vw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,s){const l=Jw(),u=this.bo(e,t.toUriEncodedString());ue(Hv,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,u,d,r).then(h=>(ue(Hv,`Received RPC '${e}' ${l}: `,h),h),h=>{throw Qi(Hv,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,l){return this.So(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,t){const r=L6[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class F6 extends V6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=Jw();return new Promise((l,u)=>{const d=new x1;d.setWithCredentials(!0),d.listenOnce(O1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Im.NO_ERROR:const m=d.getResponseJson();ue(xn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Im.TIMEOUT:ue(xn,`RPC '${e}' ${s} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const g=d.getStatus();if(ue(xn,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(b){const M=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(M)>=0?M:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(xn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ue(xn,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=Jw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=L1(),u=D1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ue(xn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new M6({Fo:b=>{T?ue(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(ue(xn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(xn,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Mo:()=>g.close()}),R=(b,M,V)=>{b.listen(M,F=>{try{V(F)}catch(B){setTimeout(()=>{throw B},0)}})};return R(g,Yd.EventType.OPEN,()=>{T||(ue(xn,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),R(g,Yd.EventType.CLOSE,()=>{T||(T=!0,ue(xn,`RPC '${e}' stream ${i} transport closed`),I.Ko())}),R(g,Yd.EventType.ERROR,b=>{T||(T=!0,Qi(xn,`RPC '${e}' stream ${i} transport errored:`,b),I.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,Yd.EventType.MESSAGE,b=>{var M;if(!T){const V=b.data[0];Re(!!V);const F=V,B=(F==null?void 0:F.error)||((M=F[0])===null||M===void 0?void 0:M.error);if(B){ue(xn,`RPC '${e}' stream ${i} received error:`,B);const $=B.status;let W=function(C){const E=Qt[C];if(E!==void 0)return Nx(E)}($),L=B.message;W===void 0&&(W=te.INTERNAL,L="Unknown error status: "+$+" with message "+B.message),T=!0,I.Ko(new ae(W,L)),g.close()}else ue(xn,`RPC '${e}' stream ${i} received:`,V),I.Uo(V)}}),R(u,N1.STAT_EVENT,b=>{b.stat===kw.PROXY?ue(xn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===kw.NOPROXY&&ue(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){return typeof window<"u"?window:null}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n){return new z9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="PersistentStream";class IO{constructor(e,t,r,i,s,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new O0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Bt(t.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(Bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(Bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U6 extends IO{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=H9(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?zt(l.readTime):Pe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=qw(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=sg(d)?{documents:zx(s,d)}:{query:Wx(s,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Mx(s,l.resumeToken);const h=zw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=Yu(s,l.snapshotVersion.toTimestamp());const h=zw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=G9(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=qw(this.serializer),t.removeTarget=e,this.I_(t)}}class j6 extends IO{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=K9(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=qw(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Vh(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{}class B6 extends $6{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.So(e,Ww(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(te.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Ww(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class z6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="RemoteStore";class W6{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(l=>{r.enqueueAndForget(async()=>{Zo(this)&&(ue(rl,"Restarting streams for network reachability change."),await async function(d){const h=ve(d);h.W_.add(4),await wc(h),h.j_.set("Unknown"),h.W_.delete(4),await gf(h)}(this))})}),this.j_=new z6(r,i)}}async function gf(n){if(Zo(n))for(const e of n.G_)await e(!0)}async function wc(n){for(const e of n.G_)await e(!1)}function hy(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),L0(t)?D0(t):Ic(t).c_()&&N0(t,e))}function Zu(n,e){const t=ve(n),r=Ic(t);t.U_.delete(e),r.c_()&&TO(t,e),t.U_.size===0&&(r.c_()?r.P_():Zo(t)&&t.j_.set("Unknown"))}function N0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ic(n).y_(e)}function TO(n,e){n.H_.Ne(e),Ic(n).w_(e)}function D0(n){n.H_=new U9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ic(n).start(),n.j_.B_()}function L0(n){return Zo(n)&&!Ic(n).u_()&&n.U_.size>0}function Zo(n){return ve(n).W_.size===0}function SO(n){n.H_=void 0}async function q6(n){n.j_.set("Online")}async function H6(n){n.U_.forEach((e,t)=>{N0(n,e)})}async function K6(n,e){SO(n),L0(n)?(n.j_.q_(e),D0(n)):n.j_.set("Unknown")}async function G6(n,e,t){if(n.j_.set("Online"),e instanceof Vx&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mg(n,r)}else if(e instanceof km?n.H_.We(e):e instanceof Lx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Pe.min()))try{const r=await hO(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.U_.get(h);m&&s.U_.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=s.U_.get(d);if(!m)return;s.U_.set(d,m.withResumeToken(Mt.EMPTY_BYTE_STRING,m.snapshotVersion)),TO(s,d);const g=new Ss(m.target,d,h,m.sequenceNumber);N0(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(rl,"Failed to raise snapshot:",r),await mg(n,r)}}async function mg(n,e,t){if(!Jo(e))throw e;n.W_.add(1),await wc(n),n.j_.set("Offline"),t||(t=()=>hO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(rl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await gf(n)})}function RO(n,e){return e().catch(t=>mg(n,t,e))}async function Ec(n){const e=ve(n),t=Bo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Co;for(;Q6(e);)try{const i=await x6(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Y6(e,i)}catch(i){await mg(e,i)}AO(e)&&bO(e)}function Q6(n){return Zo(n)&&n.K_.length<10}function Y6(n,e){n.K_.push(e);const t=Bo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function AO(n){return Zo(n)&&!Bo(n).u_()&&n.K_.length>0}function bO(n){Bo(n).start()}async function J6(n){Bo(n).C_()}async function X6(n){const e=Bo(n);for(const t of n.K_)e.b_(t.mutations)}async function Z6(n,e,t){const r=n.K_.shift(),i=_0.from(r,e,t);await RO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ec(n)}async function eW(n,e){e&&Bo(n).S_&&await async function(r,i){if(function(l){return Ox(l)&&l!==te.ABORTED}(i.code)){const s=r.K_.shift();Bo(r).h_(),await RO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ec(r)}}(n,e),AO(n)&&bO(n)}async function zb(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(rl,"RemoteStore received new credentials");const r=Zo(t);t.W_.add(3),await wc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await gf(t)}async function Xw(n,e){const t=ve(n);e?(t.W_.delete(2),await gf(t)):e||(t.W_.add(2),await wc(t),t.j_.set("Unknown"))}function Ic(n){return n.J_||(n.J_=function(t,r,i){const s=ve(t);return s.M_(),new U6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:q6.bind(null,n),No:H6.bind(null,n),Lo:K6.bind(null,n),p_:G6.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),L0(n)?D0(n):n.j_.set("Unknown")):(await n.J_.stop(),SO(n))})),n.J_}function Bo(n){return n.Y_||(n.Y_=function(t,r,i){const s=ve(t);return s.M_(),new j6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:J6.bind(null,n),Lo:eW.bind(null,n),D_:X6.bind(null,n),v_:Z6.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ec(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(rl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new V0(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tc(n,e){if(Bt("AsyncQueue",`${e}: ${n}`),Jo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Jd(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.Z_=new pt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ec{constructor(e,t,r,i,s,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new ec(e,t,Cu.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class nW{constructor(){this.queries=qb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),s=i.queries;i.queries=qb(),s.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function qb(){return new js(n=>_x(n),cf)}async function M0(n,e){const t=ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new tW,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Tc(l,`Initialization of query '${wu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&U0(t)}async function F0(n,e){const t=ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ta.indexOf(e);l>=0&&(s.ta.splice(l,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function rW(n,e){const t=ve(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&U0(t)}function iW(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function U0(n){n.ia.forEach(e=>{e.next()})}var Zw,Hb;(Hb=Zw||(Zw={}))._a="default",Hb.Cache="cache";class j0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.serializer=e}ps(e){return Hi(this.serializer,e)}ys(e){return e.metadata.exists?Bx(this.serializer,e.document,!1):_t.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return zt(e)}}class oW{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PO(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=Be.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new Kb(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Fe()).add(s);t.set(l,u)}}return t}async complete(){const e=await O6(this.localStore,new Kb(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await N6(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function PO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.key=e}}class kO{constructor(e){this.key=e}}class xO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=wx(e),this.wa=new Cu(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Wb,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=df(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;_&&T?_.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),b=!0):this.va(_,T)||(r.track({type:2,doc:T}),b=!0,(d&&this.ya(T,d)>0||h&&this.ya(T,h)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),b=!0):_&&!T&&(r.track({type:1,doc:_}),b=!0,(d||h)&&(u=!0)),b&&(T?(l=l.add(T),s=R?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(T,I){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(T)-R(I)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new ec(this.query,e.wa,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Wb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new kO(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new CO(r))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ec.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ea="SyncEngine";class aW{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lW{constructor(e){this.key=e,this.Ba=!1}}class uW{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new js(u=>_x(u),cf),this.qa=new Map,this.Qa=new Set,this.$a=new pt(_e.comparator),this.Ka=new Map,this.Ua=new R0,this.Wa={},this.Ga=new Map,this.za=nl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cW(n,e,t=!0){const r=fy(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await OO(r,e,t,!0),i}async function dW(n,e){const t=fy(n);await OO(t,e,!0,!1)}async function OO(n,e,t,r){const i=await Ju(n.localStore,zn(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await $0(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&hy(n.remoteStore,i),u}async function $0(n,e,t,r,i){n.Ha=(g,_,T)=>async function(R,b,M,V){let F=b.view.ba(M);F.ls&&(F=await hg(R.localStore,b.query,!1).then(({documents:L})=>b.view.ba(L,F)));const B=V&&V.targetChanges.get(b.targetId),$=V&&V.targetMismatches.get(b.targetId)!=null,W=b.view.applyChanges(F,R.isPrimaryClient,B,$);return eE(R,b.targetId,W.Ma),W.snapshot}(n,g,_,T);const s=await hg(n.localStore,e,!0),l=new xO(e,s.gs),u=l.ba(s.documents),d=pf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,d);eE(n,t,h.Ma);const m=new aW(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function hW(n,e,t){const r=ve(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(l=>!cf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Zu(r.remoteStore,i.targetId),tc(r,i.targetId)}).catch(Yo)):(tc(r,i.targetId),await Xu(r.localStore,i.targetId,!0))}async function fW(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zu(t.remoteStore,r.targetId))}async function pW(n,e,t){const r=q0(n);try{const i=await function(l,u){const d=ve(l),h=At.now(),m=u.reduce((T,I)=>T.add(I.key),Fe());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=ir(),R=Fe();return d.ds.getEntries(T,m).next(b=>{I=b,I.forEach((M,V)=>{V.isValidDocument()||(R=R.add(M))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(b=>{g=b;const M=[];for(const V of u){const F=V9(V,g.get(V.key).overlayedDocument);F!=null&&M.push(new $s(V.key,F,ux(F.value.mapValue),Rt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,M,u)}).next(b=>{_=b;const M=b.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,b.batchId,M)})}).then(()=>({batchId:_.batchId,changes:Ix(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new pt(Le)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h}(r,i.batchId,t),await Bs(r,i.changes),await Ec(r.remoteStore)}catch(i){const s=Tc(i,"Failed to persist write");t.reject(s)}}async function NO(n,e){const t=ve(n);try{const r=await k6(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Ka.get(s);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Re(l.Ba):i.removedDocuments.size>0&&(Re(l.Ba),l.Ba=!1))}),await Bs(t,r,e)}catch(r){await Yo(r)}}function Gb(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&U0(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mW(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let l=new pt(_e.comparator);l=l.insert(s,_t.newNoDocument(s,Pe.min()));const u=Fe().add(s),d=new ff(Pe.min(),new Map,new pt(Le),l,u);await NO(r,d),r.$a=r.$a.remove(s),r.Ka.delete(e),W0(r)}else await Xu(r.localStore,e,!1).then(()=>tc(r,e,t)).catch(Yo)}async function gW(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await C6(t.localStore,e);z0(t,r,null),B0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Bs(t,i)}catch(i){await Yo(i)}}async function yW(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);z0(r,e,t),B0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Bs(r,i)}catch(i){await Yo(i)}}async function _W(n,e){const t=ve(n);Zo(t.remoteStore)||ue(ea,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===Co)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Tc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function B0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function z0(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function tc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||DO(n,r)})}function DO(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Zu(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),W0(n))}function eE(n,e,t){for(const r of t)r instanceof CO?(n.Ua.addReference(r.key,e),vW(n,r)):r instanceof kO?(ue(ea,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||DO(n,r.key)):Ee()}function vW(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(ea,"New document in limbo: "+t),n.Qa.add(r),W0(n))}function W0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(Be.fromString(e)),r=n.za.next();n.Ka.set(r,new lW(t)),n.$a=n.$a.insert(t,r),hy(n.remoteStore,new Ss(zn(yc(t.path)),r,"TargetPurposeLimboResolution",nr.ae))}}async function Bs(n,e,t){const r=ve(n),i=[],s=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=C0.Yi(d.targetId,h);s.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,h){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,_=>G.forEach(_.Hi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Ji,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Jo(g))throw g;ue(k0,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const T=m.Ts.get(_),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(_,R)}}}(r.localStore,s))}async function wW(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(ea,"User change. New user:",e.toKey());const r=await dO(t.localStore,e);t.currentUser=e,function(s,l){s.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bs(t,r.Rs)}}function EW(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Fe().add(r.key);{let i=Fe();const s=t.qa.get(e);if(!s)return i;for(const l of s){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}async function IW(n,e){const t=ve(n),r=await hg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&eE(t,e.targetId,i.Ma),i}async function TW(n,e){const t=ve(n);return mO(t.localStore,e).then(r=>Bs(t,r))}async function SW(n,e,t,r){const i=ve(n),s=await function(u,d){const h=ve(u),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?h.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await Ec(i.remoteStore):t==="acknowledged"||t==="rejected"?(z0(i,e,r||null),B0(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ee(),await Bs(i,s)):ue(ea,"Cannot apply mutation batch with id: "+e)}async function RW(n,e){const t=ve(n);if(fy(t),q0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await Qb(t,r.toArray());t.ja=!0,await Xw(t.remoteStore,!0);for(const s of i)hy(t.remoteStore,s)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(tc(t,l),Xu(t.localStore,l,!0))),Zu(t.remoteStore,l)}),await i,await Qb(t,r),function(l){const u=ve(l);u.Ka.forEach((d,h)=>{Zu(u.remoteStore,h)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new pt(_e.comparator)}(t),t.ja=!1,await Xw(t.remoteStore,!1)}}async function Qb(n,e,t){const r=ve(n),i=[],s=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await Ju(r.localStore,zn(d[0]));for(const h of d){const m=r.ka.get(h),g=await IW(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await pO(r.localStore,l);u=await Ju(r.localStore,h),await $0(r,LO(h),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(s),i}function LO(n){return yx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AW(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function bW(n,e,t,r){const i=ve(n);if(i.ja)return void ue(ea,"Ignoring unexpected query state notification.");const s=i.qa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await mO(i.localStore,vx(s[0])),u=ff.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Mt.EMPTY_BYTE_STRING);await Bs(i,l,u);break}case"rejected":await Xu(i.localStore,e,!0),tc(i,e,r);break;default:Ee()}}async function PW(n,e,t){const r=fy(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(ea,"Adding an already active target "+i);continue}const s=await pO(r.localStore,i),l=await Ju(r.localStore,s);await $0(r,LO(s),l.targetId,!1,l.resumeToken),hy(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Xu(r.localStore,i,!1).then(()=>{Zu(r.remoteStore,i),tc(r,i)}).catch(Yo)}}function fy(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mW.bind(null,e),e.La.p_=rW.bind(null,e.eventManager),e.La.Ja=iW.bind(null,e.eventManager),e}function q0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yW.bind(null,e),e}function CW(n,e,t){const r=ve(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(T,I){const R=ve(T),b=zt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",M=>R.Yr.getBundleMetadata(M,I.id)).then(M=>!!M&&M.createTime.compareTo(b)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(PO(d));const h=new oW(d,s.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await h.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await h.complete();return await Bs(s,g.ma,void 0),await function(T,I){const R=ve(T);return R.persistence.runTransaction("Save bundle","readwrite",b=>R.Yr.saveBundleMetadata(b,I))}(s.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return Qi(ea,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return cO(this.persistence,new uO,e.initialUser,this.serializer)}Xa(e){return new A0(dy.ri,this.serializer)}Za(e){return new wO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class kW extends Mh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Re(this.persistence.referenceDelegate instanceof dg);const r=this.persistence.referenceDelegate.garbageCollector;return new rO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new A0(r=>dg.ri(r,t),this.serializer)}}class VO extends Mh{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await q0(this.ru.syncEngine),await Ec(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return cO(this.persistence,new uO,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new rO(r,e.asyncQueue,t)}nu(e,t){const r=new U3(t,this.persistence);return new F3(e.asyncQueue,r)}Xa(e){const t=P0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new b0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,EO(),xm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new wO}}class xW extends VO{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof qv&&(this.sharedClientState.syncEngine={uo:SW.bind(null,t),co:bW.bind(null,t),lo:PW.bind(null,t),zi:AW.bind(null,t),ao:TW.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await RW(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=EO();if(!qv.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=P0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Fh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wW.bind(null,this.syncEngine),await Xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nW}()}createDatastore(e){const t=mf(e.databaseInfo.databaseId),r=function(s){return new F6(s)}(e.databaseInfo);return function(s,l,u,d){return new B6(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new W6(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Gb(this.syncEngine,t,0),function(){return $b.D()?new $b:new D6}())}createSyncEngine(e,t){return function(i,s,l,u,d,h,m){const g=new uW(i,s,l,u,d,h);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ve(i);ue(rl,"RemoteStore shutting down."),s.W_.add(5),await wc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Fh.provider={build:()=>new Fh};function Yb(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Rn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new sW(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=ve(i),u={documents:s.map(g=>Lh(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Be.emptyPath(),u,s.length),h=new Map;d.forEach(g=>{const _=q9(l.serializer,g);h.set(_.key.toString(),_)});const m=[];return s.forEach(g=>{const _=h.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new g0(i,this.precondition(i)))}),await async function(r,i){const s=ve(r),l={writes:i.map(u=>Vh(s.serializer,u))};await s.So("Commit",s.serializer.databaseId,Be.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pe.min())?Rt.exists(!1):Rt.updateTime(t):Rt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pe.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(t)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Tu=r.maxAttempts,this.a_=new O0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new NW(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!af(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Ox(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class LW{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=M1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{ue(zo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(zo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Tc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kv(n,e){n.asyncQueue.verifyOperationInProgress(),ue(zo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Jb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await H0(n);ue(zo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zb(e.remoteStore,i)),n._onlineComponents=e}async function H0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(zo,"Using user provided OfflineComponentProvider");try{await Kv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Qi("Error using user provided cache. Falling back to memory cache: "+t),await Kv(n,new Mh)}}else ue(zo,"Using default OfflineComponentProvider"),await Kv(n,new kW(void 0));return n._offlineComponents}async function my(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(zo,"Using user provided OnlineComponentProvider"),await Jb(n,n._uninitializedComponentsProvider._online)):(ue(zo,"Using default OnlineComponentProvider"),await Jb(n,new Fh))),n._onlineComponents}function MO(n){return H0(n).then(e=>e.persistence)}function K0(n){return H0(n).then(e=>e.localStore)}function FO(n){return my(n).then(e=>e.remoteStore)}function G0(n){return my(n).then(e=>e.syncEngine)}function VW(n){return my(n).then(e=>e.datastore)}async function nc(n){const e=await my(n),t=e.eventManager;return t.onListen=cW.bind(null,e.syncEngine),t.onUnlisten=hW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fW.bind(null,e.syncEngine),t}function MW(n){return n.asyncQueue.enqueue(async()=>{const e=await MO(n),t=await FO(n);return e.setNetworkEnabled(!0),function(i){const s=ve(i);return s.W_.delete(0),gf(s)}(t)})}function FW(n){return n.asyncQueue.enqueue(async()=>{const e=await MO(n),t=await FO(n);return e.setNetworkEnabled(!1),async function(i){const s=ve(i);s.W_.add(0),await wc(s),s.j_.set("Offline")}(t)})}function UW(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Tc(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await K0(n),e,t)),t.promise}function UO(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new py({next:_=>{m.su(),l.enqueueAndForget(()=>F0(s,g));const T=_.docs.has(u);!T&&_.fromCache?h.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new j0(yc(u.path),m,{includeMetadataChanges:!0,Ta:!0});return M0(s,g)}(await nc(n),n.asyncQueue,e,t,r)),r.promise}function jW(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await hg(i,s,!0),d=new xO(s,u.gs),h=d.ba(u.documents),m=d.applyChanges(h,!1);l.resolve(m.snapshot)}catch(u){const d=Tc(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await K0(n),e,t)),t.promise}function jO(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new py({next:_=>{m.su(),l.enqueueAndForget(()=>F0(s,g)),_.fromCache&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new j0(u,m,{includeMetadataChanges:!0,Ta:!0});return M0(s,g)}(await nc(n),n.asyncQueue,e,t,r)),r.promise}function $W(n,e){const t=new py(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.add(s),s.next()}(await nc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.delete(s)}(await nc(n),t))}}function BW(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?Dx().encode(l):l,function(m,g){return new OW(m,g)}(function(m,g){if(m instanceof Uint8Array)return Yb(m,g);if(m instanceof ArrayBuffer)return Yb(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,mf(e));n.asyncQueue.enqueueAndForget(async()=>{CW(await G0(n),i,r)})}function zW(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=ve(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.Yr.getNamedQuery(l,i))}(await K0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BO(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zb(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eP(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gy(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zO(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="firestore.googleapis.com",tP=!0;class nP{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WO,this.ssl=tP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c6)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$O((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new P3;switch(r.type){case"firstParty":return new O3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Xb.get(t);r&&(ue("ComponentProvider","Removing Datastore"),Xb.delete(t),r.terminate())}(this),Promise.resolve()}}function WW(n,e,t,r={}){var i;const s=(n=et(n,yf))._getSettings(),l=`${e}:${t}`;if(s.host!==WO&&s.host!==l&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=mn.MOCK_USER;else{u=D4(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new mn(h)}n._authCredentials=new C3(new V1(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wn=class qO{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qO(this.firestore,e,this._query)}},Ot=class HO{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new HO(this.firestore,e,this._key)}},ko=class KO extends Wn{constructor(e,t,r){super(e,t,yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new _e(e))}withConverter(e){return new KO(this.firestore,e,this._path)}};function GO(n,e,...t){if(n=Ce(n),Q0("collection","path",e),n instanceof yf){const r=Be.fromString(e,...t);return eP(r),new ko(n,null,r)}{if(!(n instanceof Ot||n instanceof ko))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return eP(r),new ko(n.firestore,null,r)}}function qW(n,e){if(n=et(n,yf),Q0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wn(n,null,function(r){return new Us(Be.emptyPath(),r)}(e))}function gg(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=M1.newId()),Q0("doc","path",e),n instanceof yf){const r=Be.fromString(e,...t);return Zb(r),new Ot(n,null,new _e(r))}{if(!(n instanceof Ot||n instanceof ko))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return Zb(r),new Ot(n.firestore,n instanceof ko?n.converter:null,new _e(r))}}function QO(n,e){return n=Ce(n),e=Ce(e),(n instanceof Ot||n instanceof ko)&&(e instanceof Ot||e instanceof ko)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YO(n,e){return n=Ce(n),e=Ce(e),n instanceof Wn&&e instanceof Wn&&n.firestore===e.firestore&&cf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="AsyncQueue";class iP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new O0(this,"async_queue_retry"),this.Su=()=>{const r=xm();r&&ue(rP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Rn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jo(e))throw e;ue(rP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Bt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=V0.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function tE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class HW{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=-1;let Wt=class extends yf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new iP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iP(e),this._firestoreClient=void 0,await e}}};function Vn(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JO(n),n._firestoreClient}function JO(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,h,m){return new p9(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$O(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new LW(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function GW(n,e){Qi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return XO(n,Fh.provider,{build:r=>new VO(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function QW(n){Qi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();XO(n,Fh.provider,{build:t=>new xW(t,e.cacheSizeBytes)})}function XO(n,e,t){if((n=et(n,Wt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},JO(n)}function YW(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qi.D())return Promise.resolve();const i=r+lO;await qi.delete(i)}(P0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function JW(n){return function(t){const r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>_W(await G0(t),r)),r.promise}(Vn(n=et(n,Wt)))}function XW(n){return MW(Vn(n=et(n,Wt)))}function ZW(n){return FW(Vn(n=et(n,Wt)))}function eq(n,e){const t=Vn(n=et(n,Wt)),r=new HW;return BW(t,n._databaseId,e,r),r}function tq(n,e){return zW(Vn(n=et(n,Wt)),e).then(t=>t?new Wn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(Mt.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ji(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=/^__.*__$/;class rq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class ZO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class _y{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(eN(this.Lu)&&nq.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class iq{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mf(e)}ju(e,t,r,i=!1){return new _y({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cl(n){const e=n._freezeSettings(),t=mf(n._databaseId);return new iq(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vy(n,e,t,r,i,s={}){const l=n.ju(s.merge||s.mergeFields?2:0,e,t,i);rI("Data must be an object, but it was:",l,r);const u=rN(r,l);let d,h;if(s.merge)d=new rr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=nE(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);sN(m,_)||m.push(_)}d=new rr(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new rq(new Sn(u),d,h)}class _f extends ul{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function tN(n,e,t){return new _y({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class J0 extends ul{_toFieldTransform(e){return new hf(e.path,new Gu)}isEqual(e){return e instanceof J0}}class X0 extends ul{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=tN(this,e,!0),r=this.Hu.map(s=>dl(s,t)),i=new Xa(r);return new hf(e.path,i)}isEqual(e){return e instanceof X0&&Vu(this.Hu,e.Hu)}}class Z0 extends ul{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=tN(this,e,!0),r=this.Hu.map(s=>dl(s,t)),i=new Za(r);return new hf(e.path,i)}isEqual(e){return e instanceof Z0&&Vu(this.Hu,e.Hu)}}class eI extends ul{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Qu(e.serializer,Rx(e.serializer,this.Ju));return new hf(e.path,t)}isEqual(e){return e instanceof eI&&this.Ju===e.Ju}}function tI(n,e,t,r){const i=n.ju(1,e,t);rI("Data must be an object, but it was:",i,r);const s=[],l=Sn.empty();Xo(r,(d,h)=>{const m=iI(e,d,t);h=Ce(h);const g=i.Ku(m);if(h instanceof _f)s.push(m);else{const _=dl(h,g);_!=null&&(s.push(m),l.set(m,_))}});const u=new rr(s);return new ZO(l,u,i.fieldTransforms)}function nI(n,e,t,r,i,s){const l=n.ju(1,e,t),u=[nE(e,r,t)],d=[i];if(s.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(nE(e,s[_])),d.push(s[_+1]);const h=[],m=Sn.empty();for(let _=u.length-1;_>=0;--_)if(!sN(h,u[_])){const T=u[_];let I=d[_];I=Ce(I);const R=l.Ku(T);if(I instanceof _f)h.push(T);else{const b=dl(I,R);b!=null&&(h.push(T),m.set(T,b))}}const g=new rr(h);return new ZO(m,g,l.fieldTransforms)}function nN(n,e,t,r=!1){return dl(t,n.ju(r?4:3,e))}function dl(n,e){if(iN(n=Ce(n)))return rI("Unsupported field value:",e,n),rN(n,e);if(n instanceof ul)return function(r,i){if(!eN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=dl(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:Yu(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yu(i.serializer,s)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:Mx(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:E0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Y0)return function(l,u){return{mapValue:{fields:{[c0]:{stringValue:d0},[qu]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return m0(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${gy(r)}`)}(n,e)}function rN(n,e){const t={};return ex(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(n,(r,i)=>{const s=dl(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function iN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof yy||n instanceof Ji||n instanceof Ot||n instanceof ul||n instanceof Y0)}function rI(n,e,t){if(!iN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=gy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function nE(n,e,t){if((e=Ce(e))instanceof Wo)return e._internalPath;if(typeof e=="string")return iI(n,e);throw yg("Field path arguments must be of type string or ",n,!1,void 0,t)}const sq=new RegExp("[~\\*/\\[\\]]");function iI(n,e,t){if(e.search(sq)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wo(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yg(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function sN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oq extends Uh{data(){return super.data()}}function wy(n,e){return typeof e=="string"?iI(n,e):e instanceof Wo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sI{}class vf extends sI{}function wo(n,e,...t){let r=[];e instanceof sI&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof oI).length,u=s.filter(d=>d instanceof Ey).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Ey extends vf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ey(e,t,r)}_apply(e){const t=this._parse(e);return lN(e._query,t),new Wn(e.firestore,e.converter,Bw(e._query,t))}_parse(e){const t=cl(e.firestore);return function(s,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){oP(g,m);const I=[];for(const R of g)I.push(sP(d,s,R));_={arrayValue:{values:I}}}else _=sP(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||oP(g,m),_=nN(u,l,g,m==="in"||m==="not-in");return ze.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function aq(n,e,t){const r=e,i=wy("where",n);return Ey._create(i,r,t)}class oI extends sI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new oI(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)lN(l,d),l=Bw(l,d)}(e._query,t),new Wn(e.firestore,e.converter,Bw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aI extends vf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new aI(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(s,l)}(e._query,this._field,this._direction);return new Wn(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new Us(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function lq(n,e="asc"){const t=e,r=wy("orderBy",n);return aI._create(r,t)}class Iy extends vf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Iy(e,t,r)}_apply(e){return new Wn(e.firestore,e.converter,ag(e._query,this._limit,this._limitType))}}function uq(n){return zO("limit",n),Iy._create("limit",n,"F")}function cq(n){return zO("limitToLast",n),Iy._create("limitToLast",n,"L")}class Ty extends vf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ty(e,t,r)}_apply(e){const t=aN(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(i,s){return new Us(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function dq(...n){return Ty._create("startAt",n,!0)}function hq(...n){return Ty._create("startAfter",n,!1)}class Sy extends vf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Sy(e,t,r)}_apply(e){const t=aN(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(i,s){return new Us(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function fq(...n){return Sy._create("endBefore",n,!1)}function pq(...n){return Sy._create("endAt",n,!0)}function aN(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof Uh)return function(s,l,u,d,h){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of Pu(s))if(g.field.isKeyField())m.push(Ya(l,d.key));else{const _=d.data.field(g.field);if(iy(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new $o(m,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=cl(n.firestore);return function(l,u,d,h,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const R=m[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!f0(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const b=l.path.child(Be.fromString(R));if(!_e.isDocumentKey(b))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const M=new _e(b);T.push(Ya(u,M))}else{const b=nN(d,h,R);T.push(b)}}return new $o(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function sP(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f0(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Be.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ya(n,new _e(r))}if(t instanceof Ot)return Ya(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gy(t)}.`)}function oP(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lN(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lI{convertValue(e,t="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[qu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Tt(l.doubleValue));return new Y0(s)}convertGeoPoint(e){return new yy(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);Re(Gx(r));const i=new Fo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(t)||Bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class mq extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Vs=class extends Uh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ch=class extends Vs{data(e={}){return super.data(e)}},qo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ch(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new ch(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $a(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new ch(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $a(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:gq(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function gq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function uN(n,e){return n instanceof Vs&&e instanceof Vs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qo&&e instanceof qo&&n._firestore===e._firestore&&YO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(n){n=et(n,Ot);const e=et(n.firestore,Wt);return UO(Vn(e),n._key).then(t=>uI(e,n,t))}class hl extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function _q(n){n=et(n,Ot);const e=et(n.firestore,Wt),t=Vn(e),r=new hl(e);return UW(t,n._key).then(i=>new Vs(e,r,n._key,i,new $a(i!==null&&i.hasLocalMutations,!0),n.converter))}function vq(n){n=et(n,Ot);const e=et(n.firestore,Wt);return UO(Vn(e),n._key,{source:"server"}).then(t=>uI(e,n,t))}function wq(n){n=et(n,Wn);const e=et(n.firestore,Wt),t=Vn(e),r=new hl(e);return oN(n._query),jO(t,n._query).then(i=>new qo(e,r,n,i))}function Eq(n){n=et(n,Wn);const e=et(n.firestore,Wt),t=Vn(e),r=new hl(e);return jW(t,n._query).then(i=>new qo(e,r,n,i))}function Iq(n){n=et(n,Wn);const e=et(n.firestore,Wt),t=Vn(e),r=new hl(e);return jO(t,n._query,{source:"server"}).then(i=>new qo(e,r,n,i))}function aP(n,e,t){n=et(n,Ot);const r=et(n.firestore,Wt),i=Ry(n.converter,e,t);return wf(r,[vy(cl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Rt.none())])}function lP(n,e,t,...r){n=et(n,Ot);const i=et(n.firestore,Wt),s=cl(i);let l;return l=typeof(e=Ce(e))=="string"||e instanceof Wo?nI(s,"updateDoc",n._key,e,t,r):tI(s,"updateDoc",n._key,e),wf(i,[l.toMutation(n._key,Rt.exists(!0))])}function Tq(n){return wf(et(n.firestore,Wt),[new vc(n._key,Rt.none())])}function Sq(n,e){const t=et(n.firestore,Wt),r=gg(n),i=Ry(n.converter,e);return wf(t,[vy(cl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function cN(n,...e){var t,r,i;n=Ce(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||tE(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(tE(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(n instanceof Ot)h=et(n.firestore,Wt),m=yc(n._key.path),d={next:g=>{e[l]&&e[l](uI(h,n,g))},error:e[l+1],complete:e[l+2]};else{const g=et(n,Wn);h=et(g.firestore,Wt),m=g._query;const _=new hl(h);d={next:T=>{e[l]&&e[l](new qo(h,_,g,T))},error:e[l+1],complete:e[l+2]},oN(n._query)}return function(_,T,I,R){const b=new py(R),M=new j0(T,b,I);return _.asyncQueue.enqueueAndForget(async()=>M0(await nc(_),M)),()=>{b.su(),_.asyncQueue.enqueueAndForget(async()=>F0(await nc(_),M))}}(Vn(h),m,u,d)}function Rq(n,e){return $W(Vn(n=et(n,Wt)),tE(e)?e:{next:e})}function wf(n,e){return function(r,i){const s=new Rn;return r.asyncQueue.enqueueAndForget(async()=>pW(await G0(r),i,s)),s.promise}(Vn(n),e)}function uI(n,e,t){const r=t.docs.get(e._key),i=new hl(n);return new Vs(n,i,e._key,r,new $a(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bq=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cl(e)}set(e,t,r){this._verifyNotCommitted();const i=Ro(e,this._firestore),s=Ry(i.converter,t,r),l=vy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Rt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Ro(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof Wo?nI(this._dataReader,"WriteBatch.update",s._key,t,r,i):tI(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ro(e,this._firestore);return this._mutations=this._mutations.concat(new vc(t._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ro(n,e){if((n=Ce(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cl(e)}get(e){const t=Ro(e,this._firestore),r=new mq(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ee();const s=i[0];if(s.isFoundDocument())return new Uh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Uh(this._firestore,r,t._key,null,t.converter);throw Ee()})}set(e,t,r){const i=Ro(e,this._firestore),s=Ry(i.converter,t,r),l=vy(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=Ro(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof Wo?nI(this._dataReader,"Transaction.update",s._key,t,r,i):tI(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Ro(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cq=class extends Pq{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ro(e,this._firestore),r=new hl(this._firestore);return super.get(e).then(i=>new Vs(this._firestore,r,t._key,i._document,new $a(!1,!1),t.converter))}};function kq(n,e,t){n=et(n,Wt);const r=Object.assign(Object.assign({},Aq),t);return function(s){if(s.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new Rn;return s.asyncQueue.enqueueAndForget(async()=>{const h=await VW(s);new DW(s.asyncQueue,h,u,l,d).Iu()}),d.promise}(Vn(n),i=>e(new Cq(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(){return new _f("deleteField")}function Oq(){return new J0("serverTimestamp")}function Nq(...n){return new X0("arrayUnion",n)}function Dq(...n){return new Z0("arrayRemove",n)}function Lq(n){return new eI("increment",n)}(function(e,t=!0){(function(i){gc=i})(br),Gi(new Wr("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Wt(new k3(r.getProvider("auth-internal")),new N3(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(h.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),or(jA,$A,e),or(jA,$A,"esm2017")})();const Vq="@firebase/firestore-compat",Mq="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function cP(){if(!h9())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let dN=class rE{constructor(e){this._delegate=e}static fromBase64String(e){return cP(),new rE(Ji.fromBase64String(e))}static fromUint8Array(e){return uP(),new rE(Ji.fromUint8Array(e))}toBase64(){return cP(),this._delegate.toBase64()}toUint8Array(){return uP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n){return Fq(n,["next","error","complete"])}function Fq(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{enableIndexedDbPersistence(e,t){return GW(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return QW(e._delegate)}clearIndexedDbPersistence(e){return YW(e._delegate)}}class hN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){WW(this._delegate,e,t,r)}enableNetwork(){return XW(this._delegate)}disableNetwork(){return ZW(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,BO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return JW(this._delegate)}onSnapshotsInSync(e){return Rq(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rc(this,GO(this._delegate,e))}catch(t){throw Bn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Br(this,gg(this._delegate,e))}catch(t){throw Bn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $n(this,qW(this._delegate,e))}catch(t){throw Bn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return kq(this._delegate,t=>e(new fN(this,t)))}batch(){return Vn(this._delegate),new pN(new bq(this._delegate,e=>wf(this._delegate,e)))}loadBundle(e){return eq(this._delegate,e)}namedQuery(e){return tq(this._delegate,e).then(t=>t?new $n(this,t):null)}}class Ay extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new dN(new Ji(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Br.forKey(t,this.firestore,null)}}function jq(n){A3(n)}class fN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ay(e)}get(e){const t=Ba(e);return this._delegate.get(t).then(r=>new jh(this._firestore,new Vs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ba(e);return r?(cI("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ba(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ba(e);return this._delegate.delete(t),this}}class pN{constructor(e){this._delegate=e}set(e,t,r){const i=Ba(e);return r?(cI("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ba(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ba(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class il{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ch(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $h(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=il.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new il(e,new Ay(e),t),i.set(t,s)),s}}il.INSTANCES=new WeakMap;class Br{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ay(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Br(t,new Ot(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Br(t,new Ot(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rc(this.firestore,GO(this._delegate,e))}catch(t){throw Bn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Ot?QO(this._delegate,e):!1}set(e,t){t=cI("DocumentReference.set",t);try{return t?aP(this._delegate,e,t):aP(this._delegate,e)}catch(r){throw Bn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?lP(this._delegate,e):lP(this._delegate,e,t,...r)}catch(i){throw Bn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Tq(this._delegate)}onSnapshot(...e){const t=mN(e),r=gN(e,i=>new jh(this.firestore,new Vs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return cN(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=_q(this._delegate):(e==null?void 0:e.source)==="server"?t=vq(this._delegate):t=yq(this._delegate),t.then(r=>new jh(this.firestore,new Vs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Br(this.firestore,e?this._delegate.withConverter(il.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bn(n,e,t){return n.message=n.message.replace(e,t),n}function mN(n){for(const e of n)if(typeof e=="object"&&!iE(e))return e;return{}}function gN(n,e){var t,r;let i;return iE(n[0])?i=n[0]:iE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class jh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Br(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uN(this._delegate,e._delegate)}}class $h extends jh{data(e){const t=this._delegate.data(e);return this._delegate._converter||b3(t!==void 0),t}}class $n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ay(e)}where(e,t,r){try{return new $n(this.firestore,wo(this._delegate,aq(e,t,r)))}catch(i){throw Bn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $n(this.firestore,wo(this._delegate,lq(e,t)))}catch(r){throw Bn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $n(this.firestore,wo(this._delegate,uq(e)))}catch(t){throw Bn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $n(this.firestore,wo(this._delegate,cq(e)))}catch(t){throw Bn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $n(this.firestore,wo(this._delegate,dq(...e)))}catch(t){throw Bn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $n(this.firestore,wo(this._delegate,hq(...e)))}catch(t){throw Bn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $n(this.firestore,wo(this._delegate,fq(...e)))}catch(t){throw Bn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $n(this.firestore,wo(this._delegate,pq(...e)))}catch(t){throw Bn(t,"endAt()","Query.endAt()")}}isEqual(e){return YO(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Eq(this._delegate):(e==null?void 0:e.source)==="server"?t=Iq(this._delegate):t=wq(this._delegate),t.then(r=>new sE(this.firestore,new qo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=mN(e),r=gN(e,i=>new sE(this.firestore,new qo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return cN(this._delegate,t,r)}withConverter(e){return new $n(this.firestore,e?this._delegate.withConverter(il.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class $q{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $h(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $n(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $h(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $q(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $h(this._firestore,r))})}isEqual(e){return uN(this._delegate,e._delegate)}}class rc extends $n{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Br(this.firestore,e):null}doc(e){try{return e===void 0?new Br(this.firestore,gg(this._delegate)):new Br(this.firestore,gg(this._delegate,e))}catch(t){throw Bn(t,"doc()","CollectionReference.doc()")}}add(e){return Sq(this._delegate,e).then(t=>new Br(this.firestore,t))}isEqual(e){return QO(this._delegate,e._delegate)}withConverter(e){return new rc(this.firestore,e?this._delegate.withConverter(il.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ba(n){return et(n,Ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(...e){this._delegate=new Wo(...e)}static documentId(){return new dI(St.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Wo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static serverTimestamp(){const e=Oq();return e._methodName="FieldValue.serverTimestamp",new Fa(e)}static delete(){const e=xq();return e._methodName="FieldValue.delete",new Fa(e)}static arrayUnion(...e){const t=Nq(...e);return t._methodName="FieldValue.arrayUnion",new Fa(t)}static arrayRemove(...e){const t=Dq(...e);return t._methodName="FieldValue.arrayRemove",new Fa(t)}static increment(e){const t=Lq(e);return t._methodName="FieldValue.increment",new Fa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq={Firestore:hN,GeoPoint:yy,Timestamp:At,Blob:dN,Transaction:fN,WriteBatch:pN,DocumentReference:Br,DocumentSnapshot:jh,Query:$n,QueryDocumentSnapshot:$h,QuerySnapshot:sE,CollectionReference:rc,FieldPath:dI,FieldValue:Fa,setLogLevel:jq,CACHE_SIZE_UNLIMITED:KW};function zq(n,e){n.INTERNAL.registerComponent(new Wr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Bq)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(n){zq(n,(e,t)=>new hN(e,t,new Uq)),n.registerVersion(Vq,Mq)}Wq(mc);const Ud={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},pu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function yN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hq=qq,Kq=yN,_N=new ts("auth","Firebase",yN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new tf("@firebase/auth");function Gq(n,...e){_g.logLevel<=Ue.WARN&&_g.warn(`Auth (${br}): ${n}`,...e)}function Om(n,...e){_g.logLevel<=Ue.ERROR&&_g.error(`Auth (${br}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n,...e){throw fI(n,...e)}function an(n,...e){return fI(n,...e)}function hI(n,e,t){const r=Object.assign(Object.assign({},Kq()),{[e]:t});return new ts("auth","Firebase",r).create(e,{appName:n.name})}function yn(n){return hI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&An(n,"argument-error"),hI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fI(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _N.create(n,...e)}function fe(n,e,...t){if(!n)throw fI(e,...t)}function $i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Om(e),new Error(e)}function pi(n,e){n||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pI(){return dP()==="http:"||dP()==="https:"}function dP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pI()||zE()||"connection"in navigator)?navigator.onLine:!0}function Yq(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile=Tk()||Kg()}get(){return Qq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n,e){pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=new Ef(3e4,6e4);function Ft(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ut(n,e,t,r,i={}){return wN(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=gi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return Rk()||(h.referrerPolicy="no-referrer"),vN.fetch()(EN(n,n.config.apiHost,t,u),h)})}async function wN(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jq),e);try{const i=new eH(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw eh(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw eh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw eh(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hI(n,m,h);An(n,m)}}catch(i){if(i instanceof gn)throw i;An(n,"network-request-failed",{message:String(i)})}}async function zs(n,e,t,r,i={}){const s=await Ut(n,e,t,r,i);return"mfaPendingCredential"in s&&An(n,"multi-factor-auth-required",{_serverResponse:s}),s}function EN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?mI(n.config,i):`${n.config.apiScheme}://${i}`}function Zq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),Xq.get())})}}function eh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=an(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n){return n!==void 0&&n.getResponse!==void 0}function fP(n){return n!==void 0&&n.enterprise!==void 0}class IN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(n){return(await Ut(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function TN(n,e){return Ut(n,"GET","/v2/recaptchaConfig",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH(n,e){return Ut(n,"POST","/v1/accounts:delete",e)}async function rH(n,e){return Ut(n,"POST","/v1/accounts:update",e)}async function SN(n,e){return Ut(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iH(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=by(r);fe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:dh(Gv(i.auth_time)),issuedAtTime:dh(Gv(i.iat)),expirationTime:dh(Gv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gv(n){return Number(n)*1e3}function by(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Om("JWT malformed, contained fewer than 3 sections"),null;try{const i=qg(t);return i?JSON.parse(i):(Om("Failed to decode base64 JWT payload"),null)}catch(i){return Om("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pP(n){const e=by(n);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof gn&&sH(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ms(n,SN(t,{idToken:r}));fe(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?RN(s.providerUserInfo):[],u=lH(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new oE(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function aH(n){const e=Ce(n);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RN(n){return n.map(e=>{var{providerId:t}=e,r=pc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH(n,e){const t=await wN(n,{},async()=>{const r=gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=EN(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",vN.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cH(n,e){return Ut(n,"POST","/v2/accounts:revokeToken",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const t=pP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await uH(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new ku;return r&&(fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ku,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(n,e){fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=pc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ms(this,this.stsTokenManager.getToken(this.auth,e));return fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iH(this,e)}reload(){return aH(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ge(this.auth.app))return Promise.reject(yn(this.auth));const e=await this.getIdToken();return await Ms(this,nH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,M=(h=t.createdAt)!==null&&h!==void 0?h:void 0,V=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:B,isAnonymous:$,providerData:W,stsTokenManager:L}=t;fe(F&&L,e,"internal-error");const A=ku.fromJSON(this.name,L);fe(typeof F=="string",e,"internal-error"),Eo(g,e.name),Eo(_,e.name),fe(typeof B=="boolean",e,"internal-error"),fe(typeof $=="boolean",e,"internal-error"),Eo(T,e.name),Eo(I,e.name),Eo(R,e.name),Eo(b,e.name),Eo(M,e.name),Eo(V,e.name);const C=new Rs({uid:F,auth:e,email:_,emailVerified:B,displayName:g,isAnonymous:$,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:A,createdAt:M,lastLoginAt:V});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new ku;i.updateFromServerResponse(t);const s=new Rs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?RN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new ku;u.updateFromIdToken(r);const d=new Rs({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Map;function Ir(n){pi(n instanceof Function,"Expected a class definition");let e=mP.get(n);return e?(pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AN.type="NONE";const ic=AN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(n,e,t){return`firebase:${n}:${e}:${t}`}class xu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ha(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ha("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new xu(Ir(ic),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ir(ic);const l=Ha(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Rs._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new xu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new xu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xN(e))return"Blackberry";if(ON(e))return"Webos";if(PN(e))return"Safari";if((e.includes("chrome/")||CN(e))&&!e.includes("edge/"))return"Chrome";if(If(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bN(n=We()){return/firefox\//i.test(n)}function PN(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CN(n=We()){return/crios\//i.test(n)}function kN(n=We()){return/iemobile/i.test(n)}function If(n=We()){return/android/i.test(n)}function xN(n=We()){return/blackberry/i.test(n)}function ON(n=We()){return/webos/i.test(n)}function Tf(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dH(n=We()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function hH(n=We()){var e;return Tf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fH(){return WE()&&document.documentMode===10}function NN(n=We()){return Tf(n)||If(n)||ON(n)||xN(n)||/windows phone/i.test(n)||kN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n,e=[]){let t;switch(n){case"Browser":t=gP(We());break;case"Worker":t=`${gP(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${br}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(n,e={}){return Ut(n,"GET","/v2/passwordPolicy",Ft(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=6;class yH{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:gH,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yP(this),this.idTokenSubscription=new yP(this),this.beforeStateQueue=new pH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await SN(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ge(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ge(this.app))return Promise.reject(yn(this));const t=e?Ce(e):null;return t&&fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ge(this.app)?Promise.reject(yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ge(this.app)?Promise.reject(yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mH(this),t=new yH(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ts("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;fe(t,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ge(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Gq(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Nt(n){return Ce(n)}class yP{constructor(e){this.auth=e,this.observer=null,this.addObserver=qE(t=>this.observer=t)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vH(n){Sf=n}function gI(n){return Sf.loadJS(n)}function wH(){return Sf.recaptchaV2Script}function EH(){return Sf.recaptchaEnterpriseScript}function IH(){return Sf.gapiScript}function LN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=500,SH=6e4,rm=1e12;class RH{constructor(e){this.auth=e,this.counter=rm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new PH(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||rm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||rm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||rm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class AH{constructor(){this.enterprise=new bH}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bH{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PH{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;fe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=CH(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},SH)},TH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function CH(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const kH="recaptcha-enterprise",hh="NO_RECAPTCHA";class VN{constructor(e){this.type=kH,this.auth=Nt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{TN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new IN(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;fP(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(hh)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AH().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&fP(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=EH();d.length!==0&&(d+=u),gI(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function jd(n,e,t,r=!1,i=!1){const s=new VN(n);let l;if(i)l=hh;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xo(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await jd(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await jd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await jd(n,e,t);return r(n,u).catch(async d=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await jd(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await jd(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function xH(n){const e=Nt(n),t=await TN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new IN(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new VN(e).verify()}function OH(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NH(n,e,t){const r=Nt(n);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=MN(e),{host:l,port:u}=DH(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LH()}function MN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DH(n){const e=MN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_P(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:_P(l)}}}function _P(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LH(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,t){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n,e){return Ut(n,"POST","/v1/accounts:resetPassword",Ft(n,e))}async function VH(n,e){return Ut(n,"POST","/v1/accounts:update",e)}async function MH(n,e){return Ut(n,"POST","/v1/accounts:signUp",e)}async function FH(n,e){return Ut(n,"POST","/v1/accounts:update",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UH(n,e){return zs(n,"POST","/v1/accounts:signInWithPassword",Ft(n,e))}async function Py(n,e){return Ut(n,"POST","/v1/accounts:sendOobCode",Ft(n,e))}async function jH(n,e){return Py(n,e)}async function $H(n,e){return Py(n,e)}async function BH(n,e){return Py(n,e)}async function zH(n,e){return Py(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(n,e){return zs(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))}async function qH(n,e){return zs(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Rc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Wh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Wh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xo(e,t,"signInWithPassword",UH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return WH(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xo(e,r,"signUpPassword",MH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return qH(e,{idToken:t,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(n,e){return zs(n,"POST","/v1/accounts:signInWithIdp",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH="http://localhost";class Xi extends Rc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):An("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=pc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Xi(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}buildRequest(){const e={requestUri:HH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gi(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(n,e){return Ut(n,"POST","/v1/accounts:sendVerificationCode",Ft(n,e))}async function KH(n,e){return zs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e))}async function GH(n,e){const t=await zs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e));if(t.temporaryProof)throw eh(n,"account-exists-with-different-credential",t);return t}const QH={USER_NOT_FOUND:"user-not-found"};async function YH(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return zs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,t),QH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Rc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ka({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ka({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return KH(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return GH(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return YH(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Ka({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XH(n){const e=hi(Fi(n)).link,t=e?hi(Fi(e)).deep_link_id:null,r=hi(Fi(n)).deep_link_id;return(r?hi(Fi(r)).link:null)||r||t||e||n}class Cy{constructor(e){var t,r,i,s,l,u;const d=hi(Fi(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=JH((i=d.mode)!==null&&i!==void 0?i:null);fe(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=XH(e);try{return new Cy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,t){return Wh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Cy.parseLink(t);return fe(r,"argument-error"),Wh._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Ws{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ou extends Ac{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return fe("providerId"in t&&"signInMethod"in t,"argument-error"),Xi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return fe(e.idToken||e.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ou.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ou.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new Ou(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Ac{constructor(){super("facebook.com")}static credential(e){return Xi._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ac{constructor(){super("github.com")}static credential(e){return Xi._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="http://localhost";class sc extends Rc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new sc(r,s)}static _create(e,t){return new sc(e,t)}buildRequest(){return{requestUri:ZH,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="saml.";class vg extends Ws{constructor(e){fe(e.startsWith(e8),"argument-error"),super(e)}static credentialFromResult(e){return vg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=sc.fromJSON(e);return fe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return sc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ac{constructor(){super("twitter.com")}static credential(e,t){return Xi._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,e){return zs(n,"POST","/v1/accounts:signUp",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),l=wP(r);return new qr({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=wP(r);return new qr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function wP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(n){var e;if(Ge(n.app))return Promise.reject(yn(n));const t=Nt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new qr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await UN(t,{returnSecureToken:!0}),i=await qr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends gn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new wg(e,t,r,i)}}function jN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wg._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(n,e){const t=Ce(n);await ky(!0,t,e);const{providerUserInfo:r}=await rH(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=$N(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function yI(n,e,t=!1){const r=await Ms(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qr._forOperation(n,"link",r)}async function ky(n,e,t){await zh(e);const r=$N(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";fe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(n,e,t=!1){const{auth:r}=n;if(Ge(r.app))return Promise.reject(yn(r));const i="reauthenticate";try{const s=await Ms(n,jN(r,i,e,n),t);fe(s.idToken,r,"internal-error");const l=by(s.idToken);fe(l,r,"internal-error");const{sub:u}=l;return fe(n.uid===u,r,"user-mismatch"),qr._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&An(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(n,e,t=!1){if(Ge(n.app))return Promise.reject(yn(n));const r="signIn",i=await jN(n,r,e),s=await qr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function xy(n,e){return zN(Nt(n),e)}async function WN(n,e){const t=Ce(n);return await ky(!1,t,e.providerId),yI(t,e)}async function qN(n,e){return BN(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(n,e){return zs(n,"POST","/v1/accounts:signInWithCustomToken",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(n,e){if(Ge(n.app))return Promise.reject(yn(n));const t=Nt(n),r=await r8(t,{token:e,returnSecureToken:!0}),i=await qr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?_I._fromServerResponse(e,t):"totpInfo"in t?vI._fromServerResponse(e,t):An(e,"internal-error")}}class _I extends Rf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new _I(t)}}class vI extends Rf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new vI(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e,t){var r;fe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),fe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),fe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(fe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(fe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(n){const e=Nt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function s8(n,e,t){const r=Nt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Oy(r,i,t),await xo(r,i,"getOobCode",$H,"EMAIL_PASSWORD_PROVIDER")}async function o8(n,e,t){await FN(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wI(n),r})}async function a8(n,e){await FH(Ce(n),{oobCode:e})}async function HN(n,e){const t=Ce(n),r=await FN(t,{oobCode:e}),i=r.requestType;switch(fe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(r.mfaInfo,t,"internal-error");default:fe(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=Rf._fromServerResponse(Nt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function l8(n,e){const{data:t}=await HN(Ce(n),e);return t.email}async function u8(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Nt(n),l=await xo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UN,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&wI(n),d}),u=await qr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function c8(n,e,t){return Ge(n.app)?Promise.reject(yn(n)):xy(Ce(n),ta.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(n,e,t){const r=Nt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){fe(u.handleCodeInApp,r,"argument-error"),u&&Oy(r,l,u)}s(i,t),await xo(r,i,"getOobCode",BH,"EMAIL_PASSWORD_PROVIDER")}function h8(n,e){const t=Cy.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function f8(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Ce(n),i=ta.credentialWithLink(e,t||Bh());return fe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),xy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(n,e){return Ut(n,"POST","/v1/accounts:createAuthUri",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(n,e){const t=pI()?Bh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await p8(Ce(n),r);return i||[]}async function g8(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Oy(t.auth,i,e);const{email:s}=await jH(t.auth,i);s!==n.email&&await n.reload()}async function y8(n,e,t){const r=Ce(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Oy(r.auth,s,t);const{email:l}=await zH(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _8(n,e){return Ut(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ms(r,_8(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function w8(n,e){const t=Ce(n);return Ge(t.auth.app)?Promise.reject(yn(t.auth)):KN(t,e,null)}function E8(n,e){return KN(Ce(n),null,e)}async function KN(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await Ms(n,VH(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=by(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Nu(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new T8(s,i);case"github.com":return new S8(s,i);case"google.com":return new R8(s,i);case"twitter.com":return new A8(s,i,n.screenName||null);case"custom":case"anonymous":return new Nu(s,null);default:return new Nu(s,r,i)}}class Nu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class GN extends Nu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class T8 extends Nu{constructor(e,t){super(e,"facebook.com",t)}}class S8 extends GN{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class R8 extends Nu{constructor(e,t){super(e,"google.com",t)}}class A8 extends GN{constructor(e,t,r){super(e,"twitter.com",t,r)}}function b8(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:I8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new za("enroll",e,t)}static _fromMfaPendingCredential(e){return new za("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return za._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return za._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Nt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>Rf._fromServerResponse(r,u));fe(i.mfaPendingCredential,r,"internal-error");const l=za._fromMfaPendingCredential(i.mfaPendingCredential);return new EI(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await qr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return fe(t.user,r,"internal-error"),qr._forOperation(t.user,t.operationType,h);default:An(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function P8(n,e){var t;const r=Ce(n),i=e;return fe(e.customData.operationType,r,"argument-error"),fe((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),EI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n,e){return Ut(n,"POST","/v2/accounts/mfaEnrollment:start",Ft(n,e))}function C8(n,e){return Ut(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(n,e))}function k8(n,e){return Ut(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(n,e))}class II{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Rf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new II(e)}async getSession(){return za._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await Ms(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ms(this.user,k8(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Qv=new WeakMap;function x8(n){const e=Ce(n);return Qv.has(e)||Qv.set(e,II._fromUser(e)),Qv.get(e)}const Eg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Eg,"1"),this.storage.removeItem(Eg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=1e3,N8=10;class YN extends QN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);fH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N8):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},O8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}YN.type="LOCAL";const TI=YN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends QN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JN.type="SESSION";const sl=JN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await D8(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ny.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=Af("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return window}function V8(n){Yt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof Yt().WorkerGlobalScope<"u"&&typeof Yt().importScripts=="function"}async function M8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function U8(){return SI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebaseLocalStorageDb",j8=1,Ig="firebaseLocalStorage",ZN="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dy(n,e){return n.transaction([Ig],e?"readwrite":"readonly").objectStore(Ig)}function $8(){const n=indexedDB.deleteDatabase(XN);return new bf(n).toPromise()}function aE(){const n=indexedDB.open(XN,j8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ig,{keyPath:ZN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ig)?e(r):(r.close(),await $8(),e(await aE()))})})}async function IP(n,e,t){const r=Dy(n,!0).put({[ZN]:e,value:t});return new bf(r).toPromise()}async function B8(n,e){const t=Dy(n,!1).get(e),r=await new bf(t).toPromise();return r===void 0?null:r.value}function TP(n,e){const t=Dy(n,!0).delete(e);return new bf(t).toPromise()}const z8=800,W8=3;class eD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>W8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ny._getInstance(U8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await M8(),!this.activeServiceWorker)return;this.sender=new L8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aE();return await IP(e,Eg,"1"),await TP(e,Eg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>IP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>B8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Dy(i,!1).getAll();return new bf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eD.type="LOCAL";const qh=eD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e){return Ut(n,"POST","/v2/accounts/mfaSignIn:start",Ft(n,e))}function q8(n,e){return Ut(n,"POST","/v2/accounts/mfaSignIn:finalize",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=LN("rcb"),H8=new Ef(3e4,6e4);class K8{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Yt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return fe(G8(t),e,"argument-error"),this.shouldResolveImmediately(t)&&hP(Yt().grecaptcha)?Promise.resolve(Yt().grecaptcha):new Promise((r,i)=>{const s=Yt().setTimeout(()=>{i(an(e,"network-request-failed"))},H8.get());Yt()[Yv]=()=>{Yt().clearTimeout(s),delete Yt()[Yv];const u=Yt().grecaptcha;if(!u||!hP(u)){i(an(e,"internal-error"));return}const d=u.render;u.render=(h,m)=>{const g=d(h,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${wH()}?${gi({onload:Yv,render:"explicit",hl:t})}`;gI(l).catch(()=>{clearTimeout(s),i(an(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Yt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function G8(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class Q8{async load(e){return new RH(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="recaptcha",Y8={theme:"light",type:"image"};let J8=class{constructor(e,t,r=Object.assign({},Y8)){this.parameters=r,this.type=fh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nt(e),this.isInvisible=this.parameters.size==="invisible",fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;fe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Q8:new K8,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Yt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){fe(pI()&&!SI(),this.auth,"internal-error"),await X8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await tH(this.auth);fe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function X8(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ka._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Z8(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Nt(n),i=await Ly(r,e,Ce(t));return new RI(i,s=>xy(r,s))}async function eK(n,e,t){const r=Ce(n);await ky(!1,r,"phone");const i=await Ly(r.auth,e,Ce(t));return new RI(i,s=>WN(r,s))}async function tK(n,e,t){const r=Ce(n);if(Ge(r.auth.app))return Promise.reject(yn(r.auth));const i=await Ly(r.auth,e,Ce(t));return new RI(i,s=>qN(r,s))}async function Ly(n,e,t){var r;if(!n._getRecaptchaConfig())try{await xH(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){fe(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await xo(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===hh){fe((t==null?void 0:t.type)===fh,m,"argument-error");const _=await Jv(m,g,t);return EP(m,_)}return EP(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{fe(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;fe(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await xo(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===hh){fe((t==null?void 0:t.type)===fh,g,"argument-error");const T=await Jv(g,_,t);return SP(g,T)}return SP(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await xo(n,s,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===hh){fe((t==null?void 0:t.type)===fh,h,"argument-error");const g=await Jv(h,m,t);return vP(h,g)}return vP(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function nK(n,e){const t=Ce(n);if(Ge(t.auth.app))return Promise.reject(yn(t.auth));await yI(t,e)}async function Jv(n,e,t){fe(t.type===fh,n,"argument-error");const r=await t.verify();fe(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol=class Nm{constructor(e){this.providerId=Nm.PROVIDER_ID,this.auth=Nt(e)}verifyPhoneNumber(e,t){return Ly(this.auth,e,Ce(t))}static credential(e,t){return Ka._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Nm.credentialFromTaggedObject(t)}static credentialFromError(e){return Nm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ka._fromTokenResponse(t,r):null}};ol.PROVIDER_ID="phone";ol.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n,e){return e?Ir(e):(fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI extends Rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rK(n){return zN(n.auth,new AI(n),n.bypassAuthState)}function iK(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),BN(t,new AI(n),n.bypassAuthState)}async function sK(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),yI(t,new AI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rK;case"linkViaPopup":case"linkViaRedirect":return sK;case"reauthViaPopup":case"reauthViaRedirect":return iK;default:An(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=new Ef(2e3,1e4);async function aK(n,e,t){if(Ge(n.app))return Promise.reject(an(n,"operation-not-supported-in-this-environment"));const r=Nt(n);Sc(n,e,Ws);const i=fl(r,t);return new As(r,"signInViaPopup",e,i).executeNotNull()}async function lK(n,e,t){const r=Ce(n);if(Ge(r.auth.app))return Promise.reject(an(r.auth,"operation-not-supported-in-this-environment"));Sc(r.auth,e,Ws);const i=fl(r.auth,t);return new As(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function uK(n,e,t){const r=Ce(n);Sc(r.auth,e,Ws);const i=fl(r.auth,t);return new As(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class As extends tD{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Af();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oK.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="pendingRedirect",ph=new Map;class dK extends tD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await hK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hK(n,e){const t=rD(e),r=nD(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function bI(n,e){return nD(n)._set(rD(e),"true")}function fK(){ph.clear()}function PI(n,e){ph.set(n._key(),e)}function nD(n){return Ir(n._redirectPersistence)}function rD(n){return Ha(cK,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(n,e,t){return mK(n,e,t)}async function mK(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Nt(n);Sc(n,e,Ws),await r._initializationPromise;const i=fl(r,t);return await bI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function gK(n,e,t){return yK(n,e,t)}async function yK(n,e,t){const r=Ce(n);if(Sc(r.auth,e,Ws),Ge(r.auth.app))return Promise.reject(yn(r.auth));await r.auth._initializationPromise;const i=fl(r.auth,t);await bI(i,r.auth);const s=await iD(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function _K(n,e,t){return vK(n,e,t)}async function vK(n,e,t){const r=Ce(n);Sc(r.auth,e,Ws),await r.auth._initializationPromise;const i=fl(r.auth,t);await ky(!1,r,e.providerId),await bI(i,r.auth);const s=await iD(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function wK(n,e){return await Nt(n)._initializationPromise,Vy(n,e,!1)}async function Vy(n,e,t=!1){if(Ge(n.app))return Promise.reject(yn(n));const r=Nt(n),i=fl(r,e),l=await new dK(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function iD(n){const e=Af(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK=10*60*1e3;class sD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IK(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(an(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EK&&this.cachedEventUids.clear(),this.cachedEventUids.has(RP(e))}saveEventToCache(e){this.cachedEventUids.add(RP(e)),this.lastProcessedEventTime=Date.now()}}function RP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IK(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e={}){return Ut(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SK=/^https?/;async function RK(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aD(n);for(const t of e)try{if(AK(t))return}catch{}An(n,"unauthorized-domain")}function AK(n){const e=Bh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!SK.test(t))return!1;if(TK.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=new Ef(3e4,6e4);function AP(){const n=Yt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PK(n){return new Promise((e,t)=>{var r,i,s;function l(){AP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AP(),t(an(n,"network-request-failed"))},timeout:bK.get()})}if(!((i=(r=Yt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yt().gapi)===null||s===void 0)&&s.load)l();else{const u=LN("iframefcb");return Yt()[u]=()=>{gapi.load?l():t(an(n,"network-request-failed"))},gI(`${IH()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Dm=null,e})}let Dm=null;function CK(n){return Dm=Dm||PK(n),Dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=new Ef(5e3,15e3),xK="__/auth/iframe",OK="emulator/auth/iframe",NK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LK(n){const e=n.config;fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mI(e,OK):`https://${n.config.authDomain}/${xK}`,r={apiKey:e.apiKey,appName:n.name,v:br},i=DK.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${gi(r).slice(1)}`}async function VK(n){const e=await CK(n),t=Yt().gapi;return fe(t,n,"internal-error"),e.open({where:document.body,url:LK(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=an(n,"network-request-failed"),u=Yt().setTimeout(()=>{s(l)},kK.get());function d(){Yt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FK=500,UK=600,jK="_blank",$K="http://localhost";class bP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BK(n,e,t,r=FK,i=UK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},MK),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=CN(h)?jK:t),bN(h)&&(e=e||$K,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(hH(h)&&u!=="_self")return zK(e||"",u),new bP(null);const g=window.open(e||"",u,m);fe(g,n,"popup-blocked");try{g.focus()}catch{}return new bP(g)}function zK(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK="__/auth/handler",qK="emulator/auth/handler",HK=encodeURIComponent("fac");async function lE(n,e,t,r,i,s){fe(n.config.authDomain,n,"auth-domain-config-required"),fe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:br,eventId:i};if(e instanceof Ws){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",bk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))l[m]=g}if(e instanceof Ac){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${HK}=${encodeURIComponent(d)}`:"";return`${KK(n)}?${gi(u).slice(1)}${h}`}function KK({config:n}){return n.emulator?mI(n,qK):`https://${n.authDomain}/${WK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="webStorageSupport";class GK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sl,this._completeRedirectFn=Vy,this._overrideRedirectResult=PI}async _openPopup(e,t,r,i){var s;pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await lE(e,t,r,Bh(),i);return BK(e,l,Af())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await lE(e,t,r,Bh(),i);return V8(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(pi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await VK(e),r=new sD(e);return t.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xv,{type:Xv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xv];l!==void 0&&t(!!l),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RK(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NN()||PN()||Tf()}}const QK=GK;class YK{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return $i("unexpected MultiFactorSessionType")}}}class CI extends YK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new CI(e)}_finalizeEnroll(e,t,r){return C8(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return q8(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lD{constructor(){}static assertion(e){return CI._fromCredential(e)}}lD.FACTOR_ID="phone";var PP="@firebase/auth",CP="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZK(n){Gi(new Wr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DN(n)},h=new _H(r,i,s,d);return OH(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gi(new Wr("auth-internal",e=>{const t=Nt(e.getProvider("auth").getImmediate());return(r=>new JK(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(PP,CP,XK(n)),or(PP,CP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=5*60;$E("authIdTokenMaxAge");function tG(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vH({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=an("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",tG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZK("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=2e3;async function rG(n,e,t){var r;const{BuildInfo:i}=al();pi(e.sessionId,"AuthEvent did not contain a session ID");const s=await lG(e.sessionId),l={};return Tf()?l.ibi=i.packageName:If()?l.apn=i.packageName:An(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,lE(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function iG(n){const{BuildInfo:e}=al(),t={};Tf()?t.iosBundleId=e.packageName:If()?t.androidPackageName=e.packageName:An(n,"operation-not-supported-in-this-environment"),await aD(n,t)}function sG(n){const{cordova:e}=al();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,dH()?"_blank":"_system","location=yes"),t(i)})})}async function oG(n,e,t){const{cordova:r}=al();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var g;s();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){u||(u=window.setTimeout(()=>{l(an(n,"redirect-cancelled-by-user"))},nG))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),If()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function aG(n){var e,t,r,i,s,l,u,d,h,m;const g=al();fe(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function lG(n){const e=uG(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function uG(n){if(pi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=20;class dG extends sD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function hG(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:mG(),postBody:null,tenantId:n.tenantId,error:an(n,"no-auth-event")}}function fG(n,e){return uE()._set(cE(n),e)}async function kP(n){const e=await uE()._get(cE(n));return e&&await uE()._remove(cE(n)),e}function pG(n,e){var t,r;const i=yG(e);if(i.includes("/__/auth/callback")){const s=Lm(i),l=s.firebaseError?gG(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?an(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function mG(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<cG;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function uE(){return Ir(TI)}function cE(n){return Ha("authEvent",n.config.apiKey,n.name)}function gG(n){try{return JSON.parse(n)}catch{return null}}function yG(n){const e=Lm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Lm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Lm(i).link||i||r||t||n}function Lm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return hi(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=500;class vG{constructor(){this._redirectPersistence=sl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vy,this._overrideRedirectResult=PI}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new dG(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){An(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){aG(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),fK(),await this._originValidation(e);const l=hG(e,r,i);await fG(e,l);const u=await rG(e,l,t),d=await sG(u);return oG(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iG(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=al(),l=setTimeout(async()=>{await kP(e),t.onEvent(xP())},_G),u=async m=>{clearTimeout(l);const g=await kP(e);let _=null;g&&(m!=null&&m.url)&&(_=pG(g,m.url)),t.onEvent(_||xP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,h=`${s.packageName.toLowerCase()}://`;al().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const wG=vG;function xP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:an("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(n,e){Nt(n)._logFramework(e)}var IG="@firebase/auth-compat",TG="0.5.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=1e3;function mh(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function RG(){return mh()==="http:"||mh()==="https:"}function uD(n=We()){return!!((mh()==="file:"||mh()==="ionic:"||mh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function AG(){return Kg()||BE()}function bG(){return WE()&&(document==null?void 0:document.documentMode)===11}function PG(n=We()){return/Edge\/\d+/.test(n)}function CG(n=We()){return bG()||PG(n)}function cD(){try{const n=self.localStorage,e=Af();if(n)return n.setItem(e,"1"),n.removeItem(e),CG()?Ih():!0}catch{return kI()&&Ih()}return!1}function kI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zv(){return(RG()||zE()||uD())&&!AG()&&cD()&&!kI()}function dD(){return uD()&&typeof document<"u"}async function kG(){return dD()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},SG);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function xG(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={LOCAL:"local",NONE:"none",SESSION:"session"},$d=fe,hD="persistence";function OG(n,e){if($d(Object.values(wr).includes(e),n,"invalid-persistence-type"),Kg()){$d(e!==wr.SESSION,n,"unsupported-persistence-type");return}if(BE()){$d(e===wr.NONE,n,"unsupported-persistence-type");return}if(kI()){$d(e===wr.NONE||e===wr.LOCAL&&Ih(),n,"unsupported-persistence-type");return}$d(e===wr.NONE||cD(),n,"unsupported-persistence-type")}async function dE(n){await n._initializationPromise;const e=fD(),t=Ha(hD,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function NG(n,e){const t=fD();if(!t)return[];const r=Ha(hD,n,e);switch(t.getItem(r)){case wr.NONE:return[ic];case wr.LOCAL:return[qh,sl];case wr.SESSION:return[sl];default:return[]}}function fD(){var n;try{return((n=xG())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=fe;class Ao{constructor(){this.browserResolver=Ir(QK),this.cordovaResolver=Ir(wG),this.underlyingResolver=null,this._redirectPersistence=sl,this._completeRedirectFn=Vy,this._overrideRedirectResult=PI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return dD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return DG(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await kG();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n){return n.unwrap()}function LG(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(n){return mD(n)}function MG(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new FG(n,P8(n,e))}else if(r){const i=mD(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function mD(n){const{_tokenResponse:e}=n instanceof gn?n.customData:n;if(!e)return null;if(!(n instanceof gn)&&"temporaryProof"in e&&"phoneNumber"in e)return ol.credentialFromResult(n);const t=e.providerId;if(!t||t===Ud.PASSWORD)return null;let r;switch(t){case Ud.GOOGLE:r=Li;break;case Ud.FACEBOOK:r=Di;break;case Ud.GITHUB:r=Vi;break;case Ud.TWITTER:r=Mi;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?sc._create(t,u):Xi._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new Ou(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof gn?r.credentialFromError(n):r.credentialFromResult(n)}function tr(n,e){return e.catch(t=>{throw t instanceof gn&&MG(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:VG(t),additionalUserInfo:b8(t),user:bs.getOrCreate(i)}})}async function hE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>tr(n,t.confirm(r))}}class FG{constructor(e,t){this.resolver=t,this.auth=LG(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tr(pD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._delegate=e,this.multiFactor=x8(e)}static getOrCreate(e){return bs.USER_MAP.has(e)||bs.USER_MAP.set(e,new bs(e)),bs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tr(this.auth,WN(this._delegate,e))}async linkWithPhoneNumber(e,t){return hE(this.auth,eK(this._delegate,e,t))}async linkWithPopup(e){return tr(this.auth,uK(this._delegate,e,Ao))}async linkWithRedirect(e){return await dE(Nt(this.auth)),_K(this._delegate,e,Ao)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tr(this.auth,qN(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return hE(this.auth,tK(this._delegate,e,t))}reauthenticateWithPopup(e){return tr(this.auth,lK(this._delegate,e,Ao))}async reauthenticateWithRedirect(e){return await dE(Nt(this.auth)),gK(this._delegate,e,Ao)}sendEmailVerification(e){return g8(this._delegate,e)}async unlink(e){return await n8(this._delegate,e),this}updateEmail(e){return w8(this._delegate,e)}updatePassword(e){return E8(this._delegate,e)}updatePhoneNumber(e){return nK(this._delegate,e)}updateProfile(e){return v8(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return y8(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=fe;let fE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Bd(r,"invalid-api-key",{appName:e.name}),Bd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ao:void 0;this._delegate=t.initialize({options:{persistence:UG(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Hq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){NH(this._delegate,e,t)}applyActionCode(e){return a8(this._delegate,e)}checkActionCode(e){return HN(this._delegate,e)}confirmPasswordReset(e,t){return o8(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return tr(this._delegate,u8(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return m8(this._delegate,e)}isSignInWithEmailLink(e){return h8(this._delegate,e)}async getRedirectResult(){Bd(Zv(),this._delegate,"operation-not-supported-in-this-environment");const e=await wK(this._delegate,Ao);return e?tr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){EG(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=OP(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=OP(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return d8(this._delegate,e,t)}sendPasswordResetEmail(e,t){return s8(this._delegate,e,t||void 0)}async setPersistence(e){OG(this._delegate,e);let t;switch(e){case wr.SESSION:t=sl;break;case wr.LOCAL:t=await Ir(qh)._isAvailable()?qh:TI;break;case wr.NONE:t=ic;break;default:return An("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tr(this._delegate,t8(this._delegate))}signInWithCredential(e){return tr(this._delegate,xy(this._delegate,e))}signInWithCustomToken(e){return tr(this._delegate,i8(this._delegate,e))}signInWithEmailAndPassword(e,t){return tr(this._delegate,c8(this._delegate,e,t))}signInWithEmailLink(e,t){return tr(this._delegate,f8(this._delegate,e,t))}signInWithPhoneNumber(e,t){return hE(this._delegate,Z8(this._delegate,e,t))}async signInWithPopup(e){return Bd(Zv(),this._delegate,"operation-not-supported-in-this-environment"),tr(this._delegate,aK(this._delegate,e,Ao))}async signInWithRedirect(e){return Bd(Zv(),this._delegate,"operation-not-supported-in-this-environment"),await dE(this._delegate),pK(this._delegate,e,Ao)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return l8(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};fE.Persistence=wr;function OP(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&bs.getOrCreate(l)),error:e,complete:t}}function UG(n,e){const t=NG(n,e);if(typeof self<"u"&&!t.includes(qh)&&t.push(qh),typeof window<"u")for(const r of[TI,sl])t.includes(r)||t.push(r);return t.includes(ic)||t.push(ic),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{static credential(e,t){return ol.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new ol(pD(mc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}xI.PHONE_SIGN_IN_METHOD=ol.PHONE_SIGN_IN_METHOD;xI.PROVIDER_ID=ol.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=fe;class $G{constructor(e,t,r=mc.app()){var i;jG((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new J8(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG="auth-compat";function zG(n){n.INTERNAL.registerComponent(new Wr(BG,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new fE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pu.EMAIL_SIGNIN,PASSWORD_RESET:pu.PASSWORD_RESET,RECOVER_EMAIL:pu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:pu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:pu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:pu.VERIFY_EMAIL}},EmailAuthProvider:ta,FacebookAuthProvider:Di,GithubAuthProvider:Vi,GoogleAuthProvider:Li,OAuthProvider:Ou,SAMLAuthProvider:vg,PhoneAuthProvider:xI,PhoneMultiFactorGenerator:lD,RecaptchaVerifier:$G,TwitterAuthProvider:Mi,Auth:fE,AuthCredential:Rc,Error:gn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(IG,TG)}zG(mc);const WG={apiKey:"AIzaSyCF_8gj1JbhNho6TUan15ofjwAtmwM6wDA",authDomain:"clone-acedc.firebaseapp.com",projectId:"clone-acedc",storageBucket:"clone-acedc.firebasestorage.app",messagingSenderId:"57259893524",appId:"1:57259893524:web:d3e96c65f4818a40829801"},gD=mc.initializeApp(WG),Tg=m3(gD),yD=gD.firestore();function qG(){var i;const[{user:n,basket:e},t]=K.useContext(Fs),r=e==null?void 0:e.reduce((s,l)=>l.amount+s,0);return N.jsxs("section",{className:ws.fixed,children:[N.jsx("section",{children:N.jsxs("div",{className:ws.header__container,children:[N.jsxs("div",{className:ws.logo__container,children:[N.jsx(di,{to:"/",children:N.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),N.jsxs("div",{className:ws.delivery,children:[N.jsx("span",{children:N.jsx(w4,{})}),N.jsxs("div",{children:[N.jsx("p",{children:"Deliver to"}),N.jsx("span",{children:"Ethiopia"})]})]})]}),N.jsxs("div",{className:ws.search,children:[N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:"All"})}),N.jsx("input",{type:"text"}),N.jsx(E4,{size:38})]}),N.jsxs("div",{className:ws.order__container,children:[N.jsxs(di,{to:"",className:ws.language,children:[N.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:"EN"})})]}),N.jsx(di,{to:!n&&"/auth",children:N.jsx("div",{children:n?N.jsxs(N.Fragment,{children:[N.jsxs("p",{children:["Hello ",(i=n.email)==null?void 0:i.split("@")[0]]}),N.jsx("span",{onClick:()=>Tg.signOut(),children:"Sign Out"})]}):N.jsxs(N.Fragment,{children:[N.jsx("p",{children:" Hello, Sign In"}),N.jsx("span",{children:"Account & Lists"})]})})}),N.jsxs(di,{to:"/orders",children:[N.jsx("p",{children:"returns"}),N.jsx("span",{children:"& Orders"})]}),N.jsxs(di,{to:"/cart",className:ws.cart,children:[N.jsx(I4,{size:35}),N.jsx("span",{children:r})]})]})]})}),N.jsx(S4,{})]})}function bc({children:n}){return N.jsxs("div",{children:[N.jsx(qG,{}),n]})}const HG="_footer__container_i5212_3",KG="_back_to_top_i5212_15",GG="_footer_links_i5212_61",QG="_footer_column_i5212_79",YG="_footer_bottom_container_i5212_135",JG="_footer_logo_i5212_149",XG="_language_country_i5212_171",ZG="_language_dropdown_i5212_189",e7="_country_dropdown_i5212_189",t7="_footer_bottom_i5212_135",yr={footer__container:HG,back_to_top:KG,footer_links:GG,footer_column:QG,footer_bottom_container:YG,footer_logo:JG,language_country:XG,language_dropdown:ZG,country_dropdown:e7,footer_bottom:t7};function n7(){const n=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};return N.jsxs("section",{className:yr.footer__container,children:[N.jsx("div",{className:yr.back_to_top,children:N.jsx("p",{onClick:n,children:"Back to top"})}),N.jsxs("div",{className:yr.footer_links,children:[N.jsxs("div",{className:yr.footer_column,children:[N.jsx("h4",{children:"Get to Know Us"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"#",children:"Careers"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Newsletter"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"About Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Accessibility"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Sustainability"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Press Center"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Investor Relations"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Devices"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Science"})})]})]}),N.jsxs("div",{className:yr.footer_column,children:[N.jsx("h4",{children:"Make Money with Us"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"#",children:"Sell on Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Sell apps on Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Supply to Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Protect & Build Your Brand"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Become an Affiliate"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Become a Delivery Driver"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Start a Package Delivery Business"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Advertise Your Products"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Self-Publish with Us"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Become an Amazon Hub Partner"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"See More Ways to Make Money"})})]})]}),N.jsxs("div",{className:yr.footer_column,children:[N.jsx("h4",{children:"Amazon Payment Products"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Visa"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Store Card"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Secured Card"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Business Card"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Shop with Points"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Reload Your Balance"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Gift Cards"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Currency Converter"})})]})]}),N.jsxs("div",{className:yr.footer_column,children:[N.jsx("h4",{children:"Let Us Help You"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon and COVID-19"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Your Account"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Your Orders"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Shipping Rates & Policies"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Prime"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Returns & Replacements"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Manage Your Content and Devices"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Recalls and Product Safety Alerts"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Registry & Gift List"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Help"})})]})]})]}),N.jsxs("div",{className:yr.footer_bottom_container,children:[N.jsx("div",{className:yr.footer_logo,children:N.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo"})}),N.jsxs("div",{className:yr.language_country,children:[N.jsxs("div",{className:yr.language_dropdown,children:[N.jsx("img",{src:"",alt:""}),N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:" English "})})]}),N.jsxs("div",{className:yr.country_dropdown,children:[N.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:" United States"})})]})]})]}),N.jsxs("div",{className:yr.footer_bottom,children:[N.jsx("p",{children:"Conditions of Use | Privacy Notice | Your Ads Privacy Choices"}),N.jsx("p",{children:" 1996-2025, Amazon.com, Inc. or its affiliates"})]})]})}function r7(){return N.jsxs(bc,{children:[N.jsx(NM,{}),N.jsx(FM,{}),N.jsx(r4,{}),N.jsx(n7,{})]})}const i7="_login_150lm_1",s7="_login_container_150lm_23",o7="_login_signInButton_150lm_93",a7="_login_registerButton_150lm_125",im={login:i7,login_container:s7,login_signInButton:o7,login_registerButton:a7};function l7(){var T,I;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,s]=K.useState(""),[l,u]=K.useState({signIn:!1,signUp:!1}),[{user:d},h]=K.useContext(Fs),m=Rg(),g=Ko(),_=async R=>{R.preventDefault(),console.log(R.target.name),R.target.name=="signin"?(u({...l,signIn:!0}),tz(Tg,n,t).then(b=>{var M;console.log(b),h({type:$r.SET_USER,user:b.user}),u({...l,signIn:!1}),m(((M=g==null?void 0:g.state)==null?void 0:M.redirect)||"/")}).catch(b=>{s(b.message),u({...l,signIn:!1})})):(u({...l,signUp:!0}),ez(Tg,n,t).then(b=>{var M;h({type:$r.SET_USER,user:b.user}),u({...l,signUp:!1}),m(((M=g==null?void 0:g.state)==null?void 0:M.redirect)||"/")}).catch(b=>{s(b.message),u({...l,signUp:!1})}))};return N.jsxs("section",{className:im.login,children:[N.jsx("div",{children:N.jsx(di,{to:"/",children:N.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:""})})}),N.jsxs("div",{className:im.login_container,children:[N.jsx("h1",{children:"Sign In"}),((T=g==null?void 0:g.state)==null?void 0:T.msg)&&N.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(I=g==null?void 0:g.state)==null?void 0:I.msg}),N.jsxs("form",{action:"",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"email",children:"Email"}),N.jsx("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email"})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"password",children:"Password"}),N.jsx("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password"})]}),N.jsx("button",{type:"submit",name:"signin",onClick:_,className:im.login_signInButton,children:l.signIn?N.jsx(yw,{color:"#fff",size:15}):"Sign In"})]}),N.jsxs("p",{children:["By signing-in you agree to the ",N.jsx("strong",{children:"AMAZON FAKE CLONE"}),"Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based AdsNotice."]}),N.jsx("button",{type:"submit",name:"signup",onClick:_,className:im.login_registerButton,children:l.signUp?N.jsx(yw,{color:"#fff",size:15}):"Create your Amazon Account"}),i&&N.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const u7="_payment__header_goq2f_1",c7="_flex_goq2f_21",d7="_payment__card__container_goq2f_49",h7="_payment__price_goq2f_63",f7="_payment__details_goq2f_57",p7="_loading_goq2f_103",vs={payment__header:u7,flex:c7,payment__card__container:d7,payment__price:h7,payment__details:f7,loading:p7};function NP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(t),!0).forEach(function(r){_D(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vm=function(e){return typeof e}:Vm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(n)}function _D(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vD(n,e){return m7(n)||g7(n,e)||y7(n,e)||_7()}function m7(n){if(Array.isArray(n))return n}function g7(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function y7(n,e){if(n){if(typeof n=="string")return LP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LP(n,e)}}function LP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _r=function(e,t,r){var i=!!r,s=Ke.useRef(r);Ke.useEffect(function(){s.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},pE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},oc=function(e){return e!==null&&Vm(e)==="object"},v7=function(e){return oc(e)&&typeof e.then=="function"},w7=function(e){return oc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},VP="[object Object]",E7=function n(e,t){if(!oc(e)||!oc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===VP,l=Object.prototype.toString.call(t)===VP;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var g=0;g<d.length;g+=1)h[d[g]]=!0;var _=Object.keys(h);if(_.length!==u.length)return!1;var T=e,I=t,R=function(M){return n(T[M],I[M])};return _.every(R)},wD=function(e,t,r){return oc(e)?Object.keys(e).reduce(function(i,s){var l=!oc(t)||!E7(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?DP(DP({},i||{}),{},_D({},s,e[s])):i},null):null},ED="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",MP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ED;if(e===null||w7(e))return e;throw new Error(t)},I7=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ED;if(v7(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return MP(i,t)})};var r=MP(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},T7=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},My=Ke.createContext(null);My.displayName="ElementsContext";var ID=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},TD=function(e){var t=e.stripe,r=e.options,i=e.children,s=Ke.useMemo(function(){return I7(t)},[t]),l=Ke.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=vD(l,2),d=u[0],h=u[1];Ke.useEffect(function(){var _=!0,T=function(R){h(function(b){return b.stripe?b:{stripe:R,elements:R.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(I){I&&_&&T(I)}):s.tag==="sync"&&!d.stripe&&T(s.stripe),function(){_=!1}},[s,d,r]);var m=pE(t);Ke.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=pE(r);return Ke.useEffect(function(){if(d.elements){var _=wD(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),Ke.useEffect(function(){T7(d.stripe)},[d.stripe]),Ke.createElement(My.Provider,{value:d},i)};TD.propTypes={stripe:kt.any,options:kt.object};var S7=function(e){var t=Ke.useContext(My);return ID(t,e)},R7=function(){var e=S7("calls useElements()"),t=e.elements;return t};kt.func.isRequired;var SD=Ke.createContext(null);SD.displayName="CheckoutSdkContext";var A7=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},b7=Ke.createContext(null);b7.displayName="CheckoutContext";kt.any,kt.shape({clientSecret:kt.string.isRequired,elementsOptions:kt.object}).isRequired;var mE=function(e){var t=Ke.useContext(SD),r=Ke.useContext(My);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?A7(t,e):ID(r,e)},P7=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Xt=function(e,t){var r="".concat(P7(e),"Element"),i=function(d){var h=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,R=d.onReady,b=d.onChange,M=d.onEscape,V=d.onClick,F=d.onLoadError,B=d.onLoaderStart,$=d.onNetworksChange,W=d.onConfirm,L=d.onCancel,A=d.onShippingAddressChange,C=d.onShippingRateChange,E=mE("mounts <".concat(r,">")),x="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,O=Ke.useState(null),X=vD(O,2),U=X[0],me=X[1],oe=Ke.useRef(null),Z=Ke.useRef(null);_r(U,"blur",T),_r(U,"focus",I),_r(U,"escape",M),_r(U,"click",V),_r(U,"loaderror",F),_r(U,"loaderstart",B),_r(U,"networkschange",$),_r(U,"confirm",W),_r(U,"cancel",L),_r(U,"shippingaddresschange",A),_r(U,"shippingratechange",C),_r(U,"change",b);var pe;R&&(e==="expressCheckout"?pe=R:pe=function(){R(U)}),_r(U,"ready",pe),Ke.useLayoutEffect(function(){if(oe.current===null&&Z.current!==null&&(x||k)){var q=null;k?q=k.createElement(e,_):x&&(q=x.create(e,_)),oe.current=q,me(q),q&&q.mount(Z.current)}},[x,k,_]);var de=pE(_);return Ke.useEffect(function(){if(oe.current){var q=wD(_,de,["paymentRequest"]);q&&"update"in oe.current&&oe.current.update(q)}},[_,de]),Ke.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),Ke.createElement("div",{id:h,className:m,ref:Z})},s=function(d){mE("mounts <".concat(r,">"));var h=d.id,m=d.className;return Ke.createElement("div",{id:h,className:m})},l=t?s:i;return l.propTypes={id:kt.string,className:kt.string,onChange:kt.func,onBlur:kt.func,onFocus:kt.func,onReady:kt.func,onEscape:kt.func,onClick:kt.func,onLoadError:kt.func,onLoaderStart:kt.func,onNetworksChange:kt.func,onConfirm:kt.func,onCancel:kt.func,onShippingAddressChange:kt.func,onShippingRateChange:kt.func,options:kt.object},l.displayName=r,l.__elementType=e,l},Zt=typeof window>"u",C7=Ke.createContext(null);C7.displayName="EmbeddedCheckoutProviderContext";var k7=function(){var e=mE("calls useStripe()"),t=e.stripe;return t};Xt("auBankAccount",Zt);var FP=Xt("card",Zt);Xt("cardNumber",Zt);Xt("cardExpiry",Zt);Xt("cardCvc",Zt);Xt("fpxBank",Zt);Xt("iban",Zt);Xt("idealBank",Zt);Xt("p24Bank",Zt);Xt("epsBank",Zt);Xt("payment",Zt);Xt("expressCheckout",Zt);Xt("currencySelector",Zt);Xt("paymentRequestButton",Zt);Xt("linkAuthentication",Zt);Xt("address",Zt);Xt("shippingAddress",Zt);Xt("paymentMethodMessaging",Zt);Xt("affirmMessage",Zt);Xt("afterpayClearpayMessage",Zt);const x7=bt.create({baseURL:"https://api-5fub7s42ka-uc.a.run.app"});function O7(){const[{user:n,basket:e},t]=K.useContext(Fs),r=e==null?void 0:e.reduce((I,R)=>R.amount+I,0),i=e.reduce((I,R)=>R.price*R.amount+I,0),[s,l]=K.useState(null),[u,d]=K.useState(!1),h=k7(),m=R7(),g=Rg(),_=I=>{var R,b;(R=I.error)!=null&&R.message?l((b=I.error)==null?void 0:b.message):l("")},T=async I=>{var R;I.preventDefault();try{d(!0);const M=(R=(await x7({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:R.clientSecret,{paymentIntent:V}=await h.confirmCardPayment(M,{payment_method:{card:m.getElement(FP)}});await yD.collection("users").doc(n.uid).collection("orders").doc(V.id).set({basket:e,amount:V.amount,created:V.created}),t({type:$r.EMPTY_BASKET}),d(!1),g("/orders",{state:{msg:"you have placed new order"}})}catch{d(!1),alert("payment failed.please try again")}};return N.jsxs(bc,{children:[N.jsxs("div",{className:vs.payment__header,children:["Checkout ",r," items"]}),N.jsxs("section",{className:vs.Payment,children:[N.jsxs("div",{className:vs.flex,children:[N.jsx("h3",{children:"Delivery Address"}),N.jsxs("div",{children:[N.jsx("div",{children:n&&n.email?n.email:"No email available"}),N.jsx("div",{children:"123 React Lane"}),N.jsx("div",{children:"Chicago, IL"})]})]}),N.jsx("hr",{}),N.jsxs("div",{className:vs.flex,children:[N.jsx("h3",{children:"Review items and delivery"}),N.jsx("div",{children:e==null?void 0:e.map(I=>N.jsx(hc,{product:I,flex:!0}))})]}),N.jsx("hr",{}),N.jsxs("div",{className:vs.flex,children:[N.jsx("h3",{children:"Payment methods"}),N.jsx("div",{className:vs.payment__card__container,children:N.jsx("div",{className:vs.payment__details,children:N.jsxs("form",{onSubmit:T,children:[s&&N.jsx("small",{style:{color:"red"},children:s}),N.jsx(FP,{onChange:_}),N.jsxs("div",{className:vs.payment__price,children:[N.jsx("div",{children:N.jsxs("span",{style:{display:"flex",gap:"10px"},children:[N.jsx("p",{children:" Total Order | "})," ",N.jsx(UE,{amount:i})]})}),N.jsx("button",{type:"submit",children:u?N.jsxs("div",{className:vs.loading,children:[N.jsx(yw,{color:"gray",size:12}),N.jsx("p",{children:"Please wait ..."})]}):" Pay Now"})]})]})})})]})]})]})}const N7="_container_sl2ga_1",D7="_orders__container_sl2ga_9",UP={container:N7,orders__container:D7};function L7(){const[{user:n},e]=K.useContext(Fs),[t,r]=K.useState([]);return K.useEffect(()=>{n?yD.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(s=>({id:s.id,data:s.data([])})))}):r()},[]),N.jsx(bc,{children:N.jsx("section",{className:UP.container,children:N.jsxs("div",{className:UP.orders__container,children:[N.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)===0&&N.jsx("div",{style:{padding:"20px"},children:"  you don't have orders. yet "}),N.jsx("div",{children:t==null?void 0:t.map((i,s)=>{var l,u;return N.jsxs("div",{children:[N.jsx("hr",{}),N.jsxs("p",{children:["Order ID:",i.id]}),(u=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:u.map(d=>N.jsx(hc,{flex:!0,product:d},d.id))]},s)})})]})})})}const V7="_container_dbwzs_1",M7="_cart_product_dbwzs_21",F7="_btn_container_dbwzs_31",U7="_btn_dbwzs_31",j7="_subtotal_dbwzs_75",$7="_cart__container_dbwzs_81",ka={container:V7,cart_product:M7,btn_container:F7,btn:U7,subtotal:j7,cart__container:$7};function B7(n){return fc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function z7(n){return fc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function W7(){const[{basket:n,user:e},t]=K.useContext(Fs),r=n.reduce((l,u)=>u.price*u.amount+l,0),i=l=>{t({type:$r.ADD_TO_BASKET,item:l})},s=l=>{t({type:$r.REMOVE_FROM_BASKET,id:l})};return N.jsx(bc,{children:N.jsxs("section",{className:ka.container,children:[N.jsxs("div",{className:ka.cart__container,children:[N.jsx("h2",{children:"Hello"}),N.jsx("h3",{children:"Your Shopping Basket"}),N.jsx("hr",{}),(n==null?void 0:n.length)==0?N.jsx("p",{children:" Opps ! No Item in your cart"}):n==null?void 0:n.map((l,u)=>N.jsxs("section",{className:ka.cart_product,children:[N.jsx(hc,{product:l,renderDesc:!0,renderAdd:!1,flex:!0},u),N.jsxs("div",{className:ka.btn_container,children:[N.jsx("button",{className:ka.btn,onClick:()=>i(l),children:N.jsx(z7,{size:20})}),N.jsx("span",{children:l.amount}),N.jsx("button",{className:ka.btn,onClick:()=>s(l.id),children:N.jsx(B7,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&N.jsxs("div",{className:ka.subtotal,children:[N.jsxs("div",{children:[N.jsxs("p",{children:["SubTotal (",n==null?void 0:n.length," items)"]}),N.jsx(UE,{amount:r})]}),N.jsxs("span",{children:[N.jsx("input",{type:"checkbox"}),N.jsx("small",{children:"This Order Contain a gift"})]}),N.jsx(di,{to:"/payments",children:"Continue to checkout"})]})]})})}const RD="https://fakestoreapi.com";function q7(){const{productId:n}=JP(),[e,t]=K.useState({}),[r,i]=K.useState(!1);return K.useEffect(()=>{i(!0),bt.get(`${RD}/products/${n}`).then(s=>{t(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),N.jsx(bc,{children:r?N.jsx(jE,{}):N.jsx(hc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}const H7="_products_container_1rpzj_1",K7={products_container:H7};function G7(){const[n,e]=K.useState([]),[t,r]=K.useState(!1),{categoryName:i}=JP();return K.useEffect(()=>{r(!0),bt.get(`${RD}/products/category/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),N.jsx(bc,{children:N.jsxs("section",{children:[N.jsx("h1",{style:{padding:"30px"},children:"Results"}),N.jsxs("p",{style:{padding:"30px"},children:[" Category / ",i," "]}),N.jsx("hr",{}),t?N.jsx(jE,{}):N.jsx("div",{className:K7.products_container,children:n==null?void 0:n.map(s=>N.jsx(hc,{product:s,renderDesc:!1,renderAdd:!0},s.id))})]})})}var AD="https://js.stripe.com",Q7="".concat(AD,"/v3"),Y7=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,J7=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var X7=function(e){return Y7.test(e)||J7.test(e)},Z7=function(){for(var e=document.querySelectorAll('script[src^="'.concat(AD,'"]')),t=0;t<e.length;t++){var r=e[t];if(X7(r.src))return r}return null},jP=function(e){var t="",r=document.createElement("script");r.src="".concat(Q7).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},eQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.9.2",startTime:t})},zd=null,sm=null,om=null,tQ=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},nQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},rQ=function(e){return zd!==null?zd:(zd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=Z7();if(!(i&&e)){if(!i)i=jP(e);else if(i&&om!==null&&sm!==null){var s;i.removeEventListener("load",om),i.removeEventListener("error",sm),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=jP(e)}}om=nQ(t,r),sm=tQ(r),i.addEventListener("load",om),i.addEventListener("error",sm)}catch(l){r(l);return}}),zd.catch(function(t){return zd=null,Promise.reject(t)}))},iQ=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return eQ(i,r),i},Wd,bD=!1,PD=function(){return Wd||(Wd=rQ(null).catch(function(e){return Wd=null,Promise.reject(e)}),Wd)};Promise.resolve().then(function(){return PD()}).catch(function(n){bD||console.warn(n)});var sQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];bD=!0;var i=Date.now();return PD().then(function(s){return iQ(s,t,i)})};function $P({children:n,msg:e,redirect:t}){const r=Rg(),[{user:i},s]=K.useContext(Fs);return K.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n}const oQ=sQ("pk_test_51Qxhzc06V7sjtmR1D5EEaSOAZtbuhloduBiYlrkxoSKfelffNZTmrB9HPNywLUrxa3VYchrdWWaqARXKdsBZuy2e00WmtHHLi7");function aQ(){return N.jsx(nM,{basename:"/Amazon-Clone",children:N.jsxs(OV,{children:[N.jsx(Io,{path:"/",element:N.jsx(r7,{})}),N.jsx(Io,{path:"/auth",element:N.jsx(l7,{})}),N.jsx(Io,{path:"/payments",element:N.jsx($P,{msg:"you must login to pay",redirect:"/payments",children:N.jsx(TD,{stripe:oQ,children:N.jsx(O7,{})})})}),N.jsx(Io,{path:"/orders",element:N.jsx($P,{msg:"you must log in to access orders",redirect:"/orders",children:N.jsx(L7,{})})}),N.jsx(Io,{path:"/category/:categoryName",element:N.jsx(G7,{})}),N.jsx(Io,{path:"/products/:productId",element:N.jsx(q7,{})}),N.jsx(Io,{path:"/cart",element:N.jsx(W7,{})})]})})}function lQ(){const[{user:n},e]=K.useContext(Fs);return K.useEffect(()=>{Tg.onAuthStateChanged(t=>{e(t?{type:$r.SET_USER,user:t}:{type:$r.SET_USER,user:null})})},[]),N.jsx(N.Fragment,{children:N.jsx(aQ,{})})}const CD={basket:[],user:null},uQ=(n=CD,e)=>{switch(e.type){case $r.ADD_TO_BASKET:if(n.basket.find(s=>s.id===e.item.id)){const s=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:s}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case $r.REMOVE_FROM_BASKET:const r=n.basket.findIndex(s=>s.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case $r.EMPTY_BASKET:return{...n,basket:[]};case $r.SET_USER:return{...n,user:e.user};default:return n}};BL.createRoot(document.getElementById("root")).render(N.jsx(K.StrictMode,{children:N.jsx(Y$,{reducer:uQ,initialState:CD,children:N.jsx(lQ,{})})}));
